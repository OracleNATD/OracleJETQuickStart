/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(a,g){function b(a,b,e,f,g,k,l){this.pd=a;this.vAa=b;this.wy=e;this.eI=f;g&&(g.$Ja&&(this.OAa=g.$Ja),g.MJa&&(this.gAa=g.MJa),g.Jia&&(this.PAa=g.Jia),g.qia&&(this.hAa=g.qia),g.Iia&&(this.NAa=g.Iia),g.pia&&(this.fAa=g.pia));k&&(k.kja&&(this.lca=k.kja),k.aHa&&(this.PS=k.aHa),k.YFa&&(this.ev=k.YFa),k.bl&&(this.XH=k.bl),k.zm&&(this.YK=k.zm),k.aF&&(this.Wh=k.aF),k.lG&&(this.kg=k.lG),k.aha&&(this.XJ=k.aha),k.sfa&&(this.GS=k.sfa));l&&(l.Aia&&(this.Haa=
l.Aia),l.Vea&&(this.n5=l.Vea),l.zha&&(this.Qv=l.zha),l.dha&&(this.bz=l.dha));this.cI=!0;this.My=0;a=navigator.userAgent.toLowerCase();if(-1!==a.indexOf("gecko/"))this.Kpa=!0;else if(-1!==a.indexOf("opera"))this.Lpa=!0;else if(-1!==a.indexOf("applewebkit")||-1!==a.indexOf("safari"))this.Mpa=!0}b.prototype.Xn=function(a){var d=this;if(a){this.xra();this.Pra(this.OAa,this.PAa,this.NAa);this.Bra(this.gAa,this.hAa,this.fAa);var e=this.Zj;this.s4=e.offsetWidth;this.r4=e.offsetHeight;this.bK();this.$J();
this.RD=function(a){d.jxa(a)};b.Vh(this.pd,"mousewheel",this.RD);b.Vh(this.pd,"wheel",this.RD);this.UW=function(a){d.wU(a)};b.Vh(this.Og,"touchstart",this.UW);this.SW=function(a){d.vU(a)};b.Vh(this.Og,"touchmove",this.SW);this.NE=function(a){d.tU(a)};b.Vh(this.Og,"touchend",this.NE);b.Vh(this.Og,"touchcancel",this.NE);this.xV=0}else this.zba();this.LR();this.Q3(a);this.Mg(!0);a&&this.XH&&(this.Tj=function(){d.Mg(!1)},this.XH.call(this.ev,this.pd,this.Tj),this.XH.call(this.ev,this.Nl,this.Tj))};b.prototype.destroy=
function(){var a=this.pd;b.jg(a,"mousewheel",this.RD);b.jg(a,"wheel",this.RD);b.jg(this.Og,"touchstart",this.UW);b.jg(this.Og,"touchmove",this.SW);b.jg(this.Og,"touchend",this.NE);b.jg(this.Og,"touchcancel",this.NE);this.NE=this.SW=this.UW=this.RD=null;this.YK&&this.Tj&&(this.YK.call(this.ev,a,this.Tj),this.YK.call(this.ev,this.Nl,this.Tj));this.Tj=null;this.kCa(this.Nl,a);a.removeChild(this.Og);a.removeChild(this.Zj);a.removeChild(this.wd);this.Nl=this.Og=this.wd=this.Zj=null;this.LR();this.wy=this.ev=
this.GS=this.XJ=this.kg=this.Wh=this.YK=this.XH=this.PS=this.lca=this.pd=null};b.prototype.wF=function(){this.Mg(!1)};b.prototype.QKa=function(a){this.kw(a,!0)};b.prototype.EHa=function(){return this.Yi()};b.prototype.lCa=function(a,b){for(var e=a.childNodes;0<e.length;){var f=e[0];b.appendChild(f);1===f.nodeType&&this.Qv&&this.Wh(f,this.Qv)}};b.prototype.kCa=function(a,b){if(a)for(var e=a.childNodes;0<e.length;){var f=e[0];b.appendChild(f);1===f.nodeType&&this.Qv&&this.kg(f,this.Qv)}};b.aD=function(a){var b=
a.ownerDocument.defaultView,e=null;return e=b?b.getComputedStyle(a,null):a.currentStyle};b.oua=function(a){a=b.aD(a);return b.Xi(a.width)};b.nua=function(a){a=b.aD(a);return b.Xi(a.height)};b.Xi=function(a){return 0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0};b.Vh=function(a,b,e){a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent&&a.attachEvent("on"+b,e)};b.jg=function(a,b,e){a.removeEventListener?a.removeEventListener(b,e,!1):a.detachEvent&&a.detachEvent("on"+b,e)};b.Ava=
function(a){var b=0;return b=null!=a.wheelDelta?a.wheelDelta:null!=a.deltaY?-a.deltaY:-a.detail};b.bMa=function(){var a=document.createElement("div");a.style.display="table";return a};b.cMa=function(){var a=document.createElement("div");a.style.display="table-row";return a};b.aMa=function(){var a=document.createElement("div");a.style.display="table-cell";return a};b.OMa=function(a,b,e,f){var g=document.createElement("div"),k=g.style;k.display="inline-block";g.appendChild(a);b.appendChild(g);e&&(k.maxWidth=
g.offsetWidth+"px");f&&(k.maxHeight=g.offsetHeight+"px");return g};b.prototype.vd=function(){return"horizontal"===this.vAa};b.prototype.Pya=function(){return!this.m7().hasChildNodes()};b.prototype.zba=function(){this.xV=this.Yi();this.rW(0);this.bK();this.$J()};b.prototype.LR=function(){this.rL=this.Pf=null};b.prototype.Mg=function(a){a||this.zba();this.LR();this.Pf&&this.rL||(this.Pf=this.eaa());a||this.Q3(!1);this.qpa()};b.prototype.qpa=function(){var a=this.Zj.style,b=this.wd.style,e=this.Nl,f=
this.Pf;this.vd()?(e=.5*(f.lk-e.offsetHeight),a.top=e+"px",b.top=e+"px"):(e=.5*(f.Ei-e.offsetWidth),this.eI&&(e=-e),a.left=e+"px",b.left=e+"px")};b.prototype.Q3=function(a){var d=this.Nl,e=this.vd(),f=e?b.oua(this.pd):b.nua(this.pd);this.PD=0;this.ND=e?d.offsetWidth-f+this.s4:d.offsetHeight-f+this.r4;0>this.ND&&(this.ND=0);this.bK();this.$J();this.kw(a?this.PD:this.xV,!0);this.xV=0};b.prototype.xra=function(){var a=this,d=this.pd,e=document.createElement("div");this.Og=e;this.Haa&&this.Wh(e,this.Haa);
var f=document.createElement("div");this.Nl=f;this.n5&&this.Wh(f,this.n5);this.lCa(d,f);d.appendChild(e);e.appendChild(f);b.Vh(e,"scroll",function(){a.vxa()})};b.prototype.bua=function(){for(var a=[],b=this.wy?this.wy:this.Nl,e=b.children,f=e.length,g=0;g<f;g++){var k=e[g];1===k.nodeType&&a.push(k)}this.GS&&(g=this.GS,a=g(a));if(b===this.Nl&&this.Qv)for(g=0;g<a.length;g++)b=a[g],this.XJ(b,this.Qv)||this.Wh(b,this.Qv);return a};b.prototype.Pra=function(a,d,e){var f=this,g=document.createElement("div");
this.wd=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");b.Vh(g,"click",function(){f.nca()});e&&g.appendChild(e);this.pd.insertBefore(g,this.Og)};b.prototype.Bra=function(a,d,e){var f=this,g=document.createElement("div");this.Zj=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");b.Vh(g,"click",function(){f.mca()});e&&g.appendChild(e);this.pd.appendChild(g)};b.prototype.m7=function(){var a=this.wy;a||(a=this.Nl);return a};
b.prototype.eaa=function(){var a=this.m7(),b=this.bua(),e={Ei:0,lk:0},f=[];if(a.hasChildNodes()&&b&&0<b.length)for(var a=this.vd(),g=0,g=this.Nl.offsetWidth,k=0,l=null,m=0;m<b.length;m++){var r=b[m];if(1===r.nodeType){var t=r.offsetWidth,s=r.offsetHeight,q={Ei:t,lk:s,id:r.id};if(a){var p=r.offsetLeft;this.wy||0!==p||(r=r.parentNode,p=r.offsetLeft);q.start=this.eI?g-(p+t):p;0===m&&(k=q.start);q.start-=k;e.Ei=q.start+t;e.lk=Math.max(e.lk,s);q.end=e.Ei-1}else p=r.offsetTop,this.wy||0!==p||(r=r.parentNode,
p=r.offsetTop),q.start=p,e.Ei=Math.max(e.Ei,t),e.lk=q.start+s,q.end=e.lk-1;l&&l.end>=q.start&&(t=l.end-(q.start-1),l.end-=t,a?l.Ei-=t:l.lk-=t);f.push(q);l=q}}this.rL=f;return e};b.prototype.Zy=function(){if(!this.rL){var a=this.eaa();this.Pf||(this.Pf=a)}return this.rL};b.prototype.ZDa=function(){this.kg(this.Zj,this.bz)};b.prototype.$Da=function(){this.kg(this.wd,this.bz)};b.prototype.$J=function(){this.Wh(this.Zj,this.bz)};b.prototype.bK=function(){this.Wh(this.wd,this.bz)};b.prototype.kz=function(){return!this.XJ(this.Zj,
this.bz)};b.prototype.FD=function(){return!this.XJ(this.wd,this.bz)};b.prototype.TS=function(){return this.vd()?this.s4:this.r4};b.prototype.TEa=function(a){var b=this.TS(),e=this.Yi(),f=this.CK();a<=this.PD?(this.FD()&&(e-=b),this.bK()):f&&(this.FD()||(e+=b),this.$Da());a>=this.ND?(this.kz(),this.$J()):f&&(this.kz(),this.ZDa());this.rW(e)};b.prototype.rW=function(a){var b=this.Og;this.vd()?b.scrollLeft=this.UR(a):b.scrollTop=a};b.prototype.cD=function(){var a=this.Og;return this.vd()?a.offsetWidth:
a.offsetHeight};b.prototype.kw=function(a,b){this.qs||(this.cI=!1,this.zca(a,b))};b.prototype.zca=function(a,d){if(!this.Pya()){this.qs=!0;a=this.Zqa(a);this.TEa(a);var e=this.lca;if(d||!e||a===this.Yi())this.Aaa(this.cI?this.Yi():a);else{var f=this;e.call(this.ev,this.Og,this.UR(a),Math.abs(this.Yi()-a)/b.Qna,function(){f.Aaa(a)})}}};b.prototype.Yi=function(){var a=this.Og;return this.vd()?this.gra(a.scrollLeft):a.scrollTop};b.prototype.CK=function(){var a=this.Nl,b=this.Og;return this.vd()?a.offsetWidth>
b.offsetWidth:a.offsetHeight>b.offsetHeight};b.prototype.Zqa=function(a){!this.CK()||a<this.PD?a=this.PD:a>this.ND&&(a=this.ND);return a};b.prototype.jxa=function(a){var d=this.qs;if(this.CK()&&!this.qs){var e=b.Ava(a);0>e&&this.kz()?(d=!0,this.mca()):0<e&&this.FD()&&(d=!0,this.nca())}d&&(a.preventDefault(),a.stopPropagation())};b.prototype.wU=function(a){a=a.touches;this.CK()&&!this.qs&&1===a.length&&(this.Ml=!0,a=a[0],this.zL=this.vd()?a.pageX:a.pageY,this.VW=this.Yi(),this.HEa=this.A4(),this.IEa=
this.B4(),this.Sda=this.kz(),this.Tda=this.FD())};b.prototype.vU=function(a){var d=this.vd(),e=a.touches[0],e=(d?e.pageX:e.pageY)-this.zL,f=d&&this.eI?0<e:0>e,g=f&&this.Sda||!f&&this.Tda;if(this.Ml&&g){g=this.Og;if(Math.abs(e)<b.goa*(d?g.offsetWidth:g.offsetHeight)){if(this.kw(this.VW-e,!0),this.Sda&&!this.kz()||this.Tda&&!this.FD())this.Ml=!1}else this.kw(f?this.HEa:this.IEa,!1),this.Ml=!1;this.jw=!0}this.jw&&(a.preventDefault(),a.stopPropagation())};b.prototype.tU=function(){this.Ml&&this.kw(this.VW,
!1);this.jw=this.Ml=!1};b.prototype.vxa=function(){this.cI&&!this.qs&&this.zca(this.Yi(),!0)};b.prototype.Aaa=function(a){this.rW(a);this.cI=!0;this.qs=!1;if(this.PS){this.My=this.y4();a=this.z4();var b=this.Zy(),e=b[this.My];this.My!==a&&this.Yi()>e.start&&this.My<b.length-2&&(this.My++,e=b[this.My]);this.yta=e.id;this.PS.call(this.ev,this.yta)}};b.prototype.mca=function(){this.qs||this.kw(this.A4(),!1)};b.prototype.nca=function(){this.qs||this.kw(this.B4(),!1)};b.prototype.A4=function(){var a=this.hqa(),
b=0;return b=a===this.y4()?this.Yi()+this.cD():this.jqa(a)};b.prototype.B4=function(){var a=this.iqa(),b=0,b=a===this.z4()?this.Yi()-this.cD():this.gqa(a);this.kz()||(b+=this.TS());b<this.TS()&&(b=this.PD);return b};b.prototype.jqa=function(a){return this.Zy()[a].start};b.prototype.gqa=function(a){return this.Zy()[a].end-this.cD()+1};b.prototype.y4=function(){var a=this.iI(this.Yi());return 0>a?0:a};b.prototype.z4=function(){var a=this.iI(this.Yi()+this.cD()-1),b=this.Zy();return 0>a?b.length-1:a};
b.prototype.iqa=function(){var a=this.iI(this.Yi()-1);return 0>a?0:a};b.prototype.hqa=function(){var a=this.iI(this.Yi()+this.cD()),b=this.Zy();return 0>a?b.length-1:a};b.prototype.iI=function(a){for(var b=this.Zy(),e=0;e<b.length;e++)if(a<=b[e].end)return e;return-1};b.prototype.UR=function(a){var b=a;if(this.eI&&this.vd())if(this.Kpa)b=-a;else if(this.Mpa||this.Lpa)b=this.Nl.offsetWidth-this.Og.offsetWidth-a;return b};b.prototype.gra=function(a){return this.UR(a)};b.Qna=1.1;b.goa=.33;(function(){a.Pa("oj.ojConveyorBelt",
g.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{orientation:"horizontal",contentParent:null},_ComponentCreate:function(){this._super();this.element.addClass("oj-conveyorbelt oj-component");this.options.disabled&&a.t.warn(c);this.ab(!0)},refresh:function(){this._super();var a=this.ts.EHa();this.mS();this.ab(!0);this.ts.QKa(a)},fq:function(){this._super();this.Me?this.ab(this.Me[0]):this.ts&&this.ts.wF()},dq:function(){this._super();this.Me&&this.ab(this.Me[0])},ab:function(c){var e=
this,f=this.element,h=this.options,k=h.orientation;"vertical"===k?f.addClass("oj-conveyorbelt-vertical"):f.removeClass("oj-conveyorbelt-vertical");if(this.sC()){this.Me=null;this.Ti="rtl"===this.nd();if(c&&!this.ts){var l=null,m=null,r=null,t=null,s=null;"vertical"!==k?(l="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",m="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",r=this.tI("oj-conveyorbelt-overflow-icon oj-start"),t=this.tI("oj-conveyorbelt-overflow-icon oj-end"),
s=this.upa):(l="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",m="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",r=this.tI("oj-conveyorbelt-overflow-icon oj-top"),t=this.tI("oj-conveyorbelt-overflow-icon oj-bottom"),s=this.vpa);var q={};q.Jia=l;q.qia=m;q.Iia=r;q.pia=t;l={};l.bl=a.C.bl;l.zm=a.C.zm;l.aF=this.epa;l.lG=this.YBa;l.aha=this.yU;l.sfa=function(a){return e.rta(a)};"enabled"!==a.ga.pY()&&(l.kja=s);s=null;h.contentParent&&(s=g(h.contentParent)[0]);this.ts=
new b(f[0],k,s,this.Ti,q,l,{Aia:"oj-conveyorbelt-overflow-container",Vea:"oj-conveyorbelt-content-container",zha:"oj-conveyorbelt-item",dha:"oj-helper-hidden"})}this.ts.Xn(c);if(c)for(c=f.find(".oj-conveyorbelt-overflow-indicator"),f=0;f<c.length;f++)this.KDa(g(c[f]))}else f=!1,this.Me&&(f=this.Me[0]),this.Me=[c||f]},_destroy:function(){this.mS();this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical");this._super()},_setOption:function(b,e,f){var g=!1,k=this.options;switch(b){case "containerParent":case "orientation":g=
k.orientation!=e;break;case "disabled":a.t.warn(c)}g&&this.mS();this._super(b,e,f);g&&this.ab(!0)},mS:function(){var a=this.ts;a&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),a.destroy());this.ts=null},sC:function(){var a=document.createElement("div"),b=a.style;b.width="10px";b.height="10px";b["-webkit-flex"]="0 0 auto";b.flex="0 0 auto";b=this.element[0];b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(g){}b.removeChild(a);return c},KDa:function(a){this.We({element:a,
afterToggle:function(b){"mouseenter"===b?a.removeClass("oj-default"):"mouseleave"===b&&a.addClass("oj-default")}});this.Gk({element:a,afterToggle:function(b){"mousedown"===b||"touchstart"===b?a.removeClass("oj-default"):"mouseup"!==b&&"touchend"!==b&&"touchcancel"!==b||a.addClass("oj-default")}})},tI:function(a){var b=document.createElement("span");b.setAttribute("class","oj-component-icon "+a);return b},upa:function(a,b,c,h){var k={};k.scrollLeft=b;g(a).animate(k,c,"swing",h)},vpa:function(a,b,c,
h){var k={};k.scrollTop=b;g(a).animate(k,c,"swing",h)},epa:function(a,b){g(a).addClass(b)},YBa:function(a,b){g(a).removeClass(b)},yU:function(a,b){return g(a).hasClass(b)},rta:function(a){for(var b=[],c=0;c<a.length;c++){var g=a[c];this.yU(g,"oj-helper-detect-expansion")||this.yU(g,"oj-helper-detect-contraction")||b.push(g)}return b},getNodeBySubId:function(a){if(null==a)return this.element?this.element[0]:null;a=a.subId;return"oj-conveyorbelt-start-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:
"oj-conveyorbelt-end-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(a){for(var b=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),c=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),
g=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),k=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),l=this.element[0];a&&a!=l;){if(a===b)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(a===c)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(a===g)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(a===k)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};a=a.parentElement}return null}});var c="JET ConveyorBelt: 'disabled' option not supported"})();
a.Components.Wa("ojConveyorBelt","baseComponent",{properties:{contentParent:{type:"string"},disabled:{type:"boolean"},orientation:{type:"string"}},methods:{refresh:{}},extension:{_widgetName:"ojConveyorBelt"}});a.Components.register("oj-conveyor-belt",a.Components.getMetadata("ojConveyorBelt"))});