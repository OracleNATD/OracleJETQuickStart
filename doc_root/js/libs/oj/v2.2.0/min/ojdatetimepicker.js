/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","hammerjs","ojs/ojeditablevalue","ojs/ojinputtext","ojs/ojvalidation","ojs/ojpopup","ojs/ojbutton","ojs/ojanimation"],function(a,g,b){function c(b,c){c=b.parse(c);var d=a.Na._dateTime(c,"date fullYear month hours minutes seconds".split(" "),!0),e=new Date;e.setFullYear(d.fullYear);e.setDate(d.date);e.setMonth(d.month);e.setHours(d.hours);e.setMinutes(d.minutes);e.setSeconds(d.seconds);e.setMilliseconds(0);return e}function d(a){return this.options.converter.parse(a)}
function e(b,c){var d=b.translations.dateTimeRange||{},e=[{category:"hint",entries:["min","max","inRange"]},{category:"messageDetail",entries:["rangeUnderflow","rangeOverflow"]},{category:"messageSummary",entries:["rangeUnderflow","rangeOverflow"]}],f={min:b.min,max:b.max,converter:c};if(!g.isEmptyObject(d))for(var h=0,k=e.length;h<k;h++){var n=d[e[h].category];if(n){for(var l={},u=e[h].entries,p=0,m=u.length;p<m;p++)l[u[p]]=n[u[p]];f[e[h].category]=l}}return a.Aa.rx(a.Ve.VALIDATOR_TYPE_DATETIMERANGE).createValidator(f)}
function f(a,b){var c=a.filter("span");b?c.addClass("oj-disabled").removeClass("oj-enabled oj-default"):c.removeClass("oj-disabled").addClass("oj-enabled oj-default")}function h(a,b,c){if(!a||b===c.length)return a;var d=b+1;return h(a[c[b]],d,c)||h(a["*"],d,c)}function k(a){return a.delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-calendar td a",
"mouseout",function(){g(this).removeClass("oj-hover")}).delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-calendar td a","mouseover",function(){g(this).addClass("oj-hover")}).delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-calendar td a",
"focus",function(){g(this).addClass("oj-focus")}).delegate(".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-calendar td a","blur",function(){g(this).removeClass("oj-focus")})}function l(a){var b=g(a.element[0]).parent().parent();a.Gk(b)}function m(a){return"native"===a.options.renderMode&&window.cordova&&window.datePicker}function r(a){a=
a.split(":");if(4!==a.length)throw Error("timeIncrement value should be in the format of hh:mm:ss:SSS");a={WM:parseInt(a[0].substring(0),10),JN:parseInt(a[1],10),IKa:parseInt(a[2],10),HJa:parseInt(a[3],10)};var b=0,c;for(c in a)b+=a[c];if(0===b)throw Error("timeIncrement must have a non 00:00:00:000 value");return a}function t(b,c){var d=b.resolvedOptions(),e={},f="hour hour12 minute second millisecond timeFormat timeZone timeZoneName isoStrFormat dst".split(" "),h,k;h=0;for(k=f.length;h<k;h++)f[h]in
d&&("timeFormat"===f[h]&&(e.formatType="time"),e[f[h]]=d[f[h]]);if(g.isEmptyObject(e))throw Error("Empty object for creating a time picker converter");g.extend(e,c||{});return a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter(e)}function s(a,b){function c(a){e.classList.remove("oj-timepicker-wheel-item-position"+f);e.classList.add("oj-timepicker-wheel-item-position"+a);f=a;return Promise.resolve()}function d(){e.parentNode.focus()}var e,f,h=!1,k=a.getText(b);if(k){e=document.createElement("div");
e.classList.add("oj-timepicker-wheel-item");e.classList.add("oj-timepicker-wheel-item-position"+b);f=b;a.fJa(b)&&(h=!0,e.classList.add("oj-disabled"));e.TJa=c;var n=document.createElement("div");n.textContent=k;n.classList.add("oj-timepicker-wheel-item-content");e.appendChild(n);Object.defineProperty(e,"ojDisabled",{enumerable:!0,get:function(){return h},set:function(a){a!==h&&(g(e).toggleClass("oj-disabled"),h=a)}});e.addEventListener("focus",d,!1);n.addEventListener("focus",d,!1)}return e}function q(a,
c,d){function e(){if(U[K+1]){h(1);var b=U.shift();b&&G.removeChild(b);(b=s(a,K))&&G.appendChild(b);U.push(b)}}function f(){if(U[K-1]){h(-1);var b=U.pop();b&&G.removeChild(b);(b=s(a,-K))&&G.insertBefore(b,U[0]);U.unshift(b)}}function h(b){for(var c=0;c<U.length;c++){var d=U[c];d&&d.TJa(c-K-b)}G.setAttribute("aria-valuenow",a.getText(0))}function k(){U.forEach(function(a){a&&G.removeChild(a)});U=[];for(var b=-K;b<=K;b++){var c=s(a,b);c&&G.appendChild(c);U.push(c)}G.setAttribute("aria-valuenow",a.getText(0))}
function n(b){var d=b.keyCode;switch(d){case Z:a.position++;b.preventDefault();break;case O:a.position--;b.preventDefault();break;case V:a.Bha=a.Bha.slice(0,-1);b.preventDefault();break;default:if(47<d&&58>d||95<d&&112>d||!c&&64<d&&91>d)a.keyboardValue+=b.key}}function l(b){G.focus();b=b.center.y;var c=W.offset().top,d=W.height();b=(b-c)/d;for(c=0;4>c&&b>F[c];)c++;2!==c&&(a.position+=c-2)}function u(a){G.focus();var b=a.velocityY;T=Math.floor(b*b/R/W.height()*5);a.preventDefault()}function p(a){G.focus();
var b=a.velocityY;T=-Math.floor(b*b/R/W.height()*5);a.preventDefault()}function m(a){G.focus();P=da=a.center.y;T=X=0}function v(){G.focus();T&&(a.position+=T);X=P=da=null}function r(b){G.focus();var c=b.center.y,d=Math.round((P-c)/W.height()*5);d!==X&&Math.abs(da-c)>S&&(da=c,a.position+=d-X,X=d);b.preventDefault()}function t(b){b.deltaY&&(b.currentTarget.focus(),b.preventDefault());0>b.deltaY&&a.position++;0<b.deltaY&&a.position--}function N(){a.Bha="";G.classList.add("oj-focus")}function Y(){G.classList.remove("oj-focus");
a.update()}var K=7,S=2,F=[.152,.362,.638,.848],R=.007,V=8,Z=38,O=40,G,U=[],P,da,X,T;(function(b){G=document.createElement("div");G.classList.add("oj-timepicker-wheel");b&&G.classList.add(b);G.setAttribute("id","_ojWheel"+q.jGa++);G.setAttribute("tabIndex","0");G.setAttribute("role","spinbutton");a.sx=G})(d);var W=g(G);(function(){G.SJa=e;G.RJa=f;G.wia=k;G.via=function(){return a.linked}})();(function(){var a=new b(G);a.get("pan").set({direction:b.DIRECTION_VERTICAL});a.get("swipe").set({direction:b.DIRECTION_VERTICAL});
a.on("tap",l);a.on("swipeup",u);a.on("swipedown",p);a.on("panstart",m);a.on("panend pancancel",v);a.on("panup pandown",r);G.addEventListener("wheel",t,!1);G.addEventListener("keydown",n,!1);G.addEventListener("focus",N,!1);G.addEventListener("blur",Y,!1)})();k();return G}function p(){function a(c){try{if(da=!0,c)for(var d in c)X[d]=c[d]}finally{da=!1,b()}}function b(){if(!da){r=Math.ceil(q/v)*v;t=Math.ceil((s-1)/v)*v;if(t<r)throw Error("Invalid min and max settings with current increment: "+q+" "+
s+ +v);m<r&&(m=r);m>t&&(m=t);m=Math.round(m/v)*v;if(F){G.displayRange=12;var a=R;"auto"===a&&(a=k(v,60),a=a===v||60===a?"hoursMeridiem":"all");switch(a){case "all":O.displayMultiplier=1;O.valueMultiplier=1;O.valueRange=1440;O.linked=!0;G.displayMultiplier=60;G.valueMultiplier=1;G.valueRange=1440;G.linked=!0;U.displayMultiplier=1;U.valueMultiplier=720;U.valueRange=2;U.linked=!0;break;case "none":O.displayMultiplier=1;O.valueMultiplier=1;O.valueRange=60;O.linked=!1;G.displayMultiplier=1;G.valueMultiplier=
60;G.valueRange=12;G.linked=!1;U.displayMultiplier=1;U.valueMultiplier=720;U.valueRange=2;U.linked=!1;break;case "hoursMinutes":O.displayMultiplier=1;O.valueMultiplier=1;O.valueRange=720;O.linked=!0;G.displayMultiplier=60;G.valueMultiplier=1;G.valueRange=720;G.linked=!0;U.displayMultiplier=1;U.valueMultiplier=720;U.valueRange=2;U.linked=!1;break;case "hoursMeridiem":O.displayMultiplier=1,O.valueMultiplier=1,O.valueRange=60,O.linked=!1,G.displayMultiplier=1,G.valueMultiplier=60,G.valueRange=24,G.linked=
!0,U.displayMultiplier=1,U.valueMultiplier=720,U.valueRange=2,U.linked=!0}}else switch(G.VMa=24,a=R,"auto"===a&&(a=k(v,60),a=a===v||60===a?"none":"all"),a){case "none":case "hoursMeridiem":O.displayMultiplier=1;O.valueMultiplier=1;O.valueRange=60;O.linked=!1;G.displayMultiplier=1;G.valueMultiplier=60;G.valueRange=24;G.linked=!1;break;case "all":case "hoursMinutes":O.displayMultiplier=1,O.valueMultiplier=1,O.valueRange=1440,O.linked=!0,G.displayMultiplier=60,G.valueMultiplier=1,G.valueRange=1440,G.linked=
!0}for(a=0;a<P.length;a++)P[a].refresh()}}function c(a){a=n.exec(a);return 60*parseInt(a[1],10)+parseInt(a[2],10)}function d(a){a=Math.floor(a);var b=Math.floor(a/60);a%=60;return"T"+e(b)+":"+f(a)}function e(a){return("0"+a).slice(-2)}function f(a){return("0"+a).slice(-2)}function g(a){return a.match(/^\d+$/)?parseInt(a,10):-1}function h(a){return a.match(/^\d+$/)?(a=parseInt(a,10),0===a&&(a=-1),12===a&&(a=0),a):-1}function k(a,b){return 0===b?a:k(b,a%b)}var n=/^.*T(\d{2})(?::?(\d{2}).*$)/,l={h:function(a){return 0===
a?"12":""+a},hh:function(a){return 0===a?"12":("0"+a).slice(-2)},H:function(a){return""+a},HH:e,mm:f},p={h:h,hh:h,H:g,HH:g,mm:g},m=0,v,q=0,r=0,s=1440,t=1440,S,F,R="auto",V="",Z=["AM","PM"],O=new u(this,{valueRange:60,displayRange:60,valueMultiplier:1,displayMultiplier:1}),G=new u(this,{valueMultiplier:60,displayMultiplier:1}),U=new u(this,{valueRange:2,displayRange:2,formatter:function(a){return Z[a]},parser:function(a){a=a.toLowerCase().charAt();return"a"===a?0:"p"===a?1:-1},valueMultiplier:720,
displayMultiplier:1}),P=[O,G,U],da=!1,X=this;(function(){da=!0;Object.defineProperty(X,"increment",{enumerable:!0,get:function(){return v},set:function(a){v=Math.floor(a);b()}});X.increment=1;Object.defineProperty(X,"grouped",{enumerable:!0,get:function(){return R},set:function(a){switch(a){case "auto":case "all":case "none":case "hoursMinutes":case "hoursMeridiem":R=a;break;default:throw Error("invalid grouped value: "+a);}b()}});Object.defineProperty(X,"min",{enumerable:!0,get:function(){return q},
set:function(a){q=Math.floor(a);b()}});Object.defineProperty(X,"isoMin",{enumerable:!0,get:function(){return d(q)},set:function(a){var b=c(a);isNaN(b)?console.log("Invalid ISO min time: "+a):X.min=b}});Object.defineProperty(X,"max",{enumerable:!0,get:function(){return s-1},set:function(a){s=Math.floor(a)+1;b()}});Object.defineProperty(X,"isoMax",{enumerable:!0,get:function(){return d(s)},set:function(a){var b=c(a);isNaN(b)?console.log("Invalid ISO max time: "+a):X.max=b}});Object.defineProperty(X,
"value",{enumerable:!0,get:function(){return m},set:function(a){m=Math.floor(a);b()}});Object.defineProperty(X,"isoValue",{enumerable:!0,get:function(){return d(m)},set:function(a){var b=c(a);isNaN(b)?console.log("Invalid ISO value time: "+a):X.value=b}});Object.defineProperty(X,"format",{enumerable:!0,get:function(){return S},set:function(a){S=a;a=a.replace(/\'[^']*\'/g,"").replace(/[^hHma]*/g,"");V=a.replace(/(h|H)+/,"h").replace(/m+/,"m");var c=a.match(/([hH]+)/),c=c[1];G.formatter=l[c];G.parser=
p[c];c=a.match(/(m+)/);a=c[1];O.formatter=l[a];O.parser=p[a];F=0<=V.indexOf("a");b()}});Object.defineProperty(X,"wheelOrder",{enumerable:!0,get:function(){return V}});Object.defineProperty(X,"ampmStrings",{enumerable:!0,get:function(){return Z},set:function(a){Z=a}});da=!1})();X.OKa=a;a(null);X.MY=function(a){switch(a){case "hour":return G;case "minute":return O;case "ampm":return F?U:null;default:console.log("Unknown wheel type: "+a)}}}function n(a){function b(a){a=a.target;if(a.via())for(a=0;a<
f.length;a++)f[a].via()&&f[a].classList.add("oj-active");else a.classList.add("oj-active")}function c(){for(var a=0;a<f.length;a++)f[a].classList.remove("oj-active")}function d(){for(var g;g=e.firstChild;)e.removeChild(g);f=[];var h=a.wheelOrder;g=a.MY("hour");g=q(g,!0,"oj-timepicker-hour");var k=a.MY("minute"),k=q(k,!0,"oj-timepicker-minute"),n;0<=h.indexOf("a")&&(n=a.MY("ampm"),n=q(n,!1,"oj-timepicker-meridian"));for(var l=h.split(""),h=0;h<l.length;h++)switch(l[h]){case "h":f.push(g);break;case "m":f.push(k);
break;case "a":f.push(n);break;default:console.log("Unknown wheelOrder code: "+l[h])}for(h=0;h<f.length;h++)n=f[h],n.addEventListener("focus",b,!1),n.addEventListener("blur",c,!1),e.appendChild(n)}var e,f=[];e=document.createElement("div");e.classList.add("oj-timepicker-wheel-group");e.wia=d;e.addEventListener("keydown",function(a){var b=a.target;switch(a.keyCode){case 37:g(b).prev().focus();break;case 39:g(b).next().focus()}},!1);d();return e}function u(a,b){function c(a){if(a)for(var b in a)P[b]=
a[b]}function d(){var b=!1,c=a.value;P.value=g(Math.floor(c/V),v);var e=a.max,e=Math.floor(c/Z)===Math.floor(e/Z)?g(Math.floor(e/V),v)+1:v;F!==e&&(b=!0,F=e);e=a.min;c=Math.floor(c/Z)===Math.floor(e/Z)?g(Math.floor(e/V),v):0;t!==c&&(b=!0,t=c);c=a.increment;e=h(c,Z);e===Z?(t=0,F=1,b=!0):e=P.linked&&c>V?c:0===g(e,V)?e/V:1;q!==e&&(q=e,b=!0);r=Math.floor(v/q);R=4<r;P.sx&&b&&P.sx.wia()}function e(){Z=V*v;G=O*m}function f(){n.forEach(function(a){P.sx.classList.remove("oj-timepicker-wheel-spin-"+a)});var a=
Math.abs(u-p);if(0===a)U=!1;else{var b;a--;a=Math.min(a,n.length-1);b=n[a];P.sx.classList.add("oj-timepicker-wheel-spin-"+n[a]);u>p&&(p++,P.sx.SJa());u<p&&(p--,P.sx.RJa());b&&setTimeout(f.bind(P),b)}}function g(a,b){return(a%b+b)%b}function h(a,b){return 0===b?a:h(b,a%b)}function k(a,b){return Math.floor(a/Z)*Z+g(b,v)*V+g(a,V)}var n=[150,100,50,25,16],l=0,u=0,p=0,m=1,v=1,q=1,r,s="",t,F,R,V,Z,O=1,G,U=!1,P=this;(function(){Object.defineProperty(P,"position",{enumerable:!0,get:function(){return u},set:function(a){var b=
g(a,r)*q;b>=t&&b<F&&a!==u&&(P.value+=(a-u)*q)}});Object.defineProperty(P,"value",{enumerable:!0,get:function(){return l},set:function(b){b=Math.round(b/q)*q;if((R||t<=b&&b<F)&&l!==b){l=g(b,v);b=g(Math.floor(l/q),r);var c=g(P.position,r),d=b-c;R&&(b>c?c+r-b<Math.abs(d)&&(d=b-c-r):b+r-c<Math.abs(d)&&(d=b+r-c));0!==d&&(u+=d,P.sx?U||(U=!0,f.call(P)):p=u);P.linked&&(a.value=k(a.value,l))}}});Object.defineProperty(P,"increment",{enumerable:!0,get:function(){return q},set:function(a){q!==a&&(q=a,e())}});
Object.defineProperty(P,"valueMultiplier",{enumerable:!0,get:function(){return V},set:function(a){V!==a&&(V=a,e())}});Object.defineProperty(P,"valueRange",{enumerable:!0,get:function(){return v},set:function(a){v!==a&&(v=a,e())}});Object.defineProperty(P,"displayMultiplier",{enumerable:!0,get:function(){return O},set:function(a){O!==a&&(O=a,e())}});Object.defineProperty(P,"displayRange",{enumerable:!0,get:function(){return m},set:function(a){m!==a&&(m=a,e())}});Object.defineProperty(P,"keyboardValue",
{enumerable:!0,get:function(){return s},set:function(a){s=a;P.parser&&s&&(a=P.parser(s),0<=a&&(a=Math.floor(l/G)*G+g(a,m)*O+g(l,O),t<=a&&a<F&&(P.value=a)),2<=s.length?s="":setTimeout(function(){s=""},1E3))}})})();(function(){P.getText=function(a){var b,c=g(p,r)+a,c=R||0<=c&&c<r;P.formatter&&c&&(b=P.formatter(g(Math.floor(g(g(p+a,r)*q,v)/O),m)));return b};P.fJa=function(a){a=g(p+a,r)*q;return 0!==t&&a<t||F!==v&&a>=F?!0:!1};P.update=function(){a.value=k(a.value,l)};P.refresh=d;P.OKa=c})();c(b)}var v=
a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter({year:"numeric"});a.Pa("oj.ojInputDate",g.oj.inputBase,{version:"1.0.0",widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-only oj-component oj-inputdatetime",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_INPUT_HELPER_KEY:"inputHelp",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_GET_INIT_OPTIONS_PROPS:[{ha:"disabled",Td:!0},{ha:"pattern"},{ha:"title"},{ha:"placeholder"},{ha:"value",xh:d},{ha:"required",
xh:!0,Td:!0},{ha:"readonly",option:"readOnly",Td:!0},{ha:"min",xh:d},{ha:"max",xh:d}],IQ:"oj-inputdatetime-input-trigger",HQ:"oj-inputdatetime-calendar-icon",DP:"oj-datepicker-current-day",Ux:"oj-datepicker-days-cell-over",LH:"oj-datepicker-unselectable",z1:"oj-datepicker-desc",JB:"oj-datepicker-calendar",Zma:"oj-datepicker-div",Ima:"oj-datepicker-inline",OP:" oj-inputdatetime-input-container",Jma:" oj-inputdatetime-inline",bs:"selection",as:"cancelled",sH:"tab",Fg:"close",Lma:"enabled",SP:"disabled",
options:{datePicker:{footerLayout:"",changeMonth:"select",changeYear:"select",currentMonthPos:0,daysOutsideMonth:"hidden",numberOfMonths:1,showOn:"focus",stepMonths:"numberOfMonths",stepBigMonths:12,weekDisplay:"none",yearRange:"c-10:c+10"},converter:a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter({day:"2-digit",month:"2-digit",year:"2-digit"}),keyboardEdit:"enabled",max:void 0,min:void 0,pickerAttributes:null,renderMode:"jet",dayFormatter:null},kH:function(){this.Vl=this.uf=null;this.To=this.qn=
this.ED=this.dw=!1;this.Wv=4;this.Pl=this.Yh=this.Qk=this.Nj=this.qq=0;this.KC={};this.BK=null;var b=this.element[0].nodeName.toLowerCase();this.bf="div"===b||"span"===b;this.Sc=k(g("\x3cdiv id\x3d'"+this.Tm(this.Zma)+"' role\x3d'region' aria-describedby\x3d'"+this.Tm(this.z1)+"' class\x3d'oj-datepicker-content'\x3e\x3c/div\x3e"));g("body").append(this.Sc);if(this.bf)this._WIDGET_CLASS_NAMES+=this.Jma,this._CLASS_NAMES="";else{this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES+=this.OP;var c=this;this.IK=
this.Sc.ojPopup({initialFocus:"none",modality:"modeless",open:function(){"image"===c.options.datePicker.showOn&&c.Sc.find(".oj-datepicker-calendar").focus()},rootAttributes:{"class":"oj-datepicker-popup"}});(b=this.options.pickerAttributes)&&a.Ge.aO(this.IK.ojPopup("widget"),b)}},_ComponentCreate:function(){this.kH();var a=this._super();this.options.dayMetaData&&(this.options.dayFormatter=function(a){return function(b){return h(a,0,[b.fullYear,b.month,b.date])}}(this.options.dayMetaData));if(this.options.value){var b=
this.oc().format(this.options.value);this.yc(b,{})}this.fL(this.en());this.bf?(this.element.append(this.Sc),this.element.addClass(this.Ima),this.Sc.css("display","block")):(this.cw(),this.ZQ());this.Bz();l(this);return a},Ph:function(){var a=this._superApply(arguments);this.f6(this.options.disabled);return a},_setOption:function(b,c,d){var e=null;if("value"===b)return c||(c=null),e=this._super(b,c,d),this.fL(c),this.Pk()&&this.ni(!(this.bf&&this.tf&&this.tf[0]===document.activeElement)),e;if("dayMetaData"===
b)this._setOption("dayFormatter",function(a){return h(c,0,[a.fullYear,a.month,a.date])},d);else return e=this._super(b,c,d),"disabled"===b?this.f6(c):"max"===b||"min"===b?(this.KC[a.Ve.VALIDATOR_TYPE_DATETIMERANGE]=this.OJ("min"),this.Ox()):"readOnly"===b?(this.cw(),c&&this._hide(this.Fg)):"keyboardEdit"===b?this.cw():"dayFormatter"===b?(this.KC[a.Ve.VALIDATOR_TYPE_DATERESTRICTION]=this.OJ("dayFormatter"),this.Ox()):"converter"===b&&(this.BK=null),"datePicker"===b&&"currentMonthPos"===d.subkey&&this.fL(this.en()),
d={max:!0,min:!0,dayFormatter:!0,datePicker:!0,translations:!0},this.Pk()&&b in d&&this.ni(),e},cw:function(){this.element.prop("readOnly",!(!this.options.readOnly&&!this.SU()))},SU:function(){return this.options.keyboardEdit===this.SP},j1:function(){return this.uf},_destroy:function(){var a=this._super(),b=g(this.element[0]).parent().parent();this.oQ(b);this.element.off("focus touchstart");this.ck.off("touchstart");this.uf&&this.uf.remove();this.bf&&(this.element.removeProp("disabled"),this.element.removeProp("readonly"));
this.Sc.remove();return a},Pk:function(){return this.bf||this.IK.ojPopup("isOpen")||this.To},NQ:function(){this.Vl=this._superApply(arguments);this.Vl.attr({role:"combobox","aria-haspopup":"true",tabindex:"-1"})},wV:function(){var a=this.options.datePicker.showOn;this.dw?(this.dw=!1,this.Vl.focus()):"focus"===a?this.show():this.Pk()&&this._hide(this.Fg)},vH:function(){if("focus"===this.options.datePicker.showOn)if(this.Pk())this.qn=!0,this._hide(this.Fg);else{var a=this.element[0]===document.activeElement;
this.show();this.dw=!0;a&&this.Vl.focus()}},ZQ:function(){var a=this.options.datePicker.showOn,b=g("\x3cspan\x3e").addClass(this.IQ),c=g("\x3cspan title\x3d'"+this.WS()+"'/\x3e").addClass(this.HQ+" oj-clickable-icon-nocontext oj-component-icon");b.append(c);this.element.on("focus",g.proxy(this.wV,this));this.element.on("touchstart",g.proxy(this.vH,this));var d=this;this.ck.on("touchstart",function(){d.ED=!0});"image"===a&&(c.css("display","block"),this.Qg?(this.element.css("border-top-left-radius",
0),this.element.css("border-bottom-left-radius",0)):(this.element.css("border-top-right-radius",0),this.element.css("border-bottom-right-radius",0)));c.on("click",function(){d.Pk()?d._hide(d.Fg):(d.show(),d.Sc.find(".oj-datepicker-calendar").focus());return!1});this.We(c);this.Gk(c);this.uf=b;this.element.after(b)},zsa:function(a){var b;b=!1;var c=g.ui.keyCode,d=this.Qg;if(this.Pk())switch(a.keyCode){case 84:a.altKey&&a.ctrlKey&&(this.Sc.find(".oj-datepicker-current").focus(),b=!0);break;case c.SPACE:case c.ENTER:return b=
g("td."+this.Ux,this.Sc),b[0]&&this.sca(this.Nj,this.Yh,b[0],a),a.preventDefault(),a.stopPropagation(),!1;case c.ESCAPE:this._hide(this.as);b=!0;break;case c.PAGE_UP:a.ctrlKey&&a.altKey?this.zc(-this.options.datePicker.stepBigMonths,"M",!0):a.altKey?this.zc(-1,"Y",!0):this.zc(-this.Ms(),"M",!0);b=!0;break;case c.PAGE_DOWN:a.ctrlKey&&a.altKey?this.zc(+this.options.datePicker.stepBigMonths,"M",!0):a.altKey?this.zc(1,"Y",!0):this.zc(+this.Ms(),"M",!0);b=!0;break;case c.END:this.qq=this.gn(this.Yh,this.Nj);
this.ni(!0);b=!0;break;case c.HOME:this.qq=1;this.ni(!0);b=!0;break;case c.LEFT:this.zc(d?1:-1,"D",!0);a.originalEvent.altKey&&this.zc(a.ctrlKey?-this.options.datePicker.stepBigMonths:-this.Ms(),"M",!0);b=!0;break;case c.UP:this.zc(-7,"D",!0);b=!0;break;case c.RIGHT:this.zc(d?-1:1,"D",!0);a.originalEvent.altKey&&this.zc(a.ctrlKey?+this.options.datePicker.stepBigMonths:+this.Ms(),"M",!0);b=!0;break;case c.DOWN:this.zc(7,"D",!0),b=!0}else a.keyCode===c.HOME&&a.ctrlKey&&(this.show(),b=!0);b&&(a.preventDefault(),
a.stopPropagation())},Csa:function(a){var b;b=!1;var c=g.ui.keyCode,d=this.Qg;if(this.Pk())switch(a.keyCode){case 84:a.altKey&&a.ctrlKey&&(this.Sc.find(".oj-datepicker-current").focus(),b=!0);break;case c.SPACE:case c.ENTER:return b=g("td."+this.Ux,this.Sc),b[0]&&this.cL(b[0],"M"),a.preventDefault(),a.stopPropagation(),!1;case c.ESCAPE:this.hide();b=!0;break;case c.PAGE_UP:a.ctrlKey&&a.altKey?this.zc(-this.options.datePicker.stepBigMonths,"M",!0,"month"):a.altKey?this.zc(-1,"Y",!0,"month"):this.zc(-this.Ms(),
"M",!0,"month");b=!0;break;case c.PAGE_DOWN:a.ctrlKey&&a.altKey?this.zc(+this.options.datePicker.stepBigMonths,"M",!0,"month"):a.altKey?this.zc(1,"Y",!0,"month"):this.zc(+this.Ms(),"M",!0,"month");b=!0;break;case c.END:this.Nj=11;this.ni(!0,"month");b=!0;break;case c.HOME:this.Nj=0;this.ni(!0,"month");b=!0;break;case c.LEFT:this.zc(d?1:-1,"M",!0,"month");b=!0;break;case c.UP:this.zc(-3,"M",!0,"month");b=!0;break;case c.RIGHT:this.zc(d?-1:1,"M",!0,"month");b=!0;break;case c.DOWN:this.zc(3,"M",!0,"month"),
b=!0}else a.keyCode===c.HOME&&a.ctrlKey&&(this.show(),b=!0);b&&(a.preventDefault(),a.stopPropagation())},Esa:function(a){var b;b=!1;var c=g.ui.keyCode,d=this.Qg;if(this.Pk())switch(a.keyCode){case 84:a.altKey&&a.ctrlKey&&(this.Sc.find(".oj-datepicker-current").focus(),b=!0);break;case c.SPACE:case c.ENTER:return b=g("td."+this.Ux,this.Sc),b[0]&&this.cL(b[0],"Y"),a.preventDefault(),a.stopPropagation(),!1;case c.ESCAPE:this.hide();b=!0;break;case c.PAGE_UP:a.altKey&&this.zc(-1,"Y",!0,"year");b=!0;break;
case c.PAGE_DOWN:a.altKey&&this.zc(1,"Y",!0,"year");b=!0;break;case c.END:this.Yh=10*Math.floor(this.Yh/10)+9;this.ni(!0,"year");b=!0;break;case c.HOME:this.Yh=10*Math.floor(this.Yh/10);this.ni(!0,"year");b=!0;break;case c.LEFT:this.zc(d?1:-1,"Y",!0,"year");b=!0;break;case c.UP:this.zc(-3,"Y",!0,"year");b=!0;break;case c.RIGHT:this.zc(d?-1:1,"Y",!0,"year");b=!0;break;case c.DOWN:this.zc(3,"Y",!0,"year"),b=!0}else a.keyCode===c.HOME&&a.ctrlKey&&(this.show(),b=!0);b&&(a.preventDefault(),a.stopPropagation())},
ni:function(b,c,d){this.Wv=4;var e;e="year"===c?this.Gta():"month"===c?this.Eta():this.Dta();e.html="\x3cdiv class\x3d'oj-datepicker-wrapper'\x3e"+e.html+"\x3c/div\x3e";this.sq=c;if(d){var f=this.Sc.children().first();f.css({position:"absolute",left:0,top:0});this.Sc.prepend(e.html);var g=this.Sc.children().first();d="previous"==d?"end":"start";a.$.Yn(g[0],"open",{effect:"slideIn",direction:d});var h=this;a.$.Yn(f[0],"close",{effect:"slideOut",direction:d,persist:"all"}).then(function(){f&&f.remove();
h.Yca(b,c,e.lM)})}else this.Sc.empty().append(e.html),this.Yca(b,c,e.lM)},Yca:function(a,b,c){var d=g("button",this.Sc);0<d.length&&(1===d.length&&g(d[0]).addClass("oj-datepicker-single-button"),g.each(d,function(a,b){g(b).ojButton()}));this.Dpa();c&&this.Sc.find(".oj-datepicker-calendar").attr("aria-activedescendant",c);c=this.yJ();var d=c[1],e=275;this.Sc.removeClass("oj-datepicker-multi-2 oj-datepicker-multi-3 oj-datepicker-multi-4").width("");if("year"===b||"month"===b)this.Sc.removeClass("oj-datepicker-multi");
else{c=this.yJ();d=c[1];if(1<d){b=this.Sc.find(".oj-datepicker-calendar");var f=b.find("tbody a"),f=parseFloat(f.css("width"));b=parseFloat(b.css("margin-left"));isNaN(f)||isNaN(b)||(e=f*("number"===this.options.datePicker.weekDisplay?8:7)+2*b);this.Sc.addClass("oj-datepicker-multi-"+d).css("width",e*d+(this.bf?2:0)+"px")}this.Sc[(1!==c[0]||1!==c[1]?"add":"remove")+"Class"]("oj-datepicker-multi")}this.Pk()&&this.element.is(":visible")&&!this.element.is(":disabled")&&(a?(b=this.Sc.find(".oj-datepicker-calendar"),
b[0]!==document.activeElement&&g(b[0]).focus()):this.bf||this.element[0]===document.activeElement||this.element.focus())},zc:function(a,b,c,d,e){this.options.disabled||(this.P3(a+("M"===b?this.options.datePicker.currentMonthPos:0),b),this.ni(c,d,e))},Eva:function(){var a=new Date;this.qq=a.getDate();this.Qk=this.Nj=a.getMonth();this.Pl=this.Yh=a.getFullYear();this.zc(null,null,!0,"day")},cL:function(b,c){var d,e=a.Na,f=this.en();if(d=b.getAttribute("data-year"))this.Yh=this.Pl=d=parseInt(d,10);"M"===
c?(this.Nj=this.Qk=d=parseInt(b.getAttribute("data-month"),10),e._dateTime(f,{fullYear:this.Yh,month:this.Nj})):e._dateTime(f,{fullYear:this.Yh});g("#"+this.Tm(this.JB)).html(this.Fj(this.options.monthWide[this.Qk])+" "+v.format(a.Na.dateToLocalIso(new Date(this.Pl,this.Qk,1))));this.zc(0,0,!0,"M"===c?"day":this.BEa)},sca:function(b,c,d){g(d).hasClass(this.LH)||this.options.disabled||(this.qq=g("a",d).html(),this.Nj=b,this.Yh=c,b=a.Na,c=this.options.value,d=new Date(this.Yh,this.Nj,this.qq),c=c?b._dateTime(c,
{fullYear:d.getFullYear(),month:d.getMonth(),date:d.getDate()}):b.dateToLocalIso(d),this.WCa(c,{}),this._hide(this.bs))},WCa:function(a,b){var c=this.oc().format(a);this.Jl(c);this.yc(c,b)},t7:function(){return a.Na.dateToLocalIso(this.uva())},fL:function(b){b=a.Na._dateTime(b||this.t7(),["fullYear","month","date"],!0);this.qq=b.date;this.Qk=this.Nj=b.month;this.Pl=this.Yh=b.fullYear;this.P3()},Ms:function(){var a=this.options.datePicker.stepMonths;return g.isNumeric(a)?a:this.options.datePicker.numberOfMonths},
zD:function(a){return!this.options.disabled&&("click"===a.type||"keydown"===a.type&&32===a.keyCode)},U8:function(a){"year"===this.sq?this.zc(-10,"Y",!0,"year","previous"):"month"===this.sq?this.zc(-1,"Y",!0,"month","previous"):this.zc(-a,"M",!0,"day","previous")},T8:function(a){"year"===this.sq?this.zc(10,"Y",!0,"year","next"):"month"===this.sq?this.zc(1,"Y",!0,"month","next"):this.zc(+a,"M",!0,"day","next")},Dpa:function(){var b=this.Ms(),c=this;this.Sc.find("[data-handler]").map(function(){g(this).bind(this.getAttribute("data-event"),
{prev:function(a){if(c.zD(a))return c.U8(b),!1},next:function(a){if(c.zD(a))return c.T8(b),!1},today:function(a){if(c.zD(a))return c.Eva(),!1},selectDay:function(a){c.sca(+this.getAttribute("data-month"),+this.getAttribute("data-year"),this,a);return!1},selectMonth:function(){c.cL(this,"M");return!1},selectYear:function(){c.cL(this,"Y");return!1},calendarKey:function(a){"year"===c.sq?c.Esa(a):"month"===c.sq?c.Csa(a):c.zsa(a)},selectMonthHeader:function(a){if(c.zD(a))return"month"===c.sq?c.ni(!0,"day"):
c.ni(!0,"month"),!1},selectYearHeader:function(a){if(c.zD(a))return"year"===c.sq?c.ni(!0,"day"):(c.BEa=c.sq,c.ni(!0,"year")),!1}}[this.getAttribute("data-handler")])});this.Sc.find(".oj-datepicker-calendar").map(function(){a.C.GN({element:g(this),applyHighlight:!0})});var d=this.Sc.find(".oj-datepicker-header a, .oj-datepicker-buttonpane a");this.We(d);this.Gk(d)},Bz:function(){if(a.C.hf()){var c=this,d=this.Ms(),e=this.Qg;this.Sc.tj({recognizers:[[b.Swipe,{direction:b.DIRECTION_HORIZONTAL}]]}).on(e?
"swiperight":"swipeleft",function(){c.T8(d);return!1}).on(e?"swipeleft":"swiperight",function(){c.U8(d);return!1})}},Ho:function(b){if(b=this.options[b]){var c=this.en();b=a.Na._minMaxIsoString(b,c)}return b},XC:function(a,b,c,d,e){var f,g=this.Qg;f=this.Fj(this.F("prevText"));d=d?"\x3ca role\x3d'button' href\x3d'#' class\x3d'oj-datepicker-prev-icon oj-enabled oj-default oj-component-icon oj-clickable-icon-nocontext' data-handler\x3d'prev' data-event\x3d'click keydown' title\x3d'"+f+"'\x3e\x3c/a\x3e":
"\x3ca class\x3d'oj-datepicker-prev-icon oj-disabled oj-component-icon oj-clickable-icon-nocontext' title\x3d'"+f+"'\x3e\x3c/a\x3e";f=this.Fj(this.F("nextText"));f=e?"\x3ca role\x3d'button' href\x3d'#' class\x3d'oj-datepicker-next-icon oj-enabled oj-default oj-component-icon oj-clickable-icon-nocontext' data-handler\x3d'next' data-event\x3d'click keydown' title\x3d'"+f+"'\x3e\x3c/a\x3e":"\x3ca class\x3d'oj-datepicker-next-icon oj-disabled oj-component-icon oj-clickable-icon-nocontext' title\x3d'"+
f+"'\x3e\x3c/a\x3e";e="\x3cdiv class\x3d'oj-datepicker-header"+(this.options.disabled?" oj-disabled ":" oj-enabled oj-default ")+"'\x3e";e+=/all|left/.test(c)?g?f:d:"";e+=/all|right/.test(c)?g?d:f:"";e+=this.Fta(a,b);return e+"\x3c/div\x3e"},WC:function(a,b){var c="",d=this.Fj(this.F("currentText")),e="\x3ca role\x3d'button' href\x3d'#' class\x3d'oj-datepicker-current oj-priority-secondary "+(this.options.disabled?"oj-disabled' disabled":"oj-enabled'")+" data-handler\x3d'today' data-event\x3d'click keydown'\x3e"+
d+"\x3c/a\x3e";if(1<a.length){d=0;e=[{index:a.indexOf("today"),content:this.mK(b)?e:""}];for(e.sort(function(a,b){return a.index-b.index});d<e.length&&0>e[d].index;)d++;for(;d<e.length;)c+=e[d++].content;0<c.length&&(c="\x3cdiv class\x3d'oj-datepicker-buttonpane'\x3e"+c+"\x3c/div\x3e")}return c},Dta:function(){var b,c,d=a.Na;b=["date","month","fullYear"];c=this.oc();var e,f,g=this.options.dayWide,h=this.options.dayNarrow,k=this.options.firstDayOfWeek,n,l,u,p,m,v,q,r,s,t="",S,F,R,V,Z,O,G,U,P,da=new Date,
da=new Date(da.getFullYear(),da.getMonth(),da.getDate()),X=this.Qg;e=this.options.datePicker.footerLayout;var T=this.yJ(),W=this.options.datePicker.currentMonthPos,ia=this.options.dayFormatter;P=null;var ga=1!==T[0]||1!==T[1];f=this.Ho("min");var ca;n=this.Ho("max");var aa,W=this.Qk-W,ba=this.Pl,fa=new Date(this.Yh,this.Nj,this.qq);l=this.en();var ha=d._dateTime(l,b,!0),oa=ha.fullYear,ta=ha.date,ha=ha.month,ua=new Date(oa,ha,ta),ma=this.options.disabled,xa=this.Fj(this.F("weekText"));f&&(f=c.parse(f),
ca=d._dateTime(f,b,!0));n&&(n=c.parse(n),aa=d._dateTime(n,b,!0));d._clearTime(l);0>W&&(W+=12,ba--);if(ca)for(b=new Date(ca.fullYear,ca.month,ca.date),aa&&0>c.xe(n,f)&&(b=new Date(aa.fullYear,aa.month,aa.date));new Date(ba,W,this.gn(ba,W))<b;)W++,11<W&&(W=0,ba++);if(aa)for(b=new Date(aa.fullYear,aa.month-T[0]*T[1]+1,aa.date),ca&&0>c.xe(n,f)&&(b=new Date(ca.fullYear,ca.month,ca.date));new Date(ba,W,1)>b;)W--,0>W&&(W=11,ba--);this.Qk=W;this.Pl=ba;c=this.J4(-1,ba,W)&&!ma;b=this.J4(1,ba,W)&&!ma;e=this.WC(e,
da);f=this.options.datePicker.weekDisplay;n=this.options.datePicker.daysOutsideMonth;l="";u="all";for(p=0;p<T[0];p++){m="";this.Wv=4;for(v=0;v<T[1];v++){u=0===p?"all":"";F="";if(ga){F+="\x3cdiv class\x3d'oj-datepicker-group";if(1<T[1])switch(v){case 0:F+=" oj-datepicker-group-first";u=0===p?X?"right":"left":"";break;case T[1]-1:F+=" oj-datepicker-group-last";u=0===p?X?"left":"right":"";break;default:F+=" oj-datepicker-group-middle",u=""}F+="'\x3e"}F+=this.XC(W,ba,u,c,b);F+="\x3ctable class\x3d'oj-datepicker-calendar"+
("number"===f?" oj-datepicker-weekdisplay":"")+(ma?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex\x3d-1 data-handler\x3d'calendarKey' data-event\x3d'keydown' aria-readonly\x3d'true' role\x3d'grid' aria-labelledby\x3d'"+this.Tm(this.JB)+"'\x3e\x3cthead role\x3d'presentation'\x3e\x3ctr role\x3d'row'\x3e";R="number"===f?"\x3cth class\x3d'oj-datepicker-week-col'\x3e"+this.Fj(this.F("weekHeader"))+"\x3c/th\x3e":"";for(u=0;7>u;u++)V=(u+parseInt(k,10))%7,R+="\x3cth role\x3d'columnheader' aria-label\x3d'"+
g[V]+"'"+(5<=(u+k+6)%7?" class\x3d'oj-datepicker-week-end'":"")+"\x3e\x3cspan title\x3d'"+g[V]+"'\x3e"+h[V]+"\x3c/span\x3e\x3c/th\x3e";F+=R+"\x3c/tr\x3e\x3c/thead\x3e\x3ctbody role\x3d'presentation'\x3e";R=this.gn(ba,W);ba===oa&&W===ha&&(ta=Math.min(ta,R));u=(this.sua(ba,W)-k+7)%7;R=Math.ceil((u+R)/7);this.Wv=R=ga?this.Wv>R?this.Wv:R:R;V=new Date(ba,W,1-u);for(Z=0;Z<R;Z++){F+="\x3ctr role\x3d'row'\x3e";u=this.oc().vt(d.dateToLocalIso(V));O="none"===f?"":"\x3ctd class\x3d'oj-datepicker-week-col' role\x3d'rowheader' aria-label\x3d'"+
xa+" "+u+"'\x3e"+u+"\x3c/td\x3e";for(u=0;7>u;u++){U=V.getMonth()!==W;q=V.getTime()===ua.getTime();r="oj-dp-"+this.uuid+"-"+Z+"-"+u+"-"+p+"-"+v;(s=V.getTime()===fa.getTime()&&W===this.Nj)?(t=r,S=" "+this.Ux):S="";G=[!0,""];P=V.getFullYear();var ea=V.getMonth(),Aa=V.getDate();ia&&(P=ia({fullYear:P,month:ea+1,date:Aa}))&&(G=[!P.disabled,P.className||""],P.tooltip&&G.push(P.tooltip));ea=V.getTime()===ua.getTime();P=U&&"selectable"!==n||!G[0]||this.xAa(V,ca,aa);O+="\x3ctd role\x3d'gridcell' aria-disabled\x3d'"+
!!P+"' aria-selected\x3d'"+q+"' id\x3d'"+r+"' class\x3d'"+(5<=(u+k+6)%7?" oj-datepicker-week-end":"")+(U?" oj-datepicker-other-month":"")+S+(P||ma?" "+this.LH+" oj-disabled":" oj-enabled ")+(U&&"hidden"===n?"":" "+G[1]+(q?" "+this.DP:"")+(V.getTime()===da.getTime()?" oj-datepicker-today":""))+"'"+(U&&"hidden"===n||!G[2]?"":" title\x3d'"+G[2].replace(/'/g,"\x26#39;")+"'")+(P?"":" data-handler\x3d'selectDay' data-event\x3d'click' data-month\x3d'"+V.getMonth()+"' data-year\x3d'"+V.getFullYear()+"'")+
"\x3e"+(U&&"hidden"===n?"\x26#xa0;":P||ma?"\x3cspan class\x3d'oj-disabled'\x3e"+V.getDate()+"\x3c/span\x3e":"\x3ca role\x3d'button' class\x3d'oj-enabled"+(ea?" oj-selected":"")+(U?" oj-priority-secondary":"")+"' "+(s?"":"tabindex\x3d'-1' ")+" href\x3d'#'\x3e"+V.getDate()+"\x3c/a\x3e")+"\x3c/td\x3e";V.setDate(V.getDate()+1)}F+=O+"\x3c/tr\x3e"}W++;11<W&&(W=0,ba++);F+="\x3c/tbody\x3e\x3c/table\x3e"+(ga?"\x3c/div\x3e"+(0<T[0]&&v===T[1]-1?"\x3cdiv class\x3d'oj-datepicker-row-break'\x3e\x3c/div\x3e":""):
"");m+=F}l+=m}return{html:l+e,lM:t}},Fta:function(b,c){var d=this.options.datePicker.changeMonth,e=this.options.datePicker.changeYear,f=a.$a.tha()?"before":"after",g="\x3cdiv class\x3d'oj-datepicker-title' role\x3d'header'\x3e",h="",k=a.Na,n=this.options.monthWide,l=this.options.disabled;n&&(h="none"===d?h+("\x3cspan class\x3d'oj-datepicker-month'\x3e"+n[b]+"\x3c/span\x3e"):h+("\x3ca role\x3d'button' href\x3d'#' data-handler\x3d'selectMonthHeader' data-event\x3d'click keydown' class\x3d'oj-datepicker-month "+
(l?"oj-disabled' disabled":"oj-enabled'")+"\x3e")+(n[b]+"\x3c/a\x3e"),"before"===f&&(g+=h+("select"!==d||"select"!==e?"\x26#xa0;":"")));this.mka||(this.mka="","none"===e?g+="\x3cspan class\x3d'oj-datepicker-year'\x3e"+v.format(k.dateToLocalIso(new Date(c,b,1)))+"\x3c/span\x3e":(g=g+("\x3ca role\x3d'button' href\x3d'#' data-handler\x3d'selectYearHeader' data-event\x3d'click keydown' class\x3d'oj-datepicker-year "+(l?"oj-disabled' disabled":"oj-enabled'")+"\x3e")+(v.format(k.dateToLocalIso(new Date(c,
b,1)))+"\x3c/a\x3e"),this.mka=null));n&&"after"===f&&(g+=("select"!==d||"select"!==e?"\x26#xa0;":"")+h);g+="\x3cspan class\x3d'oj-helper-hidden-accessible' id\x3d'"+this.Tm(this.JB)+"'\x3e";g+=(n?n[b]+" ":"")+v.format(k.dateToLocalIso(new Date(c,b,1)))+"\x3c/span\x3e";g+="\x3cspan class\x3d'oj-helper-hidden-accessible' id\x3d'"+this.Tm(this.z1)+"'\x3e"+this.Fj(this.F("datePicker"))+"\x3c/span\x3e";return g+="\x3c/div\x3e"},P3:function(a,b){var c=this.Pl+("Y"===b?a:0),d=this.Qk+("M"===b?a:0),e=Math.min(this.qq,
this.gn(c,d))+("D"===b?a:0),c=new Date(c,d,e);this.qq=c.getDate();this.Qk=this.Nj=c.getMonth();this.Pl=this.Yh=c.getFullYear()},Eta:function(){var b,c,d;b=a.Na;var e=["date","month","fullYear"];c=this.oc();var f,g=this.options.monthAbbreviated,h,k,n,l,u,p="",m,v,q=new Date;f=new Date(q.getFullYear(),q.getMonth(),q.getDate());h=this.options.datePicker.footerLayout;d=this.Ho("min");var r;m=this.Ho("max");var s;k=this.Qk;var q=this.Pl,t=this.en(),S=b._dateTime(t,e,!0);n=S.fullYear;l=S.date;u=S.month;
var S=new Date(n,u,l),F=this.options.disabled;d&&(d=c.parse(d),r=b._dateTime(d,e,!0));m&&(m=c.parse(m),s=b._dateTime(m,e,!0));b._clearTime(t);0>k&&(k+=12,q--);if(r)for(b=new Date(r.fullYear,r.month,r.date),s&&0>c.xe(m,d)&&(b=new Date(s.fullYear,s.month,s.date));new Date(q,k,this.gn(q,k))<b;)k++,11<k&&(k=0,q++);if(s)for(b=new Date(s.fullYear,s.month,s.date),r&&0>c.xe(m,d)&&(b=new Date(r.fullYear,r.month,r.date));new Date(q,k,1)>b;)k--,0>k&&(k=11,q--);this.Qk=k;this.Pl=q;c=this.K4(-1,q)&&!F;d=this.K4(1,
q)&&!F;f=this.WC(h,f);h="";this.Wv=4;c=""+this.XC(k,q,"all",c,d);c+="\x3ctable class\x3d'oj-datepicker-calendar oj-datepicker-monthview"+(F?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex\x3d-1 data-handler\x3d'calendarKey' data-event\x3d'keydown' aria-readonly\x3d'true' role\x3d'grid' aria-labelledby\x3d'"+this.Tm(this.JB)+"'\x3e";c+="\x3ctbody role\x3d'presentation'\x3e";d=this.gn(q,k);q===n&&k===u&&Math.min(l,d);m=new Date(q,0,1);for(b=0;4>b;b++){c+="\x3ctr role\x3d'row'\x3e";e="";for(k=
0;3>k;k++){t=3*b+k;n=m.getMonth()===S.getMonth();l="oj-dp-"+this.uuid+"-"+b+"-"+k+"-0-0";(u=t===this.Nj)?(p=l,d=" "+this.Ux):d="";var R=m.getMonth()===S.getMonth();v=s&&s.fullYear===q;v=!((!r||r.fullYear!==q||t>=r.month)&&(!v||t<=s.month));e+="\x3ctd role\x3d'gridcell' aria-disabled\x3d'"+!!v+"' aria-selected\x3d'"+n+"' id\x3d'"+l+"' class\x3d'"+d+(v||F?" "+this.LH+" oj-disabled":" oj-enabled ")+(n?" "+this.DP:"")+"'"+(v?"":" data-handler\x3d'selectMonth' data-event\x3d'click' data-month\x3d'"+m.getMonth()+
"' data-year\x3d'"+m.getFullYear()+"'")+"\x3e"+(v||F?"\x3cspan class\x3d'oj-disabled'\x3e"+g[t]+"\x3c/span\x3e":"\x3ca role\x3d'button' class\x3d'oj-enabled"+(R?" oj-selected":"")+"' "+(u?"":"tabindex\x3d'-1' ")+" href\x3d'#'\x3e"+g[t]+"\x3c/a\x3e")+"\x3c/td\x3e";m.setMonth(m.getMonth()+1)}c+=e+"\x3c/tr\x3e"}h+=c+"\x3c/tbody\x3e\x3c/table\x3e";return{html:h+f,lM:p}},Gta:function(){var b,c,d,e=a.Na;b=["date","month","fullYear"];c=this.oc();var f,g,h,k,n,l,u="",p,m,q,r=new Date;f=new Date(r.getFullYear(),
r.getMonth(),r.getDate());g=this.options.datePicker.footerLayout;d=this.Ho("min");var s;m=this.Ho("max");r=this.Qk;k=this.Pl;var t=this.en(),K=e._dateTime(t,b,!0);n=K.fullYear;l=K.date;p=K.month;var K=new Date(n,p,l),S=this.options.disabled;d&&(d=c.parse(d),s=e._dateTime(d,b,!0));m&&(m=c.parse(m),h=e._dateTime(m,b,!0));e._clearTime(t);0>r&&(r+=12,k--);if(s)for(b=new Date(s.fullYear,s.month,s.date),h&&0>c.xe(m,d)&&(b=new Date(h.fullYear,h.month,h.date));new Date(k,r,this.gn(k,r))<b;)r++,11<r&&(r=0,
k++);if(h)for(b=new Date(h.fullYear,h.month,h.date),s&&0>c.xe(m,d)&&(b=new Date(s.fullYear,s.month,s.date));new Date(k,r,1)>b;)r--,0>r&&(r=11,k--);this.Qk=r;this.Pl=k;c=this.I4(-1,k)&&!S;d=this.I4(1,k)&&!S;f=this.WC(g,f);g="";this.Wv=4;c=""+this.XC(r,k,"all",c,d);c+="\x3ctable class\x3d'oj-datepicker-calendar oj-datepicker-yearview"+(S?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex\x3d-1 data-handler\x3d'calendarKey' data-event\x3d'keydown' aria-readonly\x3d'true' role\x3d'grid' aria-labelledby\x3d'"+
this.Tm(this.JB)+"'\x3e";c+="\x3ctbody role\x3d'presentation'\x3e";d=this.gn(k,r);k===n&&r===p&&Math.min(l,d);s=this.Cva(k,s,h);t=10*Math.floor(k/10);d=new Date(t,r,1);for(m=0;4>m;m++){c+="\x3ctr role\x3d'row'\x3e";b="";for(h=0;3>h&&(3!=m||1!=h);h++){q=t+3*m+h;k=d.getFullYear()===K.getFullYear();n="oj-dp-"+this.uuid+"-"+m+"-"+h+"-0-0";(l=q===this.Yh)?(u=n,p=" "+this.Ux):p="";var F=d.getFullYear()===K.getFullYear(),R=v.format(e.dateToLocalIso(new Date(q,r,1)));q=q<s.startYear||q>s.endYear;b+="\x3ctd role\x3d'gridcell' aria-disabled\x3d'"+
!!q+"' aria-selected\x3d'"+k+"' id\x3d'"+n+"' class\x3d'"+p+(q||S?" "+this.LH+" oj-disabled":" oj-enabled ")+(k?" "+this.DP:"")+"'"+(q?"":" data-handler\x3d'selectYear' data-event\x3d'click' data-month\x3d'"+d.getMonth()+"' data-year\x3d'"+d.getFullYear()+"'")+"\x3e"+(q||S?"\x3cspan class\x3d'oj-disabled'\x3e"+R+"\x3c/span\x3e":"\x3ca role\x3d'button' class\x3d'oj-enabled"+(F?" oj-selected":"")+"' "+(l?"":"tabindex\x3d'-1' ")+" href\x3d'#'\x3e"+R+"\x3c/a\x3e")+"\x3c/td\x3e";d.setFullYear(d.getFullYear()+
1)}c+=b+"\x3c/tr\x3e"}g+=c+"\x3c/tbody\x3e\x3c/table\x3e";return{html:g+f,lM:u}},Cva:function(a,b,c){var d,e,f,g;d=this.options.datePicker.yearRange.split(":");e=(new Date).getFullYear();f=function(b){b=b.match(/c[+\-].*/)?a+parseInt(b.substring(1),10):b.match(/[+\-].*/)?e+parseInt(b,10):parseInt(b,10);return isNaN(b)?e:b};g=f(d[0]);d=Math.max(g,f(d[1]||""));g=b?Math.max(g,b.fullYear):g;d=c?Math.min(d,c.fullYear):d;return{startYear:g,endYear:d}},yJ:function(){var a=this.options.datePicker.numberOfMonths,
a="string"===typeof a?parseInt(a,10):a;return null==a?[1,1]:"number"===typeof a?[1,a]:a},gn:function(a,b){return 32-(new Date(a,b,32)).getDate()},sua:function(a,b){return(new Date(a,b,1)).getDay()},J4:function(a,b,c){var d=this.yJ();b=new Date(b,c+(0>a?a:d[0]*d[1]),1);0>a&&b.setDate(this.gn(b.getFullYear(),b.getMonth()));return this.mK(b)},K4:function(a,b){var c;0>a?(c=new Date(b+a,12,1),c.setDate(this.gn(c.getFullYear(),c.getMonth()))):c=new Date(b+a,1,1);return this.mK(c)},I4:function(a,b){var c;
c=10*Math.floor(b/10);0>a?(c=new Date(c+9+10*a,12,1),c.setDate(this.gn(c.getFullYear(),c.getMonth()))):c=new Date(c+10*a,1,1);return this.mK(c)},xAa:function(a,b,c){b=b?new Date(b.fullYear,b.month,b.date):null;c=c?new Date(c.fullYear,c.month,c.date):null;return null!==b&&a<b||null!==c&&a>c},mK:function(b){var c,d,e=a.Na,f=this.oc(),g,h,k=this.Ho("min"),n=null,l=this.Ho("max"),u=null;if(c=this.options.datePicker.yearRange)c=c.split(":"),d=(new Date).getFullYear(),n=parseInt(c[0],10),u=parseInt(c[1],
10),c[0].match(/[+\-].*/)&&(n+=d),c[1].match(/[+\-].*/)&&(u+=d);k&&(k=f.parse(k),g=e._dateTime(k,["fullYear","month","date"],!0),g=new Date(g.fullYear,g.month,g.date));l&&(l=f.parse(l),e=e._dateTime(l,["fullYear","month","date"],!0),h=new Date(e.fullYear,e.month,e.date));return(!g||b.getTime()>=g.getTime())&&(!h||b.getTime()<=h.getTime())&&(!n||b.getFullYear()>=n)&&(!u||b.getFullYear()<=u)},WS:function(){return this.Fj(this.F("tooltipCalendar"+(this.options.disabled?"Disabled":"")))},f6:function(a){this.uf&&
(f(this.uf.children(),a),this.uf.find("."+this.HQ).attr("title",this.WS()));a&&this._hide(this.Fg);this.bf&&this.ni()},wP:function(){this.bf||this._superApply(arguments)},vV:function(a){this.bf||this._superApply(arguments)},EK:function(a){if(!this.bf){this._superApply(arguments);var b=g.ui.keyCode,c=!1;if(this.Pk())switch(a.keyCode){case b.TAB:this._hide(this.sH);break;case b.ESCAPE:this._hide(this.as);c=!0;break;case b.UP:case b.DOWN:this.Sc.find(".oj-datepicker-calendar").focus(),c=!0}else switch(a.keyCode){case b.UP:case b.DOWN:this.yc(this.Ri(),
a),this.show(),c=!0}if(c)return a.preventDefault(),a.stopPropagation(),!1}},Jl:function(a){this.bf||this._superApply(arguments);this.fL(this.en());this.Pk()&&this.ni(!(this.bf&&this.tf&&this.tf[0]===document.activeElement))},oc:function(){return this.options.converter?this._superApply(arguments):g.oj.ojInputDate.prototype.options.converter},Yx:function(){return this.options.value||""},_GetDefaultStyleClass:function(){return"oj-inputdate"},PB:function(){var b=this._superApply(arguments);if(null!=this.options.min||
null!=this.options.max)this.KC[a.Ve.VALIDATOR_TYPE_DATETIMERANGE]=this.OJ("min");null!=this.options.dayFormatter&&(this.KC[a.Ve.VALIDATOR_TYPE_DATERESTRICTION]=this.OJ("dayFormatter"));return g.extend(this.KC,b)},Hj:function(){this._hide(this.Fg);this._superApply(arguments)},Wm:function(){this._hide(this.Fg);this._superApply(arguments)},OJ:function(b){var c=null;"min"===b||"max"===b?c=e(this.options,this.oc()):"dayFormatter"===b&&(b={dayFormatter:this.options.dayFormatter,converter:this.oc()},g.extend(b,
this.options.translations.dateRestriction||{}),c=a.Aa.rx(a.Ve.VALIDATOR_TYPE_DATERESTRICTION).createValidator(b));return c},uva:function(){var a=new Date;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},en:function(){return this.options.value||this.t7()},getNodeBySubId:function(a){var b=null,c=a&&a.subId,d=this.Sc;if(c)switch(c){case "oj-datepicker-content":b=d[0];break;case "oj-inputdatetime-calendar-icon":b=g(".oj-inputdatetime-calendar-icon",this.uf)[0];break;case "oj-datepicker-prev-icon":b=
g(".oj-datepicker-prev-icon",d)[0];break;case "oj-datepicker-next-icon":b=g(".oj-datepicker-next-icon",d)[0];break;case "oj-datepicker-month":b=g(".oj-datepicker-month",d)[0];break;case "oj-datepicker-year":b=g(".oj-datepicker-year",d)[0];break;case "oj-datepicker-current":b=g(".oj-datepicker-current",d)[0];break;case "oj-inputdatetime-date-input":b=this.bf?null:this.element[0];break;default:b=null}return b||this._superApply(arguments)},getSubIdByNode:function(a){var b=this.Sc,c=null,d=[{selector:".oj-inputdatetime-calendar-icon",
ele:this.uf},{selector:".oj-datepicker-prev-icon",ele:b},{selector:".oj-datepicker-next-icon",ele:b},{selector:".oj-datepicker-month",ele:b},{selector:".oj-datepicker-year",ele:b},{selector:".oj-datepicker-current",ele:b}];if(a===b[0])return"oj-datepicker-content";if(!this.bf&&a===this.element[0])return"oj-inputdatetime-date-input";for(var b=0,e=d.length;b<e;b++){var f=d[b],h=g(f.selector,f.ele);if(1===h.length&&h[0]===a){c=f.selector.substr(1);break}}return c||this._superApply(arguments)},hide:function(){return this._hide(this.Fg)},
_hide:function(a){m(this)||!this.Pk()||this.bf||(this.IK.ojPopup("close"),this.Uo(a));return this},Uo:function(){this.ED&&"focus"===this.options.datePicker.showOn?this.Vl.focus():("focus"===this.options.datePicker.showOn&&(this.qn=!0),this.element.focus())},refresh:function(){this.uf&&this.uf.find("."+this.HQ).attr("title",this.WS());return this._superApply(arguments)||this},show:function(){if(!(this.Pk()||this.options.disabled||this.options.readOnly))if(this.qn)this.qn=!1;else{if(m(this)){this.element.blur();
var a={};a.date=c(this.b8(),this.en());a.mode="date";return this.U2(a)}return this.UDa()}},b8:function(){if(null===this.BK){var b=this.oc().resolvedOptions(),c={};g.extend(c,b,{isoStrFormat:"offset"});this.BK=a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter(c)}return this.BK},U2:function(b){var d=this.Ho("min"),e=this.Ho("max"),f=this.b8();d&&(b.minDate=c(f,d).valueOf());e&&(b.maxDate=c(f,d).valueOf());var h=this;h.To=!0;window.datePicker.show(b,g.proxy(this.B2,this),function(b){h.To=!1;b.startsWith("cancel")?
h.Uo(h.as):a.t.log("Error: native date or time picker failed: "+b)})},B2:function(b){this.To=!1;b&&(b=a.Na._dateTime(this.en(),{month:b.getMonth(),date:b.getDate(),fullYear:b.getFullYear()}),b=this.oc().format(b),this.yc(b,{}));this.Uo(this.bs)},UDa:function(){var b=this.Qg;this.Sc.empty();this.ni();b=a.Gd.ql({my:"start top",at:"start bottom",of:this.element,collision:"flipfit flipfit"},b);this.IK.ojPopup("open",this.element.parent(),b);return this}});a.Components.Op({ojInputDate:{firstDayOfWeek:a.Components.Sf(function(){return a.$a.mF()}),
dayWide:a.Components.Sf(function(){return a.$a.jF("wide")}),dayNarrow:a.Components.Sf(function(){return a.$a.jF("narrow")}),monthWide:a.Components.Sf(function(){return a.$a.pF("wide")}),monthAbbreviated:a.Components.Sf(function(){return a.$a.pF("abbreviated")}),datePicker:a.Components.Sf(function(){return(a.md.Bf("oj-inputdatetime-option-defaults")||{}).datePicker}),renderMode:a.Components.Sf(function(){return(a.md.Bf("oj-inputdatetime-option-defaults")||{}).renderMode}),keyboardEdit:a.Components.Sf(function(){return(a.md.Bf("oj-inputdatetime-option-defaults")||
{}).keyboardEdit})}});a.Pa("oj.ojInputTime",g.oj.inputBase,{version:"1.0.0",widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",_WIDGET_CLASS_NAMES:"oj-inputdatetime-time-only oj-component oj-inputdatetime",OP:"oj-inputdatetime-input-container",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_INPUT_HELPER_KEY:"inputHelp",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_GET_INIT_OPTIONS_PROPS:[{ha:"disabled",Td:!0},{ha:"pattern"},{ha:"title"},{ha:"placeholder"},{ha:"value",xh:d},{ha:"required",xh:!0,
Td:!0},{ha:"readonly",option:"readOnly",Td:!0},{ha:"min",xh:d},{ha:"max",xh:d}],j3:"ojInputTime",IQ:"oj-inputdatetime-input-trigger",JQ:"oj-inputdatetime-time-icon",bs:"selection",as:"cancelled",sH:"tab",Fg:"close",Lma:"enabled",SP:"disabled",options:{converter:a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter({hour:"2-digit",hour12:!0,minute:"2-digit"}),keyboardEdit:"enabled",max:void 0,min:void 0,datePickerComp:null,pickerAttributes:null,renderMode:"jet",timePicker:{footerLayout:"",timeIncrement:"00:30:00:00",
showOn:"focus"}},Yf:function(b,c){this._super(b,c);null===this.options.datePickerComp&&a.Ge.Ap(this._GET_INIT_OPTIONS_PROPS,c,this)},Ro:function(){return a.ga.temporarilyEnableWheelStyleTimePickerForJet22},kH:function(){this.QW={};this.Zh=this.options.datePickerComp;this.Vl=null;this.To=this.qn=this.ED=this.dw=!1;this.wL=null;var b=this.options.pickerAttributes,c=this;this.Ro()?(this.$k=g("\x3cdiv id\x3d'"+this.Tm(this.j3)+"' class\x3d'oj-timepicker-content' style\x3d'display:none'\x3e\x3c/div\x3e"),
g("body").append(this.$k),this.LK=this.$k.ojPopup({initialFocus:"none",rootAttributes:{"class":"oj-timepicker-popup"},chrome:"default",modality:"modeless",open:function(){},beforeClose:function(){}}),b&&a.Ge.aO(this.LK.ojPopup("widget"),b)):(this.df=g("\x3cdiv id\x3d'"+this.Tm(this.j3)+"' class\x3d'oj-listbox-drop' style\x3d'display:none'\x3e\x3c/div\x3e"),g("body").append(this.df),this.JK=this.df.ojPopup({initialFocus:"none",rootAttributes:{"class":"datetimepicker-dropdown"},chrome:"none",modality:"modeless",
open:function(){var a=g("[aria-selected]",c.df);1===a.length&&c.FR(a.parent(),!0);"image"!==c.options.timePicker.showOn&&c.Uk()||g("ul",c.df).focus()},beforeClose:function(){c.Nda=g("ul",c.df).scrollTop()}}),b&&a.Ge.aO(this.JK.ojPopup("widget"),b));this.Uk()&&(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES+=this.OP)},ot:function(){return(this.Ro()?this.LK.ojPopup("isOpen"):this.JK.ojPopup("isOpen"))||this.To},_ComponentCreate:function(){this.kH();var a=this._superApply(arguments);if(this.Vj()&&!this.o$())this._CLASS_NAMES=
"";else{if(this.options.value){var b=this.oc().format(this.options.value);this.yc(b,{})}l(this)}this.cw();this.ZQ();return a},Ph:function(){var a=this._superApply(arguments);f(this.uf.children(),this.options.disabled);return a},_setOption:function(b,c,d){var g=null,h;if("value"===b)return c||(c=null),g=this._super(b,c,d),this.Ro()?this.vI():this.YI(),g;"timePicker"===b&&this.Ro()&&void 0===c.footerLayout&&(h=this.options.timePicker.footerLayout);g=this._superApply(arguments);h&&(this.options.timePicker.footerLayout=
h);"disabled"===b?(c&&this._hide(this.Fg),this.uf.find("."+this.JQ).attr("title",this.MT()),f(this.uf.children(),c)):"max"!==b&&"min"!==b||this.Vj()?"readOnly"===b?(this.cw(),c&&this._hide(this.Fg)):"keyboardEdit"===b?this.cw():"converter"===b&&(this.wL=null):(this.QW[a.Ve.VALIDATOR_TYPE_DATETIMERANGE]=e(this.options,this.oc()),this.Ox());b in{max:!0,min:!0,converter:!0,timePicker:!0}&&(this.Ro()?this.vI():this.YI());return g},_destroy:function(){var a=this._super();this.Uk()&&(this.element.off("focus touchstart"),
this.ck.off("touchstart"));this.uf&&this.uf.remove();this.df&&this.df.remove();this.$k&&this.$k.remove();return a},cw:function(){this.element.prop("readOnly",!(!this.options.readOnly&&!this.SU()))},SU:function(){return this.options.keyboardEdit===this.SP},wP:function(){this.Uk()&&this._superApply(arguments)},EK:function(a){if(this.Uk()){this._superApply(arguments);var b=g.ui.keyCode,c=!1;if(this.ot())switch(a.keyCode){case b.TAB:this._hide(this.sH);break;case b.ESCAPE:this._hide(this.as);c=!0;break;
case b.UP:case b.DOWN:this.Ro()?this.$k.focus():g("ul",this.df).focus(),c=!0}else switch(a.keyCode){case b.UP:case b.DOWN:this.yc(this.Ri(),a),this.show(),c=!0}if(c||a.keyCode===b.ENTER)return a.preventDefault(),a.stopPropagation(),!1}},MT:function(){return this.Fj(this.F("tooltipTime"+(this.options.disabled?"Disabled":"")))},NQ:function(){this.Vl=this._superApply(arguments);this.Vl.attr({role:"combobox","aria-haspopup":"true",tabindex:"-1"})},wV:function(){var a=this.options.timePicker.showOn;this.dw?
(this.dw=!1,this.Vl.focus()):"focus"===a?this.show():this.ot()&&this._hide(this.Fg)},vH:function(){if("focus"===this.options.timePicker.showOn)if(this.ot())this.qn=!0,this._hide(this.Fg);else{var a=this.element[0]===document.activeElement;this.show();this.dw=!0;a&&this.Vl.focus()}},ZQ:function(){var a=this.options.timePicker.showOn,b=this.Uk(),c=b?g("\x3cspan\x3e").addClass(this.IQ):g("+ span",this.element),d=g("\x3cspan title\x3d'"+this.MT()+"'/\x3e").addClass(this.JQ+" oj-clickable-icon-nocontext oj-component-icon"),
e=this;b&&(this.element.on("focus",g.proxy(this.wV,this)),this.element.on("touchstart",g.proxy(this.vH,this)));(this.Uk()?this.ck:this.Zh.widget.ck).on("touchstart",function(){e.ED=!0});"image"===a&&(d.css("display","block"),this.Qg?(this.element.css("border-top-left-radius",0),this.element.css("border-bottom-left-radius",0)):(this.element.css("border-top-right-radius",0),this.element.css("border-bottom-right-radius",0)));if(b||!m(this))c.append(d),d.on("click",function(){e.ot()?e._hide(e.Fg):(e.show(),
g("ul",e.df).focus())}),this.We(d),this.Gk(d);this.uf=c;b&&this.element.after(c)},lAa:function(a,b,c){var d=this.oc();return b&&0>d.xe(a,b)||c&&0<d.xe(a,c)},ai:function(){return this.Vj()?this.Zh.widget.Fga():this.options.value},YI:function(){var b=this.ai(),c,d=this.oc(),e=g("\x3cul class\x3d'oj-listbox-results' tabindex\x3d'-1' role\x3d'listbox'\x3e\x3c/ul\x3e"),f=b?d.format(b):"";c=[];b?this.Vj()||(b=d.parse(f)):(c=new Date,c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),b=a.Na.dateToLocalIso(c));
c=this.tva(b);f=f||c[0].value;this.df.empty();b=0;for(d=c.length;b<d;b++){var h=c[b].value,k=c[b].minMaxRange,n=g("\x3cli class\x3d'oj-listbox-result "+(k?"oj-disabled":"")+"' role\x3d'presentation'\x3e"),l=this.uuid+"_sel"+b,k=g("\x3cdiv class\x3d'oj-listbox-result-label' "+(k?"aria-disabled ":"")+"data-value\x3d'"+h+"' role\x3d'option' id\x3d'"+l+"'\x3e"+c[b].label+"\x3c/li\x3e");f===h&&(k.attr("aria-selected","true"),n.addClass("oj-hover"),e.attr("aria-activedescendant",l));n.append(k);e.append(n)}this.df.append(e);
g(".oj-listbox-result",e).on("mousemove",function(){var a=g(this);a.hasClass("oj-disabled")||(g(".oj-hover",e).removeClass("oj-hover"),a.addClass("oj-hover"),e.attr("aria-activedescendant",a.children()[0].id))});var u=this;e.on("click",function(a){var b=g(a.target);b.hasClass("oj-disabled")||void 0!==b.attr("aria-disabled")||u.aba(a)}).on("keydown",function(a){u.xEa(a)});g("ul",this.df).one("focus",function(){var a=g("[aria-selected]",u.df);1===a.length&&u.FR(g(a))})},I8:function(){null===this.wL&&
(this.wL=t(this.oc(),{isoStrFormat:"offset"}));return this.wL},tva:function(b){var c=[],d=this.oc(),e=a.Na,f="",f=this.Vj(),g=new Date,h=f?this.Zh.widget.options.min:this.options.min,k=f?this.Zh.widget.options.max:this.options.max,n=r(this.options.timePicker.timeIncrement),h=h?e._minMaxIsoString(h,this.ai()):h,k=k?e._minMaxIsoString(k,this.ai()):k;g.setDate(1);g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0);var l=new Date(g);l.setDate(2);b=this.I8().parse(b);b=e._clearTime(b);do f=
this.Fj(d.format(b)),c.push({label:f,value:f,minMaxRange:this.lAa(b,h,k)}),g.setHours(g.getHours()+n.WM),g.setMinutes(g.getMinutes()+n.JN),g.setSeconds(g.getSeconds()+n.IKa),g.setMilliseconds(g.getMilliseconds()+n.HJa),b=e._dateTime(b,{hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()});while(g.getDate()!==l.getDate());return c},xEa:function(a){if(this.ot()){var b=g.ui.keyCode,c=!1;switch(a.keyCode){case b.TAB:this._hide(this.sH);break;case b.ESCAPE:this._hide(this.as);
c=!0;break;case b.UP:this.Vaa(a,"prev");c=!0;break;case b.DOWN:this.Vaa(a,"next");c=!0;break;case b.ENTER:this.aba(a),c=!0}if(c)return a.preventDefault(),a.stopPropagation(),!1}},Vaa:function(a,b){var c=g(".oj-hover",this.df),d=g("ul",this.df),e=null;1===c.length?(e=c[b](),1===e.length&&c.removeClass("oj-hover")):e=g(d.children()[0]);e&&1===e.length&&(e.addClass("oj-hover"),d.attr("aria-activedescendant",e.children()[0].id),this.FR(e))},aba:function(a){var b=this.df,c=g("[aria-selected]",b),d=g("ul",
b),b=g(".oj-hover div",b);1===b.length&&(1===c.length&&(c.removeAttr("aria-selected"),c.parent().removeClass("oj-hover")),b.attr("aria-selected","true"),b.parent().addClass("oj-hover"),this._hide(this.bs),this.Jl(b.attr("data-value")),this.yc(b.attr("data-value"),a),d.attr("aria-activedescendant",b[0].id),this.Vj()&&this.Zh.widget._hide(this.bs))},vV:function(a){this.Uk()&&this._superApply(arguments)},show:function(){if(!(this.ot()||this.options.disabled||this.options.readOnly))if(this.qn)this.qn=
!1;else return m(this)?(this.element.blur(),this.YDa()):this.Ro()?this.cEa():this.VDa()},YDa:function(){var b={},d=this.I8(),e=c(d,this.ai());b.date=e;b.mode="time";e=r(this.options.timePicker.timeIncrement);b.minuteInterval=0===e.WM?e.JN:1;var f=this.Vj()?this.Zh.widget.options.min:this.options.min,e=this.Vj()?this.Zh.widget.options.max:this.options.max;f&&(f=c(d,a.Na._minMaxIsoString(f,this.ai())),b.minDate=f.valueOf());e&&(d=c(d,a.Na._minMaxIsoString(e,this.ai())),b.maxDate=d.valueOf());var g=
this;this.To=!0;window.datePicker.show(b,function(b){g.To=!1;b&&(b=a.Na._dateTime(g.ai(),{hours:b.getHours(),minutes:b.getMinutes(),seconds:b.getSeconds()}),b=g.oc().format(b),g.yc(b,{}));g.Uo(g.bs)},function(b){g.To=!1;b.startsWith("cancel")?g.Uo(g.as):a.t.log("Error: native time picker failed: "+b)})},VDa:function(){this.Vj()&&this.Zh.widget._hide(this.Fg);this.YI();var b=this.df,c=this.JK;b.width(this.element.parent().width());b.css({position:"relative"});var d=a.Gd.ql({my:"start top",at:"start bottom",
of:this.element,collision:"flipfit flipfit"},this.Qg);c.ojPopup("open",this.element.parent(),d);b.find("[aria-selected]").parent().addClass("oj-hover")},hide:function(){return this._hide(this.Fg)},_hide:function(a){!m(this)&&this.ot()&&(this.Ro()?this.LK.ojPopup("close"):this.JK.ojPopup("close"),this.Uo(a));return this},Uo:function(){this.ED&&"focus"===this.options.timePicker.showOn?(this.Uk()?this.Vl:this.Zh.widget.Vl).focus():("focus"===this.options.timePicker.showOn&&(this.Uk()?this.qn=!0:this.Zh.widget.qn=
!0),this.element.focus())},refresh:function(){this.uf&&this.uf.find("."+this.JQ).attr("title",this.MT());return this._superApply(arguments)||this},Jl:function(a){this.Uk()&&this._superApply(arguments);this.ot()&&(this.Ro()?this.vI():this.YI())},yc:function(b,c,d){if(this.Vj()){this._super(b,null,d);try{var e=this.oc(),f=e.parse(b),g=a.Na,h=this.Zh.widget,k=h.Fga()||g.dateToLocalIso(new Date);if(!f||0!==e.xe(k,f)){var n=g._copyTimeOver(f||g.dateToLocalIso(new Date),k);h.kLa(n,c)}}catch(l){}}else this._superApply(arguments)},
NB:function(){return this.Uk()},Uk:function(){return!this.Vj()||this.o$()},_GetDefaultStyleClass:function(){return"oj-inputtime"},Yx:function(){return this.options.value||""},PB:function(){var b=this._superApply(arguments);null==this.options.min&&null==this.options.max||this.Vj()||(this.QW[a.Ve.VALIDATOR_TYPE_DATETIMERANGE]=e(this.options,this.oc()));return g.extend(this.QW,b)},oc:function(){return this.options.converter?this._superApply(arguments):g.oj.ojInputTime.prototype.options.converter},FR:function(a,
b){var c=a.parent();b&&this.Nda&&g(c).scrollTop(this.Nda);var d=g(c).scrollTop(),e=d+g(c).height(),f=a[0].offsetTop,h=f+g(a).height();f<d?g(c).scrollTop(f):h>e&&g(c).scrollTop(h-g(c).height())},Vj:function(){return null!==this.Zh},o$:function(){return this.Zh.inline},Hj:function(){this._hide(this.Fg);this._superApply(arguments)},Wm:function(){this._hide(this.Fg);this._superApply(arguments)},OLa:function(a){return a?g.contains((this.Ro()?this.$k:this.df)[0],a):!1},XC:function(){var a=this.Fj(this.F("cancelText")),
a="\x3ca role\x3d'button' href\x3d'#' class\x3d'oj-enabled oj-default oj-timepicker-cancel-button' title\x3d'"+a+"'\x3e"+a+"\x3c/a\x3e",b=this.Fj(this.F("okText")),c="\x3cdiv class\x3d'oj-timepicker-header"+(this.options.disabled?" oj-disabled ":" oj-enabled oj-default ")+"'\x3e",c=c+a+("\x3ca role\x3d'button' href\x3d'#' class\x3d'oj-enabled oj-default oj-timepicker-ok-button' title\x3d'"+b+"'\x3e"+b+"\x3c/a\x3e");return c+="\x3c/div\x3e"},WC:function(a,b){var c="",d="\x3ca role\x3d'button' href\x3d'#' class\x3d'oj-timepicker-now oj-priority-secondary oj-enabled'\x3e"+
this.Fj(this.F("currentTimeText"))+"\x3c/a\x3e";if(a&&1<a.length){var e=0,d=[{index:a.indexOf("now"),content:b?d:""}];for(d.sort(function(a,b){return a.index-b.index});e<d.length&&0>d[e].index;)e++;for(;e<d.length;)c+=d[e++].content;0<c.length&&(c="\x3cdiv class\x3d'oj-timepicker-footer'\x3e"+c+"\x3c/div\x3e")}return c},M7:function(b,c,d){b=(c=(c=(c=this.Vj()?this.Zh.widget.options[c]:this.options[c])?a.Na._minMaxIsoString(c,this.ai()):c)?b.parse(c):c)?a.Na._clearTime(c):null;d&&b&&d.substring(0,
d.indexOf("T"))!==b.substring(0,b.indexOf("T"))&&(c=null);return c},Cua:function(b){var c=this.ai();c||(c=new Date,c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),c=a.Na.dateToLocalIso(c));return c=b.parse(c)},Ita:function(){var b=a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter({pattern:"a"});return[b.format("2016-01-01T01:00:00Z"),b.format("2016-01-01T13:00:00Z")]},vI:function(){var b=this.$k;b.empty();var c=this.oc(),d=c.resolvedOptions();"zulu"===d.gZ&&(d.gZ="offset",c=
a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter(d),d=c.resolvedOptions());var e=a.Na,f=this.ai(),h=new Date;f||(f=a.Na.dateToLocalIso(h));var f=c.parse(f),f=e._clearTime(f),e=this.M7(c,"min",f),f=this.M7(c,"max",f),k=this.options.timePicker.footerLayout,l=this.Oda=new p;(d=d.pattern||d.patternFromOptions)&&(l.format=d);l.ampmStrings=this.Ita();if(d=this.options.timePicker.timeIncrement)d=r(d),l.increment=60*d.WM+d.JN;l.isoValue=this.Cua(c);e&&(l.isoMin=e);f&&(l.isoMax=f);b.append(g(this.XC(b)));
this.mea=g(n(l));b.append(this.mea);b.append(g(this.WC(k,h)));b.find(".oj-timepicker-hour").attr("aria-label",this.F("hourWheelLabel"));b.find(".oj-timepicker-minute").attr("aria-label",this.F("minuteWheelLabel"));b.find(".oj-timepicker-meridian").attr("aria-label",this.F("ampmWheelLabel"));this.$k.append(b)},cEa:function(){this.Vj()&&this.Zh.widget.hide();var b=this,c=this.LK;this.vI();this.$k.find(".oj-timepicker-cancel-button").on("click",function(a){a.preventDefault();c.ojPopup("close");b.Uo(b.as)});
this.$k.find(".oj-timepicker-ok-button").on("click",function(a){b.yc(b.Oda.isoValue,a);a.preventDefault();c.ojPopup("close");b.Uo(b.bs)});this.$k.find(".oj-timepicker-now").on("click",function(c){var d=a.Na.dateToLocalIso(new Date),d=b.oc().parse(d);b.Oda.isoValue=d;c.preventDefault()});var d=a.Gd.ql({my:"start top",at:"start bottom",of:this.element,collision:"flipfit flipfit"},this.Qg);c.ojPopup("open",this.element.parent(),d);this.mea.children().first().focus()},getNodeBySubId:function(a){var b=
null,c=a&&a.subId,d=this.$k;if(c)switch(c){case "oj-listbox-drop":b=this.df?this.df[0]:null;break;case "oj-inputdatetime-time-icon":b=g(".oj-inputdatetime-time-icon",this.uf)[0];break;case "oj-inputdatetime-time-input":b=this.element[0];break;case "oj-timepicker-content":b=d?d[0]:null;break;case "oj-timepicker-cancel-button":b=g(".oj-timepicker-cancel-button",d)[0];break;case "oj-timepicker-ok-button":b=g(".oj-timepicker-ok-button",d)[0];break;case "oj-timepicker-hour":b=g(".oj-timepicker-hour",d)[0];
break;case "oj-timepicker-minute":b=g(".oj-timepicker-minute",d)[0];break;case "oj-timepicker-meridian":b=g(".oj-timepicker-meridian",d)[0];break;case "oj-timepicker-now":b=g(".oj-timepicker-now",d)[0];break;default:b=null}return b||this._superApply(arguments)},getSubIdByNode:function(a){var b=g(".oj-inputdatetime-time-icon",this.uf),c=null,d=this.$k,e=[{selector:".oj-timepicker-cancel-button",ele:d},{selector:".oj-timepicker-ok-button",ele:d},{selector:".oj-timepicker-hour",ele:d},{selector:".oj-timepicker-minute",
ele:d},{selector:".oj-timepicker-meridian",ele:d},{selector:".oj-timepicker-now",ele:d}];if(this.df&&a===this.df[0])c="oj-listbox-drop";else if(a===b[0])c="oj-inputdatetime-time-icon";else if(a===this.element[0])c="oj-inputdatetime-time-input";else if(d&&a===d[0])c="oj-timepicker-content";else for(b=0;b<e.length;b++){var d=e[b],f=g(d.selector,d.ele);if(1===f.length&&f[0]===a){c=d.selector.substr(1);break}}return c||this._superApply(arguments)},widget:function(){return this.Uk()?this._super():this.Zh.widget.widget()}});
a.Components.Op({ojInputTime:{renderMode:a.Components.Sf(function(){return(a.md.Bf("oj-inputdatetime-option-defaults")||{}).renderMode}),keyboardEdit:a.Components.Sf(function(){return(a.md.Bf("oj-inputdatetime-option-defaults")||{}).keyboardEdit}),timePicker:a.Components.Sf(function(){return(a.md.Bf("oj-inputdatetime-option-defaults")||{}).timePicker})}});q.jGa=0;a.Pa("oj.ojInputDateTime",g.oj.ojInputDate,{version:"1.0.0",widgetEventPrefix:"oj",_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-time oj-component oj-inputdatetime",
_INPUT_HELPER_KEY:"inputHelpBoth",options:{converter:a.Aa.fk(a.xk.CONVERTER_TYPE_DATETIME).createConverter({day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit"}),renderMode:"jet",timePicker:{timeIncrement:"00:30:00:00",showOn:"focus"}},kH:function(){this._super();this.Nz=this.element;this.MK=this.KE=this.tf=null},_ComponentCreate:function(){var a=this._super(),b=this.H8(this.oc());if(null===b)throw Error("Please use ojInputDate if you do not have time portion");
if(this.bf){var c=g("\x3cinput type\x3d'text'\x3e");c.insertAfter(this.element);this.Nz=c}for(var c="title placeholder disabled required readOnly keyboardEdit pickerAttributes".split(" "),d={},e=0,f=c.length;e<f;e++)d[c[e]]=this.options[c[e]];this.tf=this.Nz.ojInputTime(g.extend(d,{converter:b,displayOptions:{converterHint:"none",title:"none",messages:this.options.displayOptions.messages},value:this.options.value,timePicker:this.options.timePicker,datePickerComp:{widget:this,inline:this.bf}}));return a},
_setOption:function(a,b,c){var d=this._superApply(arguments);"value"===a&&(this.MK=this.options.value);this.tf&&(a in{disabled:!0,readOnly:!0,keyboardEdit:!0}?this.tf.ojInputTime("option",a,b):"timePicker"===a?this.tf.ojInputTime("option","timePicker.timeIncrement",b.timeIncrement):"converter"===a&&(this.KE=null,this.tf.ojInputTime("option",a,this.H8(this.oc()))));return d},_destroy:function(){var a=this._super();this.tf.ojInputTime("destroy");this.bf&&this.Nz.remove();return a},vH:function(){"focus"===
this.options.datePicker.showOn&&g(this.tf.ojInputTime("getNodeBySubId",{subId:"oj-listbox-drop"})).is(":visible")?(this.tf.ojInputTime("hide"),this.qn=!0,this.element.focus()):this._super()},H8:function(a){return null!==this.KE?this.KE:this.KE=t(a)},kLa:function(a,b){var c=this.oc().format(a);this.Jl(c);this.yc(c,b)},Fga:function(){if(this.isValid())return this.options.value;if(this.MK)try{return this.oc().parse(this.MK)}catch(a){return this.options.value}else return null},yc:function(a,b,c){this._superApply(arguments);
this.MK=a},EK:function(a){var b=g.ui.keyCode,c=!1;switch(a.keyCode){case b.UP:case b.DOWN:a.shiftKey&&(this.yc(this.Ri(),a),this.tf.ojInputTime("show"),c=!0)}return c?(a.preventDefault(),a.stopPropagation(),!1):this._superApply(arguments)},show:function(){m(this)||this.tf.ojInputTime("hide");return this._super()},U2:function(a){a.mode="datetime";var b=r(this.options.timePicker.timeIncrement);a.kNa=0===b.WM?b.JN:1;return this._super(a)},B2:function(b){this.To=!1;b&&(b=a.Na._dateTime(this.en(),{month:b.getMonth(),
date:b.getDate(),fullYear:b.getFullYear(),hours:b.getHours(),minutes:b.getMinutes(),seconds:b.getSeconds()}),b=this.oc().format(b),this.yc(b,{}));this.Uo(this.bs)},showTimePicker:function(){this.hide();return this.tf.ojInputTime("show")},hideTimePicker:function(){return this.tf.ojInputTime("hide")},refresh:function(){var a=this._superApply(arguments)||this;this.tf.ojInputTime("refresh");return a},getNodeBySubId:function(a){var b=a&&a.subId,c=null;b&&("oj-listbox-drop"===b||"oj-inputdatetime-time-icon"===
b?c=this.tf.ojInputTime("getNodeBySubId",a):"oj-inputdatetime-date-input"===b&&(c=this.bf?this.Nz[0]:this.element[0]));return c||this._superApply(arguments)},getSubIdByNode:function(a){var b=null;this.bf?a===this.Nz[0]&&(b="oj-inputdatetime-date-input"):a===this.element[0]&&(b="oj-inputdatetime-date-input");return b||this.tf.ojInputTime("getSubIdByNode",a)||this._superApply(arguments)},oc:function(){return this.options.converter?this._superApply(arguments):g.oj.ojInputDateTime.prototype.options.converter},
Hj:function(){this.tf&&this.hideTimePicker();this._superApply(arguments)},Wm:function(){this.tf&&this.hideTimePicker();this._superApply(arguments)},_GetMessagingLauncherElement:function(){return this.bf?this.Nz:this._super()},_GetDefaultStyleClass:function(){return"oj-inputdatetime"},gH:function(){return"oj-ojInputDate"}});a.Components.Wa("ojInputTime","inputBase",{properties:{converter:{},keyboardEdit:{type:"string"},max:{},min:{},pickerAttributes:{type:"Object"},placeholder:{},renderMode:{type:"string"},
timePicker:{type:"Object"},validators:{type:"Array"},value:{type:"string",writeback:!0}},methods:{getNodeBySubId:{},getSubIdByNode:{},hide:{},refresh:{},show:{},widget:{}},extension:{_hasWrapper:!0,_innerElement:"input",_widgetName:"ojInputTime"}});a.Components.register("oj-input-time",a.Components.getMetadata("ojInputTime"));(function(){a.Components.Wa("ojInputDate","inputBase",{properties:{converter:{},datePicker:{type:"Object"},dayFormatter:{},dayMetaData:{},keyboardEdit:{type:"string"},max:{},
min:{},pickerAttributes:{type:"Object"},placeholder:{},renderMode:{type:"string"},validators:{type:"Array"},value:{type:"string",writeback:!0}},methods:{getNodeBySubId:{},getSubIdByNode:{},hide:{},refresh:{},show:{}},extension:{_hasWrapper:!0,_innerElement:"input",_widgetName:"ojInputDate"}});a.Components.register("oj-input-date",a.Components.getMetadata("ojInputDate"));var b=a.Xc.vf({},a.Components.getMetadata("ojInputDate"),void 0,!0);b.extension._innerElement="div";a.Components.register("oj-date-picker",
b)})();(function(){a.Components.Wa("ojInputDateTime","ojInputDate",{properties:{converter:{},max:{},min:{},renderMode:{type:"string"},timePicker:{type:"Object"},validators:{type:"Array"},value:{type:"string",writeback:!0}},methods:{getNodeBySubId:{},getSubIdByNode:{},hideTimePicker:{},show:{},showTimePicker:{}},extension:{_hasWrapper:!0,_innerElement:"input",_widgetName:"ojInputDateTime"}});a.Components.register("oj-input-date-time",a.Components.getMetadata("ojInputDateTime"));var b=a.Xc.vf({},a.Components.getMetadata("ojInputDateTime"),
void 0,!0);b.extension._innerElement="div";a.Components.register("oj-date-time-picker",b)})()});