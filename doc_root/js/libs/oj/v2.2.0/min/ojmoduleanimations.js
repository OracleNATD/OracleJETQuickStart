/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","knockout","promise","ojs/ojanimation"],function(a,g){a.aa={};a.aa.B1={coverStart:{zr:"oj-animation-coverstart",Kp:"oj-animation-coverstart",Lp:!0},coverUp:{Kp:"oj-animation-coverup",Lp:!0},fade:{zr:"oj-animation-fade",Kp:"oj-animation-fade",Lp:!1},pushStart:{zr:"oj-animation-revealstart",Kp:"oj-animation-coverstart",Lp:!1},pushEnd:{zr:"oj-animation-revealend",Kp:"oj-animation-coverend",Lp:!1},revealDown:{zr:"oj-animation-revealdown",Lp:!1},revealEnd:{zr:"oj-animation-revealend",
Kp:"oj-animation-revealend",Lp:!1},zoomIn:{Kp:"oj-animation-zoomin",Lp:!0},zoomOut:{zr:"oj-animation-zoomout",Lp:!1}};a.aa.V3=function(a,c,d){var e=$(a);return new Promise(function(a){function b(){a(!0)}var g="oj-"+d,l=g+"-active";e.addClass(c);e.addClass(g);window.requestAnimationFrame(function(){e.addClass(l)});if((g=e.css("animationDuration")||e.css("webkitAnimationDuration"))&&"0s"!=g)e.on("animationend webkitAnimationEnd",b);else if((g=e.css("transitionDuration")||e.css("webkitTransitionDuration"))&&
"0s"!=g)e.on("transitionend webkitTransitionEnd",b);else a(!0)})};a.aa.wpa=function(b,c,d){var e=[];d=a.aa.B1[d];b&&d&&d.zr&&e.push(a.aa.V3(b,d.zr,"leave"));c&&d&&d.Kp&&e.push(a.aa.V3(c,d.Kp,"enter"));return Promise.all(e)};a.aa.C3=function(a,c){for(var d=g.virtualElements.firstChild(a);d;)1==d.nodeType?c.push(d):8==d.nodeType&&this.C3(d,c),d=g.virtualElements.nextSibling(d)};a.aa.dqa=function(a,c){a._ojOldRoot=c};a.aa.zva=function(a){return a._ojOldRoot};a.aa.gS=function(b){if(b.isInitial)return!1;
if(1==b.node.nodeType)return!0;if(8==b.node.nodeType){var c=[];a.aa.C3(b.node,c);if(c&&1==c.length)return a.aa.dqa(b,c[0]),!0}return!1};a.aa.f8=function(b){var c;1==b.node.nodeType?c=b.node:8==b.node.nodeType&&(c=a.aa.zva(b));return c};a.aa.zy=function(a){var c=$(document.createElement("div")),d={position:"absolute",height:a.offsetHeight+"px",width:a.offsetWidth+"px",left:a.offsetLeft+"px",top:a.offsetTop+"px"};c.appendTo(a.offsetParent);c.css(d);c.addClass("oj-animation-host-viewport");a=document.createElement("div");
a.className="oj-animation-host";c.append(a);return a};a.aa.S5=function(b,c){var d={},e=a.aa.B1[c],f=a.aa.f8(b);e&&(e.Kp&&!e.Lp&&(d.newViewParent=a.aa.zy(f)),e.zr&&(d.oldViewParent=a.aa.zy(f)),e.Kp&&e.Lp&&(d.newViewParent=a.aa.zy(f)));return d};a.aa.Q5=function(b,c){return a.aa.wpa(b.oldViewParent,b.newViewParent,c).then(function(){a.aa.Oaa(b)})};a.aa.Lba=function(a,c){var d=a[c];d&&(d=d.parentNode)&&d.parentNode&&d.parentNode.removeChild(d)};a.aa.Oaa=function(b){b.removeOldView();b.insertNewView();
a.aa.Lba(b,"newViewParent");a.aa.Lba(b,"oldViewParent")};a.aa.xq=function(b){return{canAnimate:a.aa.gS,prepareAnimation:function(c){return a.aa.S5(c,b)},animate:function(c){return a.aa.Q5(c,b)}}};a.aa.vT=function(b){null==a.aa.qV&&(a.aa.qV=a.md.Bf("oj-animation-navigate-methods"));return a.aa.qV?a.aa.qV[b]:null};a.aa.cAa=function(b,c){return a.aa.vT(c)&&a.aa.gS(b)};a.aa.dAa=function(b,c){var d=a.aa.vT(c);return a.aa.S5(b,d)};a.aa.bAa=function(b,c){var d=a.aa.vT(c);return a.aa.Q5(b,d)};a.aa.xJ=function(b){return{canAnimate:function(c){return a.aa.cAa(c,
b)},prepareAnimation:function(c){return a.aa.dAa(c,b)},animate:function(c){return a.aa.bAa(c,b)}}};a.aa.kGa=a.aa.xq("coverStart");o_("ModuleAnimations.coverStart",a.aa.kGa,a);a.aa.EKa=a.aa.xq("revealEnd");o_("ModuleAnimations.revealEnd",a.aa.EKa,a);a.aa.lGa=a.aa.xq("coverUp");o_("ModuleAnimations.coverUp",a.aa.lGa,a);a.aa.DKa=a.aa.xq("revealDown");o_("ModuleAnimations.revealDown",a.aa.DKa,a);a.aa.H_=a.aa.xq("zoomIn");o_("ModuleAnimations.zoomIn",a.aa.H_,a);a.aa.I_=a.aa.xq("zoomOut");o_("ModuleAnimations.zoomOut",
a.aa.I_,a);a.aa.WGa=a.aa.xq("fade");o_("ModuleAnimations.fade",a.aa.WGa,a);a.aa.dKa=a.aa.xq("pushStart");o_("ModuleAnimations.pushStart",a.aa.dKa,a);a.aa.cKa=a.aa.xq("pushEnd");o_("ModuleAnimations.pushEnd",a.aa.cKa,a);a.aa.nia=a.aa.xJ("navChild");o_("ModuleAnimations.navChild",a.aa.nia,a);a.aa.oia=a.aa.xJ("navParent");o_("ModuleAnimations.navParent",a.aa.oia,a);a.aa.PGa=a.aa.nia;o_("ModuleAnimations.drillIn",a.aa.PGa,a);a.aa.QGa=a.aa.oia;o_("ModuleAnimations.drillOut",a.aa.QGa,a);a.aa.JJa=a.aa.xJ("navSiblingEarlier");
o_("ModuleAnimations.navSiblingEarlier",a.aa.JJa,a);a.aa.KJa=a.aa.xJ("navSiblingLater");o_("ModuleAnimations.navSiblingLater",a.aa.KJa,a);a.aa.eLa=function(b){return new function(){function c(a){return function(b){return d[a].call(d,b)}}var d,e=this;this.canAnimate=function(f){var g=b(f);d=null==g?null:a.ModuleAnimations[g];if(!d)return!1;for(var g=["prepareAnimation","animate"],k=0;k<g.length;k++){var l=g[k];e[l]=c(l)}return c("canAnimate")(f)}}};o_("ModuleAnimations.switcher",a.aa.eLa,a);a.aa.mGa=
function(b,c,d){return{canAnimate:a.aa.gS,prepareAnimation:function(e){var f={};e=a.aa.f8(e);c&&!d&&(f.newViewParent=a.aa.zy(e));b&&(f.oldViewParent=a.aa.zy(e));c&&d&&(f.newViewParent=a.aa.zy(e));return f},animate:function(d){var f=d.oldViewParent,g=d.newViewParent,k=[];f&&b&&k.push(a.$.Yn(f,"close",b));g&&c&&k.push(a.$.Yn(g,"open",c));return Promise.all(k).then(function(){a.aa.Oaa(d)})}}};o_("ModuleAnimations.createAnimation",a.aa.mGa,a)});