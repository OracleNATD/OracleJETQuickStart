/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdomscroller","ojs/ojanimation","promise"],function(a,g){a.Ud=function(a,c,d){this.ba=c;this.A=a;this.Bd=!1;this.pja(d);this.Init()};a.b.sa(a.Ud,a.b,"oj.DataSourceContentHandler");a.Ud.prototype.Init=function(){a.Ud.u.Init.call(this)};a.b.g("DataSourceContentHandler.prototype.Init",{Init:a.Ud.prototype.Init});a.Ud.prototype.Bx=function(){};a.Ud.prototype.QA=function(){};a.Ud.prototype.bh=function(){g(this.ba).empty();this.ba=this.A=null};a.Ud.prototype.Dx=
function(){return!this.Bd};a.Ud.prototype.j_=function(){this.Vp()?this.ba.setAttribute("role","tree"):this.ba.setAttribute("role","listbox")};a.Ud.prototype.G0=function(){this.Rb();this.rp(!1);this.j_();this.Mb()};a.Ud.prototype.Ag=function(a){return a.key};a.Ud.prototype.Ue=function(a){var c,d,e;c=g(this.ba).find("."+this.A.Ah());for(d=0;d<c.length;d++)if(e=c[d],a==this.Ag(e))return e;return null};a.Ud.prototype.Ofa=function(){return this.Ra};a.Ud.prototype.pja=function(a){this.Ra=a};a.Ud.prototype.rp=
function(){this.A.aB()};a.Ud.prototype.AX=function(a,c,d,e,f){var h,k;h=document.createElement("li");g(h).uniqueId();k=g(a).children("."+this.A.Ah()+", .oj-listview-no-data-message");a.insertBefore(h,c===k.length?null:k[c]);k=g(a).children().index(h);this.E3(h,k,a,c,d,e,f)};a.Ud.prototype.tKa=function(a,c,d,e,f){var h,k;this.Rb();g(a).empty();h=a.parentNode;k=g(h).children().index(a);this.E3(a,k,h,c,d,e,f)};a.Ud.prototype.E3=function(a,c,d,e,f,h,k){var l;void 0==k&&(k=this.zw.bind(this));e=this.TX(e,
f,h,a);h=this.A.Dua();null!=h?(h=h.call(this,e),null!=h&&(null===h.parentNode||h.parentNode instanceof DocumentFragment?a.appendChild(h):null==h.parentNode&&h.toString&&(l=document.createElement("span"),l.appendChild(document.createTextNode(h.toString())),a.appendChild(l)))):(l=document.createElement("span"),l.appendChild(document.createTextNode(null==f?"":f.toString())),a.appendChild(l));a=d.children[c];e.parentElement=a;g.data(a,"data",f);k(a,e)};a.Ud.prototype.zw=function(a,c){var d;a.key=c.key;
a=g(a);a.uniqueId();d=this.A.GM(a);d.attr("role",this.Vp()?"treeitem":"option");d!=a&&a.attr("role","presentation");d.addClass(this.A.sp());this.AA(c)||a.addClass("oj-skipfocus");a.addClass(this.A.Ah())};a.Ud.prototype.TX=function(a,c,d,e){var f,g;f={};f.parentElement=e;f.index=a;f.data=c;f.component=this.A.De();f.datasource=this.Ra;for(g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return f};a.Ud.prototype.AA=function(a){return this.A.jD("focusable",a,!0)};a.Ud.prototype.dN=function(a){return this.A.jD("selectable",
a,!0)};a.Ud.prototype.Rb=function(){this.A&&this.A.Rb()};a.Ud.prototype.Mb=function(){this.A&&this.A.Mb()};a.Xb=function(b,c,d){a.Xb.u.constructor.call(this,b,c,d)};a.b.sa(a.Xb,a.Ud,"oj.TableDataSourceContentHandler");a.Xb.prototype.Init=function(){a.Xb.u.Init.call(this)};a.Xb.prototype.Vp=function(){return!1};a.Xb.prototype.bh=function(){a.Xb.u.bh.call(this);this.rE();null!=this.FA&&(this.FA.destroy(),this.wZ=this.FA=null);this.TF=null};a.Xb.prototype.Bx=function(a,c){this.ei()&&void 0!=this.St&&
this.St!=c&&(this.St=c,this.checkViewport())};a.Xb.prototype.QA=function(){this.ei()&&this.checkViewport()};a.Xb.prototype.ei=function(){return"loadMoreOnScroll"==this.A.options.scrollPolicy?!0:!1};a.Xb.prototype.Go=function(){return Math.max(0,this.A.options.scrollPolicyOptions.fetchSize)};a.Xb.prototype.Bv=function(){var b=this.A.options.scrollPolicyOptions.scroller;return null!=b&&g.contains(b,this.ba)?(this.qv=a.Gf.WFa(b,this.ba),b):this.A.jk()};a.Xb.prototype.qT=function(){return this.A.options.scrollPolicyOptions.maxCount};
a.Xb.prototype.pja=function(b){var c;this.rE();if(null!=b){this.ei()&&(c=this,this.wZ=function(a){null!=a?(c.Rb(),c.TV(),c.Dx()&&c.Rb(),c.iU(a),a.maxCountLimit?c.oU():c.W3(),c.Mb(),c.Mb()):void 0===a&&(c.TV(),c.Mb())},this.FA=new a.Gf(this.Bv(),b,{fetchSize:this.Go(),fetchTrigger:this.qv,maxCount:this.qT(),success:this.wZ,error:this.Mb}),this.FA.pU=function(b,e){1>=e-b&&c.Rb();a.Gf.prototype.pU.call(this,b,e)});this.Tha=this.CIa.bind(this);this.Sha=this.BIa.bind(this);this.Oha=this.xIa.bind(this);
this.Rha=this.zIa.bind(this);this.Pha=this.yIa.bind(this);this.sN=this.AIa.bind(this);if(a.Ba&&b instanceof a.Ba)b.on("sync",this.Tha);b.on("sort",this.Sha);b.on("add",this.Oha);b.on("remove",this.Rha);b.on("change",this.Pha);b.on("reset",this.sN);b.on("refresh",this.sN)}this.Ra=b};a.Xb.prototype.W3=function(){var a,c;null==this.TF&&(a=g(document.createElement("li")),a.uniqueId().attr("role","presentation").addClass(this.A.fj()),c=g(document.createElement("div")),c.addClass("oj-listview-loading-icon"),
a.append(c),g(this.ba).append(a),this.TF=a)};a.Xb.prototype.TV=function(){null!=this.TF&&this.TF.remove();this.TF=null};a.Xb.prototype.zw=function(b,c){var d;a.Xb.u.zw.call(this,b,c);g(b).addClass(this.A.fj());this.A.Ac()&&this.dN(c)&&this.A.ng(g(b)).attr("aria-selected",!1);this.ei()&&(d=Math.min(this.Ra.totalSize(),this.qT()),-1===d&&(d=this.qT()),0<d&&g(b).attr("aria-setsize",d).attr("aria-posinset",c.index+1));this.A.Pw(b,c)};a.Xb.prototype.vFa=function(b,c){var d,e;this.Rb();this.zw(b,c);d=g(b);
d.outerHeight();e=this.A.fj();d.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e");d.removeClass(e).addClass("oj-listview-item-add-remove-transition");d.children().first().addClass(e);this.Rb();d=this.A.At("add");var f=this;a.$.Yn(b,"add",d).then(function(){f.Iva(c,b)});this.Mb()};a.Xb.prototype.oU=function(){a.t.error("max count reached")};a.Xb.prototype.rE=function(){null!=this.Ra&&(this.Ra.off("sync",this.Tha),this.Ra.off("sort",this.Sha),this.Ra.off("add",this.Oha),this.Ra.off("remove",this.Rha),this.Ra.off("change",
this.Pha),this.Ra.off("reset",this.sN),this.Ra.off("refresh",this.sN))};a.Xb.prototype.SDa=function(a){return this.ei()&&null!=a&&a.keys&&0<a.keys.length&&(-1==this.Ra.totalSize()||this.Ra.totalSize()>a.keys.length)};a.Xb.prototype.rp=function(b){var c=!0,d;this.Rb();if(this.Dx()&&(this.Bd=!0,a.Xb.u.rp.call(this,b),a.Ba&&this.Ra instanceof a.Ba&&(c=!1,this.Rb()),c||b)){c&&this.Rb();b={fetchType:"init",startIndex:0};this.ei()&&(b.pageSize=this.Go());d=this;b=this.Ra.fetch(b);b.then(function(a){null!=
d.A&&c&&(g(d.ba).empty(),d.iU(a),d.SDa(a)&&(d.W3(),d.A.hO()))},function(a){d.Cq(a);d.Mb()});this.Mb();return}this.Mb()};a.Xb.prototype.Cq=function(b){a.t.error(b);this.ei()&&this.TV();this.A.gu()};a.Xb.prototype.Os=function(a,c){var d,e,f;d=this.ba.childElementCount;for(e=0;e<a.length;e++)f=a[e],this.AX(this.ba,d,f,this.getMetadata(d,c[e],f)),d+=1};a.Xb.prototype.xIa=function(a){var c,d,e;if(null!=this.ba){this.Rb();c=a.data;d=a.keys;a=a.indexes;if(null!=c&&null!=d&&0<d.length&&0<c.length&&d.length==
c.length&&null!=a&&d.length==a.length){for(e=0;e<c.length;e++)this.Rb(),this.AX(this.ba,a[e],c[e],this.getMetadata(a[e],d[e],c[e]),this.vFa.bind(this)),this.Mb();this.Dx()&&this.Rb();this.qfa()}this.Mb()}};a.Xb.prototype.Iva=function(a,c){g(c).removeClass("oj-listview-item-add-remove-transition").addClass(this.A.fj()).children().children().unwrap();this.A.yha(c,a);this.Mb()};a.Xb.prototype.zIa=function(a){var c,d;a=a.keys;if(null!=this.ba&&null!=a&&0!=a.length){this.Rb();for(c=0;c<a.length;c++)d=
this.Ue(a[c]),null!=d&&(this.Rb(),this.RBa(d),this.Mb());this.A.vx();this.Mb()}};a.Xb.prototype.RBa=function(b){var c,d=this,e;this.Rb();c=this.A.fj();b=g(b);b.children().wrapAll("\x3cdiv class\x3d'"+c+"'\x3e\x3c/div\x3e");b.removeClass(c).addClass("oj-listview-item-add-remove-transition");this.Rb();c=this.A.At("remove");e=b.get(0);a.$.Yn(e,"remove",c).then(function(){d.qxa(b)});this.Mb()};a.Xb.prototype.qxa=function(a){a=g(a);var c=a.parent();this.A.hZ(a.get(0));a.remove();0==c.get(0).childElementCount&&
this.A.gu();this.Mb()};a.Xb.prototype.yIa=function(a){var c,d,e,f;c=a.keys;if(null!=this.ba&&null!=c&&0!=c.length){this.Rb();d=a.data;a=a.indexes;for(e=0;e<c.length;e++)f=this.Ue(c[e]),null!=f&&(this.Rb(),this.tKa(f,a[e],d[e],this.getMetadata(a[e],c[e],d[e]),this.uFa.bind(this)),this.Mb());this.A.vx();this.Mb()}};a.Xb.prototype.uFa=function(b,c){var d=this,e;this.Rb();this.zw(b,c);e=this.A.At("update");a.$.Yn(b,"update",e).then(function(){d.rxa(b)});this.Mb()};a.Xb.prototype.rxa=function(a){g(a).removeClass("oj-listview-item-add-remove-transition");
this.A.BKa();this.Mb()};a.Xb.prototype.AIa=function(){null!=this.ba&&(this.Rb(),this.A.vx(),this.rp(!0),this.Mb())};a.Xb.prototype.iU=function(a){var c;null!=this.ba&&(c=a.data,a=a.keys,Array.isArray(c)&&Array.isArray(a)&&c.length==a.length&&(this.Os(c,a),this.qfa()))};a.Xb.prototype.CIa=function(a){null!=this.ba&&(this.Rb(),0===a.startIndex&&g(this.ba).empty(),this.A.vx(),this.iU(a),this.Mb())};a.Xb.prototype.BIa=function(){null!=this.ba&&(this.Rb(),this.A.vx(),this.A.tn()&&this.A.Ok(!0),this.rp(!0),
this.Mb())};a.Xb.prototype.qfa=function(){this.Bd=!1;this.A.gu();this.checkViewport();this.Mb()};a.Xb.prototype.checkViewport=function(){var a=this,c;this.Rb();null!=this.FA&&0<this.Ra.totalSize()&&this.Dx()&&(c=this.FA.checkViewport(),null!=c&&(this.Rb(),c.then(function(c){a.wZ(c);a.Mb()},null)));this.Mb()};a.Xb.prototype.getMetadata=function(a,c,d){d=d.context;null==d&&(d={});null==d.index&&(d.index=a);null==d.key&&(d.key=c);return d};a.Oi=function(b,c,d){a.Oi.u.constructor.call(this,b,c,d)};a.b.sa(a.Oi,
a.Ud,"oj.TreeDataSourceContentHandler");a.Oi.prototype.Init=function(){a.Oi.u.Init.call(this)};a.Oi.prototype.Vp=function(){return!0};a.Oi.prototype.rp=function(b){this.Rb();a.Oi.u.rp.call(this,b);this.si(0,null,this.ba,null);this.Mb()};a.Oi.prototype.si=function(a,c,d,e){this.Rb();this.Bd=!0;a={start:a,count:this.Ra.yh(c)};this.Ra.si(c,a,{success:function(a){this.Os(a,c,d,e)}.bind(this),error:function(a){this.Cq(a)}.bind(this)});this.Mb()};a.Oi.prototype.Os=function(a,c,d,e){var f,g,k,l;this.Rb();
c=a.getStart();f=a.getCount();for(g=0;g<f;g++)k=a.getData(c+g),l=a.getMetadata(c+g),this.AX(d,c+g,k,l);this.Bd=!1;null!=e&&e.call(null,d);this.A.gu();this.mj=!0;this.Mb()};a.Oi.prototype.zw=function(b,c){var d,e,f,h,k,l;this.Rb();a.Oi.u.zw.call(this,b,c);d=this.A.wi();e=this.A.fj();f=this.A.og();h=this.A.Iw();l=this.A.Hn();k=this.A.sp();b=g(b);!1==c.leaf?(b.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e"),b.hasClass(k)?b.removeClass(k).children().first().addClass(k).attr("aria-expanded","false"):b.children().first().attr("role",
"presentation").find("."+k).attr("aria-expanded","false"),e=b.children().first(),e.uniqueId().addClass(f),this.A.zA()&&(b.addClass("oj-collapsed"),f=document.createElement("a"),g(f).attr("href","#").attr("aria-labelledby",e.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),e.prepend(f)),l=document.createElement("ul"),g(l).addClass(d).addClass(h).attr("role","group"),b.append(l)):!0==c.leaf&&b.addClass(e);this.A.Ac()&&this.dN(c)&&this.A.ng(b).attr("aria-selected",!1);
this.A.Pw(b[0],c);this.Mb()};a.Oi.prototype.Cq=function(b){this.Rb();a.t.error(b);this.A.gu();this.Mb()};a.Oi.prototype.zx=function(a,c){var d,e;this.Rb();d=this.Ag(a[0]);e=a.children("ul")[0];this.si(0,d,e,c);this.Mb()};a.Oi.prototype.wx=function(a){a.empty()};a.qe=function(a,c){this.A=a;this.ba=c};a.b.sa(a.qe,a.b,"oj.StaticContentHandler");a.qe.prototype.Init=function(){a.qe.u.Init.call(this)};a.qe.prototype.bh=function(){this.hja(this.ba,0);this.rLa()};a.qe.prototype.Dx=function(){return!0};a.qe.prototype.Bx=
function(){};a.qe.prototype.QA=function(){};a.qe.prototype.G0=function(){this.kia(this.ba,0);this.j_();this.A.gu()};a.qe.prototype.zx=function(a,c){var d;d="."+this.A.wi();d=g(a).children(d)[0];g(d).css("display","block");c.call(null,d)};a.qe.prototype.wx=function(){};a.qe.prototype.Vp=function(){null==this.BZ&&(this.BZ=0<g(this.ba).children("li").children("ul").length);return this.BZ};a.qe.prototype.hja=function(a,c){var d,e,f,h,k,l,m,r,t,s;d=this.A.wi();e=this.A.Iw();f=this.A.jA();h=this.A.og();
k=this.A.fj();l=this.A.Ah();m=a.children;for(r=0;r<m.length;r++)t=m[r],this.qLa(t),t=g(t),t.removeClass(l).removeClass(k).removeClass(this.A.vY(c)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),s=t.children("ul"),0<s.length&&(t.children("."+h).children().unwrap(),t.children(".oj-component-icon").remove(),t=g(s[0]),t.removeClass(d).removeClass(f).removeClass(e).removeAttr("role"),this.hja(t[0],
c+1))};a.qe.prototype.kia=function(a,c){var d,e,f,h,k,l,m,r,t,s,q,p,n,u,v;d=this.A.fj();e=this.A.Ah();f=this.A.wi();h=this.A.og();k=this.A.Iw();l=this.A.Hn();m=this.A.sp();r=a.children;t=this.A.zA();for(s=0;s<r.length;s++)q=g(r[s]),p=this.TX(q),this.KKa(q),q.uniqueId().addClass(e),0<c&&q.addClass(this.A.vY(c)),this.AA(p)||q.addClass("oj-skipfocus"),n=q.children("ul"),0<n.length?(this.BZ=!0,q.children(":not(ul)").wrapAll("\x3cdiv\x3e\x3c/div\x3e"),u=q.children().first(),u.addClass(h),this.RIa(n[0])&&
(q.hasClass(m)?(q.removeClass(m),u.addClass(m).attr("aria-expanded","false")):(u.attr("role","presentation"),u.find("."+m).attr("aria-expanded","false")),t&&(q.addClass("oj-collapsed"),u.uniqueId(),v=document.createElement("a"),g(v).attr("href","#").attr("role","button").attr("aria-labelledby",u.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),u.prepend(v))),n=g(n[0]),n.addClass(f).addClass(k).attr("role","group").css("display","none"),this.kia(n[0],c+1)):q.addClass(d),
this.A.Ac()&&this.dN(p)&&this.A.ng(q).attr("aria-selected",!1),this.A.Pw(q[0],p)};a.qe.prototype.j_=function(){this.Vp()?this.ba.setAttribute("role","tree"):this.ba.setAttribute("role","listbox")};a.qe.prototype.rLa=function(){this.ba.removeAttribute("role")};a.qe.prototype.RIa=function(a){return 0<g(a).children("li").length};a.qe.prototype.TX=function(a){var c;c={};c.key=a.attr("id");c.parentElement=a.children().first()[0];c.index=a.index();c.data=a[0];c.component=this.A.De();this.Vp()&&(c.leaf=
0==a.children("ul").length,a=a.parents("li."+this.A.Ah()),c.depth=a.length,c.parentKey=0==a.length?null:a.first().attr("id"));return c};a.qe.prototype.KKa=function(a){var c=this.A.GM(a);c.attr("role",this.Vp()?"treeitem":"option");c!=a&&a.attr("role","presentation");c.addClass(this.A.sp())};a.qe.prototype.qLa=function(a){a=this.A.GM(g(a));a.removeAttr("role");a.removeAttr("aria-selected");a.removeAttr("aria-expanded");a.removeClass(this.A.sp())};a.qe.prototype.Ag=function(a){return g(a).attr("id")};
a.qe.prototype.Ue=function(a){return document.getElementById(a)};a.qe.prototype.AA=function(a){return this.A.jD("focusable",a,!0)};a.qe.prototype.dN=function(a){return this.A.jD("selectable",a,!0)};a.tV=function(b,c){function d(){}a.b.sa(d,b,"");d.prototype=g.extend(d.prototype,c);return d}(Object,{Cg:37,lh:39,vl:40,Dl:38,nP:9,BO:13,DO:27,EO:113,fP:32,Nm:0,Mm:1,I0:2,zLa:0,zu:1,mr:function(b){var c=this,d;this.fu=[];this.Rb();this.Y=b.Y;this.element=b.element;this.pe=b.pe;this.options=b;this.element.uniqueId().addClass(this.MO()+
" oj-component-initnode");this.VG();"undefined"!=typeof a.eb&&(this.kj=d=new a.eb(this),this.Y._on(this.element,{dragstart:function(a){return d.dU(a)},dragenter:function(a){return d.aU(a)},dragover:function(a){return d.cU(a)},dragleave:function(a){return d.bU(a)},dragend:function(a){return d.$T(a)},drag:function(a){return d.ewa(a)},drop:function(a){return d.eU(a)}}));this.Y._on(this.element,{click:function(a){c.PO(a)},touchstart:function(a){c.KG(a)},touchend:function(a){c.oB(a)},touchcancel:function(a){c.oB(a)},
mousedown:function(a){0!==a.button||c.kE()||c.KG(a)},mouseup:function(a){c.p9(a);c.JZ=!1},mouseout:function(a){c.n9(a)},mouseover:function(a){c.hxa(a)},keydown:function(a){c.JG(a)},ojpanmove:function(a){c.p9(a)}});this.Y._on(this.Y.element,{focus:function(a){c.Up(a)},blur:function(a){c.Tp(a)}});a.Xa.Gw().browser===a.Xa.tl.FO&&this.eg().attr("tabIndex",-1);this.zu===this.zu?this.Y._on(this.Y.element,{focusin:function(a){c.Up(a)},focusout:function(a){c.Ska(a)}}):this.Y._on(this.element,{focus:function(a){c.Up(a)},
blur:function(a){c.Tp(a)}});this.Y.document.bind("touchend.ojlistview touchcancel.ojlistview",this.oB.bind(this));this.yba();this.Y._focusable({applyHighlight:!0,recentPointer:c.F0(),setupHandlers:function(a,b){c.Ny=a;c.rv=b}})},Uz:function(){var a;this.Ypa();this.ms();this.T9();a=this.eg();this.xn(a[0]);this.Mb()},refresh:function(){this.Uba();this.Rb();this.SG();this.ms();this.T9();this.yba();this.Mb()},whenReady:function(){return this.Qia},destroy:function(){this.element.removeClass(this.MO()+
" oj-component-initnode");this.gp(this.eg());this.Uba();a.C.unwrap(this.element,this.eg());this.Y.document.off(".ojlistview")},Uba:function(){var a=this;this.Z0();this.wqa(this.element);null!=this.wf&&(this.wf.bh(),delete this.wf,this.wf=null);this.Rt=this.N=null;this.fu=[];this.Qia=new Promise(function(c){a.Ria=c});this.vx()},QJa:function(){this.hO()},tia:function(){this.eg().removeClass("oj-focus-ancestor");null!=this.N&&g(this.N.elem).removeClass("oj-focus oj-focus-highlight");null!=this.CZ&&this.Oq(this.CZ,
"oj-hover")},QA:function(){this.hO();null!=this.wf&&this.wf.QA()},getNodeBySubId:function(a){var c;if(null==a)return this.element?this.element[0]:null;c=a.subId;if("oj-listview-disclosure"===c||"oj-listview-icon"===c)if(a=a.key,a=this.Ue(a),null!=a&&a.firstElementChild&&(a=a.firstElementChild.firstElementChild,null!=a&&(g(a).hasClass(this.dr())||g(a).hasClass(this.Hn()))))return a;return null},getSubIdByNode:function(a){if(null!=a&&g(a).hasClass(this.dr())||g(a).hasClass(this.Hn()))if(a=this.Im(a),
null!=a&&0<a.length&&(a=this.Ag(a[0]),null!=a))return{subId:"oj-listview-disclosure",key:a};return null},getContextByNode:function(a){var c,d,e;a=this.Im(a);return null!=a&&0<a.length&&(c=this.Ag(a[0]),null!=c)?(d=a.parent(),e=d.children("li").index(a),c={subId:"oj-listview-item",key:c,index:e},d.get(0)!=this.element.get(0)&&(c.parent=d.parent().get(0)),a.children().first().hasClass(this.og())?c.group=!0:c.group=!1,c):null},getDataForVisibleItem:function(a){var c;c=a.index;a=a.parent;a=null==a?this.element.get(0):
g(a).children("ul."+this.wi()).first();c=g(a).children("li").get(c);return null!=c&&g(c).hasClass(this.fj())?this.q7(c):null},q7:function(a){return null==this.ee("data")?a:g.data(a,"data")},ms:function(a){null!=this.kj&&this.kj.rFa(a)},gp:function(b){b&&this.Pg&&a.C.zm(b,this.Pg)},xn:function(b){b&&(null==this.Pg&&(this.Pg=this.Mg.bind(this)),a.C.bl(b,this.Pg))},Mg:function(a,c){0<a&&0<c&&null!=this.wf&&this.wf.Bx(a,c)},vla:function(){return!0},F0:function(){return function(){return!1}},S0:function(a){return null!=
a.data||null!=a.drillMode||null!=a.groupHeaderPosition||null!=a.item||null!=a.scrollPolicy||null!=a.scrollPolicyOptions},lx:function(a){var c,d;if(this.S0(a))return null!=a.data&&(null==a.currentItem&&this.Cj("currentItem",null),null==a.selection&&this.Ok(!0)),!0;if(null!=a.expanded&&this.wf.Vp()&&(this.Bo=void 0,d=a.expanded,Array.isArray(d))){this.Rb();this.Pqa();this.L9=!0;try{c=this,g.each(d,function(a,b){c.dY(b,!0,!0,!0)})}finally{this.L9=void 0,this.Mb()}}null!=a.currentItem?(d=this.Ue(a.currentItem),
null!=d&&(d=g(d),this.Dk(d)||this.ls(d,null))):null===a.currentItem&&(this.EB(),this.N=null,this.VG());this.QO(a);null!=a.selectionMode&&(this.Ok(!0),this.SG());null!=a.contextMenu&&this.ms(a.contextMenu);null!=a.scrollTop&&(d=this.Bv(),a=a.scrollTop,null==a||isNaN(a)||(d.scrollTop=a));return!1},QO:function(a){var c,d;if(null!=a.selection&&this.Ac())for(a.selection=this.sta(a.selection),c=a.selection,this.Ok(!1),d=0;d<c.length;d++)a=this.Ue(c[d]),null!=a&&this.lC(a,c[d])},Ek:function(a,c,d){return this.Y._trigger(a,
c,d)},Cj:function(a,c,d){this.Y.option(a,c,d)},ee:function(a){return this.Y.option(a)},Rb:function(){var a=this;this.fu&&(0==this.fu.length&&(this.Qia=new Promise(function(c){a.Ria=c})),this.fu.push(1))},Mb:function(){this.fu&&0<this.fu.length&&(this.fu.pop(),0==this.fu.length&&this.Ria(null))},uHa:function(a){var c,d=this,e=[];g.each(a,function(a,b){c=d.Ue(b);null!=c&&e.push(c)});return e},T9:function(){var b;this.Rb();b=this.ee("data");if(null!=b){if("undefined"===typeof a.V||"undefined"===typeof a.Ju)throw"oj.TableDataSource or oj.TreeDataSource not found. Ensure the required modules are imported";
if(b instanceof a.V)this.wf=new a.Xb(this,this.element[0],b);else if(b instanceof a.Ju)this.wf=new a.Oi(this,this.element[0],b);else throw"Invalid data";}else this.wf=new a.qe(this,this.element[0]);this.aB();this.wf.G0();this.Mb()},Cla:function(a){this.element.attr("aria-activedescendant",a.attr("id"))},SG:function(){this.element.attr("aria-activedescendant","");this.tn()?this.element.attr("aria-multiselectable",!0):this.Ac()&&this.element.attr("aria-multiselectable",!1)},Z0:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},
Ypa:function(){var a,c;a=this.eg();this.SG();c=this.aqa();a.append(c);this.vm=c;c=this.Spa();a.append(c);this.BA=c;this.Yl()&&null!=this.kj&&a.append(this.Tpa())},aqa:function(){var a=g(document.createElement("div"));a.addClass("oj-listview-status-message oj-listview-status").attr({id:this.lv("status"),role:"status"});return a},Spa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.lv("info"),role:"status"});return a},Tpa:function(){var a=g(document.createElement("div"));
a.addClass("oj-helper-hidden-accessible").attr({id:this.lv("instr")});a.text(this.Y.F("accessibleReorderTouchInstructionText"));return a},Rg:function(a){""!=a&&this.BA.text()!=a&&this.BA.text(a)},aB:function(){var a=this.Y.F("msgFetchingData");this.vm.text(a).css("left",this.element.outerWidth()/2-this.vm.outerWidth()/2).show()},lr:function(){this.vm.hide()},jk:function(){return this.eg()},eg:function(){null==this.IF&&(this.IF=this.Ara());return this.IF},Ara:function(){var a;this.pe?a=g(this.pe):
(a=g(document.createElement("div")),this.element.parent()[0].replaceChild(a[0],this.element[0]));a.addClass(this.b0()).addClass("oj-component");a.prepend(this.element);return a},w7:function(){return this.Y.F("msgNoData")},rC:function(){var a,c;a=this.w7();c=document.createElement("li");c.id=this.lv("empty");c.className="oj-listview-no-data-message oj-listview-empty-text";c.textContent=a;return c},gh:function(a){a=this.ng(a).attr("aria-expanded");return"true"==a?this.Nm:"false"==a?this.Mm:this.I0},
Iu:function(a,c){var d=this.zA();c==this.Nm?(this.ng(a).attr("aria-expanded","true"),d&&a.removeClass("oj-collapsed").addClass("oj-expanded")):c==this.Mm&&(this.ng(a).attr("aria-expanded","false"),d&&a.removeClass("oj-expanded").addClass("oj-collapsed"))},jD:function(a,c,d){a=this.options.item[a];return"function"==typeof a&&d?a.call(this,c):a},Dua:function(){var a=this.jD("renderer",null,!1);return"function"!=typeof a?null:a},yha:function(){},hZ:function(a){var c;null!=this.N&&this.N.elem&&g(this.N.elem).get(0)==
a&&this.Cj("currentItem",null);if(null!=a&&a.id&&null!=this.Hp)for(c in this.Hp)if(this.Hp.hasOwnProperty(c)&&this.Hp[c]===a.id){delete this.Hp[c];break}},Pw:function(a,c){var d,e,f,h;null!=this.kj&&this.kj.Pw(a);this.oS(a);if(this.Ac())if(d=this.ee("selection"),this.yk(a))for(f=0;f<d.length;f++){if(d[f]==c.key&&(this.lC(a,d[f]),!this.tn())){1<d.length&&(e=g(this.Ue(c.key)),this.Cj("selection",[c.key],{_context:{originalEvent:null,nb:!0,dl:{items:e}},changed:!0}));break}}else if(f=d.indexOf(c.key),
-1<f){d=d.slice(0);d.splice(f,1);e=Array(d.length);for(f=0;f<d.length;f++)e[f]=this.Ue(d[f]);this.Cj("selection",d,{_context:{originalEvent:null,nb:!0,dl:{items:g(e)}},changed:!0})}this.wf.Vp()&&void 0==this.L9&&this.gh(g(a))==this.Mm&&(f=this.ee("expanded"),this.hz()?void 0==this.Bo&&this.yu(g(a),null,!1,null,!1,!1,!1):Array.isArray(f)&&(h=this,g.each(f,function(d,e){e!=c.key||void 0!=h.Bo&&-1!=h.Bo.indexOf(e)||h.yu(g(a),null,!1,null,!1,!1,!1)})));null!=this.N&&c.key==this.N.key&&null!=this.N.elem&&
a!=this.N.elem.get(0)&&(this.N.elem=g(a))},gu:function(){var a;this.lr();g(document.getElementById(this.lv("empty"))).remove();0==this.element[0].childElementCount?(a=this.rC(),this.element.append(a)):(this.JA=null,a=this.ee("currentItem"),null!=a&&(a=this.Ue(a),null==a?this.Cj("currentItem",null):null!=this.N||this.Dk(g(a))||this.ls(g(a),null)),this.eg().hasClass("oj-focus-ancestor")&&null==this.N&&this.Y9(),this.hO());this.Ek("ready",null,{})},hO:function(){var a,c;a=this.ee("scrollTop");if(!isNaN(a)&&
(c=this.Bv(),a!=c.scrollTop&&(c.scrollTop=a,c.scrollTop!=a))){this.FW=!0;return}this.FW=!1},BKa:function(){var a=this.ee("currentItem");null!=a&&(a=this.Ue(a),null==a||this.Dk(g(a))||this.ls(g(a),null))},vx:function(){this.AZ=this.JA=null},sia:function(a,c,d){if(this.NG(g(c.target)))return!1;a=g(c.target).closest("."+this.Ah());0<a.length&&!this.Dk(g(a[0]))&&this.ls(g(a[0]),null);a=this.element;null!=this.N&&(a=this.N.elem);a={launcher:a,initialFocus:"menu"};"keyboard"===d&&(a.position={my:"start top",
at:"start bottom",of:this.N.elem});this.Y.rh(c,d,a)},j0:function(a){return null!=a.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},NG:function(a){for(;null!=a&&a[0]!=this.element[0]&&"LI"!=a.prop("nodeName");){if(3!=a[0].nodeType){var c=a.attr("tabIndex"),d=a.attr("data-oj-tabindex");if(null!=c&&0<=c&&!a.hasClass(this.sp())||this.j0(a)&&(-1!=c||-1!=d))return!0}a=a.parent()}return!1},oS:function(a){var c;a=g(a);a.hasClass(this.fj())||(a=g(a.get(0).firstElementChild));a.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){g(this).removeAttr("data-first").removeAttr("data-last");
c=parseInt(g(this).attr("tabIndex"),10);(isNaN(c)||0<=c)&&g(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(c)?-1:c)})},Xsa:function(a){var c;a=g(a).find("[data-tabmod]").each(function(){c=parseInt(g(this).attr("data-tabmod"),10);g(this).removeAttr("data-tabmod");-1==c?g(this).removeAttr("tabIndex"):g(this).attr("tabIndex",c)});a.first().attr("data-first","true");a.last().attr("data-last","true")},wqa:function(a){g(a).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},
Dk:function(a){return a.hasClass("oj-skipfocus")},Up:function(a){this.eg().addClass("oj-focus-ancestor");null==this.N?this.JZ||this.Y9(a):(this.JZ||this.pB(),this.cP(),this.uW(this.N.elem))},Y9:function(a){var c,d,e;if(!this.Yl())for(c=this.kD(),d=0;d<c.length;d++)if(e=g(c[d]),!this.Dk(e)){this.ls(e,a);break}},Ska:function(a){this.Tp(a)},kEa:function(){var b=a.Xa.Gw();return b.browser==a.Xa.tl.FO&&48>parseInt(b.browserVersion,10)?!1:!0},Tp:function(a){!this.kEa()||null!=a.relatedTarget&&g.contains(this.Y.element.get(0),
a.relatedTarget)||(this.eg().removeClass("oj-focus-ancestor"),this.EB(),null!=this.N&&this.Xba(this.N.elem),this.VG())},n9:function(a){a=this.Im(a.target);null!=a&&(this.CZ=null,this.Oq(a,"oj-hover"))},hxa:function(a){this.kE()||(a=this.Im(a.target),null==a||this.Dk(a)||(this.CZ=a,this.dK(a,"oj-hover")))},kE:function(){return 500>Date.now()-this.dV},JG:function(a){var c,d;if(this.zA()&&(c=a.keyCode,c===this.Cg||c===this.lh))if(d=this.N.elem,c===this.Cg){if(this.gh(d)==this.Nm){this.Or(d,a,!0,this.N.key,
!0,!0);return}}else if(this.gh(d)==this.Mm){this.yu(d,a,!0,this.N.key,!0,!0,!0);return}c=this.h0(a);null!=this.kj&&(c=c||this.kj.JG(a));!0===c&&a.preventDefault()},p9:function(a){this.KA&&this.Oq(this.KA,"oj-focus");null!=this.kj&&this.kj.Zda(g(a.target))},KG:function(a){var c,d;d=g(a.target);null!=this.kj&&this.kj.Cca(d);c=this.Ig(d);null==c||0==c.length||this.Dk(c)||d.hasClass("oj-listview-drag-handle")||(this.JZ=!0,this.eg().hasClass("oj-focus-ancestor")||this.eg().addClass("oj-focus-ancestor"),
this.KA=c,this.dK(c,"oj-focus"),a.originalEvent.touches&&0<a.originalEvent.touches.length&&(this.FN={x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}))},oB:function(b){var c,d;null!=this.KA&&(this.Oq(this.KA,"oj-focus"),null!=this.FN&&(c=this.KA.offset(),d=this.At("pointerUp"),d.offsetX=this.FN.x-c.left+"px",d.offsetY=this.FN.y-c.top+"px",c=this.KA.get(0),a.$.Yn(c,"pointerUp",d),this.FN=null));this.dV=Date.now();this.n9(b)},PO:function(a){var c,d,e,f;0===a.button&&
(c=this.Hn(),d=this.dr(),e=this.og(),f=g(a.target),f.hasClass(d)?(this.Ao(a),a.preventDefault()):f.hasClass(c)?(this.cg(a),a.preventDefault()):(this.m$()&&null!=this.N&&(this.jW(!1),this.oS(this.N.elem)),c=this.Ig(f),null==c||0==c.length||this.Dk(c)||(this.eg().hasClass("oj-focus-ancestor")||this.eg().addClass("oj-focus-ancestor"),this.Ac()&&this.yk(c[0])?this.Yl()?this.Hxa(c,a):this.Rka(c,a):this.IG(c,a),this.zA()&&f.closest("."+e)&&(this.gh(c)==this.Mm?this.cg(a):this.gh(c)==this.Nm&&this.Ao(a)))))},
Yl:function(){return a.C.hf()},cS:function(b){return a.C.or(b)},lv:function(a){return[this.element.attr("id"),a].join(":")},Im:function(a){return g(a).closest("."+this.Ah())},Kya:function(a){return a.hasClass("oj-clickthrough-disabled")||a.hasClass("oj-component-initnode")||a.hasClass("oj-component")},Ig:function(a){for(;0<a.length&&!this.Kya(a);){if(a.hasClass(this.Ah()))return a;a=a.parent()}return null},Jua:function(){null==this.Iha&&(this.Iha=parseInt(this.eg().css("border-top-width"),10)+parseInt(this.eg().css("border-bottom-width"),
10));return this.Iha},qca:function(a){var c,d,e,f,h,k,l=0;c=a.offsetTop;d=a.offsetHeight;a=this.eg()[0];e=a.scrollTop;f=a.offsetHeight;null!=this.Yg&&(h=parseInt(this.Yg.style.top,10),k=g(this.Yg).outerHeight(),c<=h&&h<c+d?l=(d+c-h)/2:c>=h&&c<h+k&&(l=(h+k-c)/2));c>=e&&c+d<=e+f?0<l&&(a.scrollTop=e-l):(c=Math.max(0,Math.min(c-l,Math.abs(c+d-f))),c>e&&(c+=this.Jua()),a.scrollTop=c)},Ag:function(a){return this.wf.Ag(a)},Ue:function(a){var c;return null!=this.Hp&&(c=this.Hp[a],null!=c)?document.getElementById(c):
this.wf.Ue(a)},Cx:function(a){return a==this.Dl||a==this.vl},kD:function(){var a,c,d;null==this.JA&&(a=this.Iw(),c="."+this.Ah()+":visible",this.JA=this.element.find(c).filter(function(){return(d=g(this).parent().hasClass(a))?!g(this).parent().parent().hasClass("oj-collapsed"):!0}));return this.JA},Du:function(a,c,d){var e,f,h;if(!this.wf.Dx())return!0;e=!c||this.uN?this.N.elem:this.ae;f=!1;h=this.kD();e=h.index(e);switch(a){case this.Dl:e--;if(0<=e){for(a=g(h[e]);this.Dk(a);){e--;if(0>e)return!1;
a=g(h[e])}c?(this.DS(a,d),this.uN=!1):(this.ls(a,d),this.uN=!0)}f=!0;break;case this.vl:e++;if(e<h.length){for(a=g(h[e]);this.Dk(a);){e++;if(e==h.length)return!1;a=g(h[e])}c?(this.DS(a,d),this.uN=!1):(this.ls(a,d),this.uN=!0)}f=!0}return f},m$:function(){return"actionable"==this.AJa},jW:function(a){this.AJa=a?"actionable":"navigation";a||this.element[0].focus()},ALa:function(){return this.zu},ng:function(a){return a.hasClass(this.sp())?a:g(a.find("."+this.sp()).first())},VG:function(){this.element.attr("tabIndex",
0)},cP:function(){this.element.removeAttr("tabIndex")},uW:function(a){this.ng(a).attr("tabIndex",0)},Xba:function(a){var c;c=!0;"presentation"===a.attr("role")&&(c=!1);a=this.ng(a);c?a.removeAttr("tabIndex"):a.attr("tabIndex",-1)},V6:function(a,c){this.zu===this.zu?(null!=a&&this.Xba(a),this.uW(c),this.cP()):this.Cla(c)},GM:function(a){var c;c=a.children("a, input, select, textarea, button");return 1===c.length&&0===c.first().find("a, input, select, textarea, button").length?c.first():a},Mc:function(a,
c){var d,e,f;null!=a?(d=a[0],d=this.Ag(d),null==this.N||d!=this.N.key?(e={key:d,item:a},null!=this.N&&(e.previousKey=this.N.key,e.previousItem=this.N.elem,null!=this.kj&&this.Yl()&&this.kj.Zda(e.previousItem)),f=!this.Ek("beforeCurrentItem",c,e),f||(this.N=f={key:d,elem:a},null!=this.kj&&this.Yl()&&this.kj.Cca(a),this.V6(e.previousItem,a),this.Cj("currentItem",d,{_context:{originalEvent:c,nb:!0,dl:{item:a}},changed:!0}))):d==this.N.key&&(this.N=f={key:d,elem:a},this.V6(null,a))):this.N=null},pB:function(a){var c,
d;null!=this.N&&this.eg().hasClass("oj-focus-ancestor")&&(a=a||!1,c=this.N.elem,this.dK(c,"oj-focus"),this.zu===this.zu&&(c=this.ng(c),d=document.activeElement,!a&&c.get(0).contains(d)||c.get(0).focus()))},EB:function(){null!=this.N&&this.Oq(this.N.elem,"oj-focus")},IG:function(a,c){this.ls(a,c)},ls:function(a,c){this.qca(a[0]);this.EB();this.Mc(a,c);this.pB()},Ac:function(){return"none"!=this.ee("selectionMode")},tn:function(){return"multiple"==this.ee("selectionMode")},yk:function(a){a=this.ng(g(a)).get(0);
return a.hasAttribute("aria-selected")},sta:function(a){var c,d,e;c=[];for(d=0;d<a.length&&(e=this.Ue(a[d]),null==e||!this.yk(e)||(c.push(a[d]),this.tn()));d++);return c},MEa:function(){var a,c;null!=this.Hp&&(a=this,g.each(this.ee("selection"),function(d,e){c=a.Ue(e);null!=c&&a.Oq(c,"oj-selected")}))},dK:function(a,c){this.qB(a,c,!0)},Oq:function(a,c){this.qB(a,c,!1)},qB:function(a,c,d){var e;a=g(a);"oj-selected"==c&&this.ng(a).attr("aria-selected",d?"true":"false");e=a.children("."+this.og());0<
e.length&&(a=g(e[0]));"oj-focus"===c?d?this.Ny(a):this.rv(a):d?a.addClass(c):a.removeClass(c)},Rka:function(a,c){var d,e;this.qca(a[0]);d=this.cS(c);e=c.shiftKey;this.tn()?d||e?!d&&e?this.DS(a,c):this.$Q(a,c):this.zB(a,c):this.zB(a,c)},Hxa:function(a,c){this.tn()?this.$Q(a,c):this.zB(a,c)},Ok:function(a){this.MEa();a&&this.Cj("selection",[],{_context:{originalEvent:null,nb:!0,dl:{items:g()}},changed:!0});this.ae=null},zB:function(a,c){this.Ok(!1);this.$Q(a,c,[])},DS:function(a,c){var d;null!=this.N&&
(d=this.ae,d!=a&&(this.Oq(a,"oj-focus"),this.z6(this.N.elem,a,c)))},z6:function(a,c,d){this.Ok(!1);this.ae=c;this.Vxa(a,c,d);this.pB()},Vxa:function(a,c,d){var e,f,h,k,l;e=[];f=[];h=this.kD();a=h.index(a);k=h.index(c);a>k?c=k:(c=a,a=k);for(;c<=a;c++)k=h[c],this.yk(k)&&(l=this.wf.Ag(k),this.lC(k,l),e.push(l),f.push(k));this.Cj("selection",e,{_context:{originalEvent:d,nb:!0,dl:{items:g(f)}},changed:!0})},lC:function(a,c){null==this.Hp&&(this.Hp={});this.Hp[c]=g(a).attr("id");this.dK(a,"oj-selected")},
$Q:function(a,c,d){var e,f;e=this.Ag(a[0]);void 0==d&&(d=this.ee("selection").slice(0));this.EB();this.Mc(a,c);this.pB();if(null==this.N||this.N.elem.get(0)!=a.get(0))null!=d&&0==d.length&&this.Cj("selection",d,{_context:{originalEvent:c,nb:!0,dl:{items:g([])}},changed:!0});else{f=d.indexOf(e);-1<f?(this.Oq(a,"oj-selected"),d.splice(f,1)):(this.ae=a,this.lC(a,e),d.push(e));a=Array(d.length);for(e=0;e<d.length;e++)a[e]=this.Ue(d[e]);this.Cj("selection",d,{_context:{originalEvent:c,nb:!0,dl:{items:g(a)}},
changed:!0})}},WG:function(a,c,d){var e,f,h,k;e=this.ee("selection").slice(0);f=this.N.elem;h=this.N.key;k=e.indexOf(h);if(-1<k){if(d)return;this.Oq(f,"oj-selected");e.splice(k,1);0==e.length&&(this.ae=null)}else this.yk(f[0])&&(c||(this.Ok(!1),e.length=0),this.ae=f,this.lC(f,h),e.push(h));c=Array(e.length);for(d=0;d<e.length;d++)c[d]=this.Ue(e[d]);this.Cj("selection",e,{_context:{originalEvent:a,nb:!0,dl:{items:g(c)}},changed:!0})},h0:function(a){var c,d,e,f=!1;if(null==this.N)return!1;c=a.keyCode;
d=this.N.elem;this.m$()?c==this.DO?(this.jW(!1),this.oS(d),this.pB(!0),this.uW(d),f=!0):c===this.nP&&(c=d.find("[data-first]"),d=d.find("[data-last]"),a.shiftKey?0<c.length&&0<d.length&&c!=d&&a.target==c[0]&&(d[0].focus(),f=!0):0<c.length&&0<d.length&&c!=d&&a.target==d[0]&&(c[0].focus(),f=!0)):c==this.EO?(this.Xsa(d),c=d.find("[data-first]"),0<c.length&&(c[0].focus(),this.jW(!0))):c==this.fP&&this.Ac()?(d=this.cS(a),(e=a.shiftKey)&&!d&&null!=this.ae&&this.tn()?this.z6(this.ae,this.N.elem,a):this.WG(a,
d&&!e&&this.tn(),!1),f=!0):c==this.BO&&this.Ac()?this.WG(a,!1,!0):this.Cx(c)&&(d=this.cS(a),e=a.shiftKey,d||(f=this.Du(c,e&&this.Ac()&&this.tn(),a)));return f},p$:function(a){return a&&this.Rt?-1<this.Rt.indexOf(a):!1},gL:function(a,c){var d;if(null!=a)if(null==this.Rt&&(this.Rt=[]),c)this.Rt.push(a);else for(d=this.Rt.indexOf(a);-1<d;)this.Rt.splice(d,1),d=this.Rt.indexOf(a)},At:function(b){var c;null==this.ifa&&(c=a.md.Bf("oj-listview-option-defaults"),this.ifa=c.animation);return this.ifa[b]},
zA:function(){return"none"!=this.ee("drillMode")},hz:function(){var a=this.ee("expanded");if("auto"===a){if(!this.zA())return!0}else if("all"===a)return!0;return!1},dY:function(a,c,d,e,f){var h=this.Ue(a);null!=h&&this.yu(g(h),null,f,a,c,e,d)},cg:function(a){var c=this.Im(a.target);null!=c&&0<c.length&&this.yu(c,a,!0,null,!0,!0,!0)},yu:function(a,c,d,e,f,g,k){var l;if(this.gh(a)==this.Mm&&(null==e&&(e=this.Ag(a[0])),!d||!this.p$(e))){l={item:a,key:e};if(k&&(k=!this.Ek("beforeExpand",c,l))&&f)return;
this.Rb();d&&this.gL(e,!0);this.wf.zx(a,function(a){this.gta(a,d,c,l,g)}.bind(this));this.JA=null;null!=c&&c.stopPropagation();null!=this.Bo&&(a=this.Bo.indexOf(e),-1!=a&&this.Bo.splice(a,1));this.Mb()}},gta:function(a,c,d,e,f){var h,k,l=this;this.Rb();a.key=e.key;c=this.vO(g(a),c,d);a=a.parentNode;a=g(a);this.Iu(a,this.Nm);h=this.Hn();k=this.dr();a.children("."+this.og()).find("."+h).removeClass(h).addClass(k);f&&c.then(function(){l.Ek("expand",d,e)});this.Mb()},N3:function(a,c){var d;a.parentsUntil("ul.oj-component-initnode",
"ul."+this.wi()).each(function(){d=parseInt(g(this).css("maxHeight"),10);0<d&&g(this).css("maxHeight",d+c+"px")})},vO:function(b,c){var d=0,e,f,h=this,k,l;e=new Promise(function(a){f=a});c?(this.Rb(),b.children().each(function(){d+=g(this).outerHeight(!0)}),this.Yl()&&this.N3(b,d),b.css("maxHeight",d+"px"),k=this.At("expand"),this.Rb(),l=b.get(0),k=a.$.Yn(l,"expand",k),k.then(function(){h.mwa(b,f)}),this.Mb()):(this.Yl()?(b.children().each(function(){d+=g(this).outerHeight(!0)}),b.css("maxHeight",
d+"px"),this.N3(b,d)):b.css("maxHeight",""),this.wO(b),f(null));return e},mwa:function(a,c){this.Yl()||a.css("maxHeight","");this.wO(a);c(null);this.Mb()},wO:function(a){a.removeClass(this.Iw()).addClass(this.jA());this.gL(a[0].key,!1)},Nea:function(a,c,d,e){var f=this.Ue(a);null!=f&&this.Or(g(f),null,e,a,c,d)},Ao:function(a){var c=this.Im(a.target);null!=c&&0<c.length&&this.Or(c,a,!0,null,!0,!0)},Or:function(a,c,d,e,f,g){var k,l,m=this;this.gh(a)==this.Nm&&(null==e&&(e=this.Ag(a[0])),d&&this.p$(e)||
(k={item:a,key:e},l=!this.Ek("beforeCollapse",c,k),l&&f||(this.Rb(),d&&this.gL(e,!0),l=this.tO(a,e,d,c),this.Iu(a,this.Mm),d=this.Hn(),f=this.dr(),a.find("."+f).first().removeClass(f).addClass(d),this.JA=null,null!=c&&c.stopPropagation(),g&&l.then(function(){m.Ek("collapse",c,k)}),void 0==this.Bo&&(this.Bo=[]),-1==this.Bo.indexOf(e)&&this.Bo.push(e),this.Mb())))},tO:function(b,c,d){var e=0,f,h,k,l=this;h=new Promise(function(a){k=a});f=b.children("ul").first();f[0].key=c;d?(this.Rb(),f.children().each(function(){e+=
g(this).outerHeight()}),f.css("maxHeight",e+"px"),b=this.At("collapse"),b.persist="all",this.Rb(),c=f.get(0),b=a.$.Yn(c,"collapse",b),b.then(function(){l.Tva(f,k)}),this.Mb()):(f.css("maxHeight","0px"),this.uO(f),k(null));return h},Tva:function(a,c){this.uO(a);c(null);this.Mb()},uO:function(a){a.removeClass(this.jA()).addClass(this.Iw());null!=this.wf&&this.wf.wx(a);this.gL(a[0].key,!1)},Pqa:function(){var a;this.Rb();a=this;this.kD().each(function(){a.Or(g(this),null,!1,null,!1,!1)});this.Mb()},
getExpanded:function(){var a,c,d;a=[];c=this;this.kD().each(function(){d=g(this);c.gh(d)==c.Nm&&a.push(c.Ag(d[0]))});return a},De:function(){return a.Components.De(this.element)},b0:function(){return this.Yl()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},MO:function(){return"oj-listview-element"},fj:function(){return"oj-listview-item"},sp:function(){return"oj-listview-focused-element"},Ah:function(){return"oj-listview-item-element"},og:function(){return"oj-listview-group-item"},
wi:function(){return"oj-listview-group"},jA:function(){return"oj-listview-collapsible-transition"},Iw:function(){return this.jA()},Hn:function(){return"oj-listview-collapse-icon"},dr:function(){return"oj-listview-expand-icon"},bNa:function(){return"oj-listview-no-data-message"},vY:function(){return""},cNa:function(){return"oj-listview-option-defaults"},yba:function(){var a=this,c;c=g(this.Bv());this.Y._off(c,"scroll");this.Y._on(c,{scroll:function(d){a.FW||a.Cj("scrollTop",c.get(0).scrollTop,{_context:{originalEvent:d,
nb:!0}});a.FW=!1;a.C$()&&a.s9()}})},C$:function(){return"static"!=this.ee("groupHeaderPosition")},gD:function(){var a;null==this.AZ&&(a="."+this.og()+":visible",this.AZ=this.element.find(a).filter(function(){return!g(this).parent().hasClass("oj-collapsed")&&0<g(this).next().children().length?!0:!1}));return this.AZ},lX:function(a){g(a).removeClass("oj-pinned");a.style.top="auto";a.style.width="auto"},c8:function(a){var c;c=this.gD();a=c.index(a);return-1<a&&a<c.length-1?c[a+1]:null},EAa:function(a,
c){var d,e,f;d=a.offsetWidth;e=a.offsetHeight;f=this.c8(a);null!=f&&f.offsetTop<=c+e+5&&(c-=e);g(a).addClass("oj-pinned");a.style.top=c+"px";a.style.width=d+"px"},s9:function(){var a,c,d,e,f,g,k,l;a=this.Bv().scrollTop;if(null!=this.Yg&&0==a)this.lX(this.Yg),this.Yg=null;else{d=this.gD();e=0;null!=this.Yg&&(e=this.Yg.offsetHeight);for(f=0;f<d.length;f++)if(g=d[f],this.Yg!=g&&(k=d[f].offsetTop,l=k+g.parentNode.offsetHeight,k<a&&l>a+e)){c=g;break}null!=c&&c!=this.Yg?(null!=this.Yg&&this.lX(this.Yg),
this.EAa(c,a),this.Yg=c):null!=this.Yg&&(c=this.c8(this.Yg),this.Yg.style.top=null!=c&&c.offsetTop<=a+e?c.offsetTop-e+"px":a+"px")}},Bv:function(){var a;a=this.ee("scrollPolicyOptions");return null!=a&&(a=a.scroller,null!=a)?a:this.eg().get(0)},pca:function(a){var c,d;c=this.Bv();d=c.scrollTop;null!=this.Yg&&(this.lX(this.Yg),this.Yg=null);c.scrollTop=a.offsetTop;this.C$()&&d==c.scrollTop&&this.s9();this.gDa(a)},gDa:function(a){var c=this,d;g(a).next().children().each(function(){d=g(this);if(!c.Dk(d))return c.Cj("currentItem",
this.key),!1})}});o_("_ojListView",a.tV,a);a.Pa("oj.ojListView",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{currentItem:null,data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:"auto",groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollTop:0,selection:[],selectionMode:"none",animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,
beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,optionChange:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super();this.ab()},ab:function(){var b={};b.element=this.element;b.pe=this.pe;b.Y=this;b=g.extend(this.options,b);this.Ea=new a.tV;this.Ea.mr(b)},Ph:function(){this._super();this.Ea.Uz()},_destroy:function(){this.Ea.destroy();this._super()},qh:function(a,c,d){this.Ea.sia(a,c,d)},_setOptions:function(a,c){var d=this.Ea.lx(a,c);this._super(a,c);d&&
(this.Ea.refresh(),this.O6())},_setOption:function(a,c,d){var e=!0;"selectionMode"==a?e="none"==c||"single"==c||"multiple"==c:"drillMode"==a?e="collapsible"==c||"none"==c:"scrollPolicy"==a?e="auto"==c||"loadMoreOnScroll"==c:"groupHeaderPosition"==a&&(e="static"==c||"sticky"==c);if(e)"selection"==a&&(d={_context:{dl:{items:g(this.Ea.uHa(c))}}}),this._super(a,c,d);else throw"Invalid value: "+c+" for key: "+a;},dq:function(){this.Ea.QJa()},Hj:function(){this.Ea.tia()},fq:function(){this.Ea.QA()},widget:function(){return this.Ea.jk()},
refresh:function(){this._super();this.Ea.refresh();this.O6()},whenReady:function(){return this.Ea.whenReady()},getNodeBySubId:function(a){return this.Ea.getNodeBySubId(a)},getSubIdByNode:function(a){return this.Ea.getSubIdByNode(a)},getContextByNode:function(a){return this.Ea.getContextByNode(a)},getDataForVisibleItem:function(a){return this.Ea.getDataForVisibleItem(a)},expand:function(a,c){this.Ea.dY(a,c,!0,!0)},collapse:function(a,c){this.Ea.Nea(a,c,!0)},getExpanded:function(){return this.Ea.getExpanded()},
getIndexerModel:function(){null==this.xF&&a.Ni&&(this.xF=new a.Ni(this.Ea));return this.xF},O6:function(){null!=this.xF&&this.xF.vfa&&this.xF.vfa()}});a.Components.Wa("ojListView","baseComponent",{properties:{currentItem:{type:"Object"},data:{},dnd:{},drillMode:{type:"string"},expanded:{type:"Array\x3cObject\x3e|string"},groupHeaderPosition:{},item:{},scrollPolicy:{type:"string"},scrollPolicyOptions:{type:"Object\x3cstring, number\x3e"},scrollTop:{type:"number"},selection:{type:"Array\x3cObject\x3e"},
selectionMode:{type:"string"}},methods:{collapse:{},expand:{},getContextByNode:{},getDataForVisibleItem:{},getExpanded:{},getIndexerModel:{},getNodeBySubId:{},getSubIdByNode:{},refresh:{},whenReady:{},widget:{}},extension:{_hasWrapper:!0,_innerElement:"ul",_widgetName:"ojListView"}});a.Components.register("oj-list-view",a.Components.getMetadata("ojListView"))});