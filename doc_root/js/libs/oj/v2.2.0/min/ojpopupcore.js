/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","jqueryui-amd/position"],function(a,g){a.Gd={};a.Gd.ql=function(b,c){for(var d=g.extend({},b),e=0;e<a.Gd.f1.length;e++){var f=a.Gd.f1[e],h=d[f];h&&(d[f]=h.replace("start",c?"right":"left").replace("end",c?"left":"right").replace("\x3c",c?"+":"-").replace("\x3e",c?"-":"+"))}return d};a.Gd.PJa=function(a,c,d){return"event"===a?d:null==a||"launcher"===a?c:a};a.Gd.jAa=function(a){g.each(["pageX","pageY"],function(c,d){if(a&&void 0===a[d]&&a.originalEvent){var e=
a.originalEvent,f=e.type;(f="touchstart"===f||"touchmove"===f?"touches":"touchend"===f?"changedTouches":null)&&(e=e[f][0])&&(a[d]=e[d])}})};a.Gd.f1=["my","at"];a.Gd.ZY=function(b){return b.target&&0<b.target.height&&0<b.target.width?!a.Gd.qJa(b.target.element):!1};a.Gd.qJa=function(b){function c(b,c){if(-1<["hidden","scroll","auto"].indexOf(c.overflowY)){if(-1>b.bottom-c.top)return!1;var d="auto"===c.overflowX||"scroll"===c.overflowX?a.C.FM():0;if(1>c.bottom-d-b.top)return!1}if(-1<["hidden","scroll",
"auto"].indexOf(c.overflowX)){d="auto"!==c.overflowY&&"scroll"!==c.overflowY||"rtl"!==a.C.In()?0:a.C.FM();if(-1>b.right-(c.left+d))return!1;d="auto"!==c.overflowX&&"scroll"!==c.overflowX||"ltr"!==a.C.In()?0:a.C.FM();if(-1<b.left-(c.right-d))return!1}return!0}function d(a){return"visible"!==a.css("overflow-x")||"visible"!==a.css("overflow-y")}function e(a){var b=a[0];return 1===b.nodeType?(b=g.extend({},b.getBoundingClientRect()),b.overflowX=a.css("overflow-x"),b.overflowY=a.css("overflow-y"),b):{height:0,
width:0}}function f(b){return-1<["fixed","absolute","relative"].indexOf(b.css("position"))&&(0<Math.abs(a.C.br(b.css("top")))||0<Math.abs(a.C.br(b.css("bottom")))||0<Math.abs(a.C.br(b.css("left")))||0<Math.abs(a.C.br(b.css("right"))))}if(!b)return!1;if(g.isWindow(b[0])||f(b))return!0;var h=e(b),k=!0;for(b=b.parent();k&&b&&0<b.length&&"BODY"!==b[0].nodeName&&1===b[0].nodeType&&!f(b);){if(d(b)){var l=e(b);0<l.height&&0<l.width&&(k=c(h,l))}b=b.parent()}return k};g.ui.position.flipcenter={left:function(b,
c){var d=b.left;g.ui.position.flip.left.call(this,b,c);var e=c.within,f=e.isWindow?e.scrollLeft:e.offset.left,h=b.left-c.collisionPosition.marginLeft,e=h+c.collisionWidth-e.width-f;if(0<f-h||0<e)"right"===c.at[0]?d-=c.targetWidth/2:"left"===c.at[0]&&(d+=c.targetWidth/2),f="rtl"===a.C.In()?-1:1,d-=c.elemWidth/2*f,b.left=Math.max(0,d)},top:function(a,c){var d=a.top;g.ui.position.flip.top.call(this,a,c);var e=c.within,e=e.isWindow?e.scrollTop:e.offset.top,f=a.top-c.collisionPosition.marginTop,h=f+c.collisionHeight-
c.within.height-e;if(0<e-f||0<h)"top"===c.at[1]?d+=c.targetHeight/2:"bottom"===c.at[1]&&(d-=c.targetHeight/2),d+=c.elemHeight/2,a.top=Math.max(0,d)}};g.ui.position.flip={left:g.ui.position.flip.left.bind(this),top:function(a,c){var d=c.within,e=d.offset.top+d.scrollTop,f=d.height,g=d.isWindow?d.scrollTop:d.offset.top,k=a.top-c.collisionPosition.marginTop,d=k-g,k=k+c.collisionHeight-f-g,l="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,m="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?
-c.targetHeight:0,r=-2*c.offset[1];0>d?(e=a.top+l+m+r+c.collisionHeight-f-e,(0>e||e<Math.abs(d))&&0>k&&d>k&&(a.top+=l+m+r)):0<k&&(e=a.top-c.collisionPosition.marginTop+l+m+r-g,0<e||Math.abs(e)<k)&&(a.top+=l+m+r)}};a.U=function(){this.Init()};a.b.sa(a.U,a.b,"oj.PopupService");a.U.prototype.Init=function(){a.U.u.Init.call(this)};a.U.Qe=function(){a.U.BV||(a.U.BV=new a.Sb);return a.U.BV};a.U.prototype.open=function(){a.o.kd()};a.U.prototype.close=function(){a.o.kd()};a.U.prototype.Zz=function(){a.o.kd()};
a.U.prototype.jO=function(){a.o.kd()};a.U.prototype.destroy=function(){delete a.U.BV};a.U.Ak={NONE:"none",WO:"modal",dla:"modeless"};a.U.Fd={Ix:"ojPopupRemove",Hx:"ojPopupClose",Yp:"ojPopupRefresh",Gx:"ojPopupAutoDismiss"};a.U.Rr={oP:"topLevel",s0:"nearestAncestor"};a.U.sb={Kh:"popup",xu:"events",Ak:"modality",sB:"launcher",wB:"position",Sr:"layerSelectors",Rr:"layerLevel"};a.Sb=function(){this.Init()};a.b.sa(a.Sb,a.U,"oj.PopupServiceImpl");a.Sb.prototype.open=function(b){a.o.oi(b);var c=b[a.U.sb.Kh];
a.o.we(c,jQuery);var d=b[a.U.sb.sB];a.o.we(d,jQuery);var e=b[a.U.sb.wB];a.o.zea(e);var f=b[a.U.sb.xu];a.o.oi(f);var g=b[a.U.sb.Ak];if(!g||a.U.Ak.dla!==g&&a.U.Ak.WO!==g)g=a.U.Ak.NONE;var k=b[a.U.sb.Sr];a.o.Rq(k);b=b[a.U.sb.Rr];if(!b||a.U.Rr.oP!==b&&a.U.Rr.s0!==b)b=a.U.Rr.s0;a.C.sja(c,d);a.T.tFa(c,d,f,g,k,b);c.show();c.removeAttr("aria-hidden");e&&c.position(e);this.YQ();a.Components.Kr(c[0])};a.Sb.prototype.close=function(b){a.o.oi(b);b=b[a.U.sb.Kh];a.o.we(b,jQuery);a.T.qKa(b);b.hide();b.attr("aria-hidden",
"true");b.css({top:"auto",bottom:"auto",left:"auto",right:"auto"});a.C.sja(b,null);this.YQ();a.Components.lu(b[0])};a.Sb.prototype.Zz=function(b){a.o.oi(b);var c=b[a.U.sb.Kh];a.o.we(c,jQuery);c=a.T.lF(c);a.o.we(c,jQuery);var d=b[a.U.sb.xu];d&&a.T.vea(c,d);(d=b[a.U.sb.Ak])&&a.T.wea(c,d);b=b[a.U.sb.Sr];a.cb.jm(b)||c.attr("class",b)};a.Sb.prototype.jO=function(b,c,d){var e={};e.event=c;e.argsArray=d;b=a.T.lF(b);a.T.PN(b,this.KEa,e)};a.Sb.prototype.KEa=function(b,c){var d=c.event,e=c.argsArray,f=a.T.yY(b);
f&&g.isFunction(f[d])&&f[d].apply(this,e);return a.T.Dj.pu};a.Sb.prototype.YQ=function(){var b=a.T.$ga(),c=this.H4;if(!b&&c){window.removeEventListener("resize",a.Sb.gt,!0);window.removeEventListener("scroll",a.Sb.gt,!0);b=document.documentElement;b.removeEventListener("mousewheel",a.Sb.gt,!0);b.removeEventListener("DOMMouseScroll",a.Sb.gt,!0);delete this.H4;for(var d=0;d<a.Sb.BH.length;d++){var e=a.Sb.BH[d];b.removeEventListener(e,c,!0)}if(c=this.jda)c.destroy(),delete this.jda}else if(b&&!c){window.addEventListener("resize",
a.Sb.gt,!0);window.addEventListener("scroll",a.Sb.gt,!0);b=document.documentElement;b.addEventListener("mousewheel",a.Sb.gt,!0);b.addEventListener("DOMMouseScroll",a.Sb.gt,!0);c=this.H4=g.proxy(this.ata,this);for(d=0;d<a.Sb.BH.length;d++)e=a.Sb.BH[d],b.addEventListener(e,c,!0);a.C.hf()&&(this.jda=new a.Ck(c))}};a.Sb.prototype.ata=function(b){var c=g(b.target);if(!a.T.$ga())this.YQ();else if(!a.C.pha(b)&&("focus"!==b.type||c.is(":focusable"))){var d=a.T.Dt();if("keydown"===b.type&&a.T.SIa()&&!a.C.Bp(d[0],
c[0]))a.T.SGa(g.Event(b));else{var e=a.T.lF(c);if(d[0]!==e[0]){if(!e.hasClass(a.Sb.eH)){var f=this.bV;f&&f.removeClass(a.Sb.eH);e.addClass(a.Sb.eH);this.bV=e}}else if(f=this.bV)f.removeClass(a.Sb.eH),delete this.bV;if("focus"!==b.type||"-1"!==c.attr("tabindex")){var c={},e={},h;for(h in b)a.Sb.Wla[h]&&!g.isFunction(b[h])&&(e[h]=b[h]);c.event=g.Event(b,e);a.T.PN(d,a.Sb.kBa,c)}}}};a.Sb.kBa=function(b,c){var d=a.T.yY(b),e=c.event;if(d&&g.isFunction(d[a.U.Fd.Gx]))d[a.U.Fd.Gx](e);return a.T.Dj.pu};a.Sb.gt=
function(){isNaN(a.Sb.tba)&&(a.Sb.tba=window.setTimeout(function(){delete a.Sb.tba;var b=a.T.Dt();g.isFunction(window.requestAnimationFrame)?a.Sb.npa=window.requestAnimationFrame(function(){delete a.Sb.npa;a.T.PN(b,a.Sb.vba)}):a.T.PN(b,a.Sb.vba)},a.Sb.Mna))};a.Sb.vba=function(b,c){if(0<c.level)return a.T.Dj.RG;var d=a.T.yY(b);if(d&&g.isFunction(d[a.U.Fd.Yp]))d[a.U.Fd.Yp]();return a.T.Dj.pu};a.Sb.prototype.destroy=function(){a.Sb.u.destroy.call(this)};a.Sb.eH="oj-focus-within";a.Sb.BH=["focus","mousedown",
"keydown"];a.Sb.Wla={altKey:!0,bubbles:!0,cancelable:!0,ctrlKey:!0,currentTarget:!0,eventPhase:!0,metaKey:!0,relatedTarget:!0,shiftKey:!0,target:!0,timeStamp:!0,view:!0,which:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,"char":!0,charCode:!0,key:!0,keyCode:!0};a.Sb.Mna=10;a.T={};a.T.lF=function(b){if(!b)return a.T.Dt();for(;b&&0<b.length&&b.attr("oj.ZOrderUtils._SURROGATE_ATTR")!==a.T.HP;){if(a.T.zU(b[0]))return b;b=b.parent()}return a.T.Dt()};
a.T.Dt=function(){var b=g(document.getElementById(a.T.HP));if(0<b.length)return b;b=g("\x3cdiv\x3e");b.attr("role","presentation");b.attr("id",a.T.HP);b.prependTo(g(document.body));return b};a.T.tFa=function(b,c,d,e,f,h){var k=b[0];if(a.T.zU(k.parentNode))throw Error("JET Popup is already open - id: "+k.getAttribute("id"));c=a.T.lF(h===a.U.Rr.oP?null:c);h=g("\x3cdiv\x3e");var l=b.attr("id");a.cb.jm(l)?h.uniqueId():h.attr("id",[l,"layer"].join("_"));h.attr("role","presentation");h.addClass(f);b.after(h);
f=a.T.bS(h);a.Components.Eh(k);b.appendTo(h);h.appendTo(c);a.Components.tg(k);a.T.wea(h,e);a.T.vea(h,d,f)};a.T.vea=function(b,c,d){if(!d){var e=b.attr(a.T.WB);e&&(d=g(document.getElementById(e)))}b.data(a.T.dH,c);d&&c&&g.isFunction(c[a.U.Fd.Ix])&&(d.surrogate(),d.surrogate("option","beforeDestroy",c[a.U.Fd.Ix]))};a.T.yY=function(b){return b.data(a.T.dH)};a.T.bS=function(b){var c=g("\x3cscript\x3e"),d=b.attr("id");a.cb.jm(d)?c.uniqueId():c.attr("id",[d,"surrogate"].join("_"));c.insertBefore(b);d=c.attr("id");
b.attr(a.T.WB,d);return c};a.T.ZBa=function(b){var c=b.attr(a.T.WB);b.removeAttr(a.T.WB);c=g(document.getElementById(c));b.insertAfter(c);c.surrogate("option","beforeDestroy",null);c.remove()};a.T.qKa=function(b){var c=a.T.lF(b);a.T.TZ(c,a.T.Jqa);a.T.UV(c);c.removeData(a.T.dH);c.removeData(a.T.YP);var d=b[0];a.Components.Eh(d);a.T.ZBa(c);a.C.unwrap(b,c);a.Components.tg(d)};a.T.Jqa=function(b,c){if(0<c.level)return a.T.Dj.RG;var d=b.data(a.T.dH);if(d&&g.isFunction(d[a.U.Fd.Hx]))d[a.U.Fd.Hx]();return a.T.Dj.pu};
a.T.wea=function(b,c){var d=b.data(a.T.YP);b.data(a.T.YP,c);a.cb.jm(d)?a.U.Ak.WO===c?a.T.F3(b):a.T.UV(b):d!==c&&(c!==d&&c===a.U.Ak.WO?a.T.F3(b):a.T.UV(b))};a.T.SIa=function(){for(var b=a.T.Dt().children(),c=b.length-1;-1<c;c--)if(g(b[c]).hasClass(a.T.A2))return!0;return!1};a.T.F3=function(b){var c=g("\x3cdiv\x3e");c.addClass(a.T.A2);c.addClass(b[0].className);c.attr("role","presentation");var d=b.attr("id");a.cb.jm(d)?c.uniqueId():c.attr("id",[d,"overlay"].join("_"));b.before(c);c=c.attr("id");b.attr(a.T.dQ,
c)};a.T.UV=function(b){var c=b.attr(a.T.dQ);a.cb.jm(c)||(b.removeAttr(a.T.dQ),g(document.getElementById(c)).remove())};a.T.Dj={pu:0,RG:1,zO:2};a.T.MH={w0:0,v0:1};a.T.PN=function(b,c,d){d||(d={});d.level=0;d.type=a.T.MH.v0;a.T.xX(b,c,d)};a.T.TZ=function(b,c,d){d||(d={});d.level=0;d.type=a.T.MH.w0;a.T.xX(b,c,d)};a.T.xX=function(b,c,d){var e=d.level;b=b.children();for(var f=b.length-1;-1<f;f--){var h=g(b[f]);if(a.T.zU(h[0])){var k;if(d.type===a.T.MH.w0){k=c(h,d);if(k===a.T.Dj.zO)return k;if(k===a.T.Dj.RG)break}d.level=
e+1;k=a.T.xX(h,c,d);d.level=e;if(k===a.T.Dj.zO)return k;if(d.type===a.T.MH.v0){k=c(h,d);if(k===a.T.Dj.zO)return k;if(k===a.T.Dj.RG)break}}}return a.T.Dj.pu};a.T.zU=function(b){return 1===b.nodeType&&b.hasAttribute(a.T.WB)?!0:!1};a.T.$ga=function(){return 0<a.T.Dt().children().length};a.T.DY=function(){var b={popupCount:0},c=a.T.Dt();a.T.TZ(c,a.T.rAa,b);return b.popupCount};a.T.rAa=function(b,c){c.popupCount+=1;return a.T.Dj.pu};a.T.eY=function(){var b={},c=[];b.popups=c;c=a.T.Dt();a.T.TZ(c,a.T.tAa,
b);c=b.popups;return g(c)};a.T.tAa=function(b,c){c.popups.push(b[0]);return a.T.Dj.pu};a.T.SX=function(b,c){function d(b,c){for(var d=["absolute","relative","fixed"],e=b.parents(),f=[],h=e.length-1;-1<h;h--)f.push(g(e[h]));e=f;e.push(b);for(var f=[],k=0,h=0;h<e.length;h++){var l=e[h],m=l.css("position"),r=a.C.lHa(l.css("opacity")),z=a.C.br(l.css("z-index")),l=g.inArray(l[0],l.parent().children());-1<g.inArray(m,d)?f.push({weight:[k++,z,l],order:[l]}):1>r?f.push({weight:[k++,1,l],order:[l]}):c&&f.push({weight:[0,
0,l],order:[l]})}return f}function e(a,b){for(var c=Math.max(a.length,b.length),d=0;d<c;d++){var e=d<a.length?a[d]:-1,f=d<b.length?b[d]:-1;if(e!==f)return e<f?-1:1}return 0}a.o.we(b,jQuery);a.o.we(c,jQuery);for(var f=d(b,!1),h=d(c,!1),k=Math.max(f.length,h.length),l=0;l<k;l++){var m=l<f.length?f[l].weight:[-1],r=l<h.length?h[l].weight:[-1],m=e(m,r);if(0!==m)return m}f=d(b,!0);h=d(c,!0);k=Math.max(f.length,h.length);for(l=0;l<k;l++)if(m=l<f.length?f[l].order:[-1],r=l<h.length?h[l].order:[-1],m=e(m,
r),0!==m)return m;return 0};a.T.SGa=function(a){a.stopPropagation();a.preventDefault()};a.T.dH="oj-popup-events";a.T.YP="oj-popup-modality";a.T.HP="__oj_zorder_container";a.T.WB="data-oj-surrogate-id";a.T.dQ="data-oj-overlayid";a.T.A2="oj-component-overlay";g.widget("oj.surrogate",{options:{create:null,beforeDestroy:null},_create:function(){this._super();this.element.uniqueId()},_destroy:function(){this._trigger("beforeDestroy");this.element.removeUniqueId();this._super()}});a.Ck=function(a){this.Gda=
a;this.Init()};a.b.sa(a.Ck,a.b,"oj.SimpleTapRecognizer");a.Ck.prototype.Init=function(){a.Ck.u.Init.call(this);for(var b=this.w6=g.proxy(this.QI,this),c=document.documentElement,d=0;d<a.Ck.JH.length;d++)c.addEventListener(a.Ck.JH[d],b,!0)};a.Ck.prototype.QI=function(b){var c=this.Gda,d=b.type;"touchstart"===d?(this.ww=b,this.ww.qEa=(new Date).getTime()):"touchmove"===d||"touchcancel"===d?delete this.ww:"touchend"===d&&(this.ww&&(b=this.ww.qEa,isNaN(b)?c(this.ww):(new Date).getTime()-b<a.Ck.Jna&&c(this.ww)),
delete this.ww)};a.Ck.prototype.destroy=function(){delete this.Gda;var b=this.w6;delete this.w6;for(var c=document.documentElement,d=0;d<a.Ck.JH.length;d++)c.removeEventListener(a.Ck.JH[d],b,!0)};a.Ck.JH=["touchstart","touchmove","touchcancel","touchend"];a.Ck.Jna=700;a.Dg=function(){this.Init()};a.b.sa(a.Dg,a.b,"oj.PopupLiveRegion");a.Dg.prototype.Init=function(){a.Dg.u.Init.call(this);isNaN(a.Dg.lE)?a.Dg.lE=1:++a.Dg.lE};a.Dg.prototype.destroy=function(){if(!isNaN(a.Dg.lE)&&(--a.Dg.lE,1>a.Dg.lE)){var b=
g(document.getElementById(a.Dg.mQ));0<b.length&&b.remove()}};a.Dg.prototype.xFa=function(b){if(!a.cb.xi(b)){var c=a.Dg.Kua();c.children().remove();g("\x3cdiv\x3e").text(b).appendTo(c)}};a.Dg.Kua=function(){var b=g(document.getElementById(a.Dg.mQ));0===b.length&&(b=g("\x3cdiv\x3e"),b.attr({id:a.Dg.mQ,role:"log","aria-live":"polite","aria-relevant":"additions"}),b.addClass("oj-helper-hidden-accessible"),b.appendTo(document.body));return b};a.Dg.mQ="__oj_popup_arialiveregion";a.Cl=function(b,c,d,e){a.o.we(b,
jQuery);a.o.Rq(c);a.o.ut(d);a.o.GX(e);this.qL=b;this.sz=c;this.vR=d;this.Ul=e?e:"";this.Init()};a.b.sa(a.Cl,a.b,"oj.PopupSkipLink");a.Cl.prototype.Init=function(){a.Cl.u.Init.call(this);var b=this.qL,c=this.vR,d=this.sz;delete this.sz;var e=this.Ul;delete this.Ul;var f=g("\x3ca\x3e").attr({tabindex:"-1",href:"#"});a.cb.xi(e)||f.attr("id",e);f.addClass("oj-helper-hidden-accessible");f.text(d);f.insertAfter(b);f.on("click",c);b.data(a.Cl.FH,f)};a.Cl.prototype.destroy=function(){var b=this.qL;delete this.qL;
var c=this.vR;delete this.vR;if(b){var d=b.data(a.Cl.FH);b.removeData(a.Cl.FH);d&&(d.off("click",c),d.remove())}};a.Cl.prototype.getLink=function(){var b=this.qL,c;b&&(c=b.data(a.Cl.FH));return c};a.Cl.FH="oj-skiplink"});