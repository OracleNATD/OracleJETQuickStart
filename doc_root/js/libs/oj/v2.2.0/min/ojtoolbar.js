/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(a,g){(function(){a.Pa("oj.ojToolbar",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{chroming:"half"},Yf:function(b,c){this._super(b,c);"disabled"in c&&a.t.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.")},_ComponentCreate:function(){this._super();this.element.attr(a.Components.so,this.widgetName).addClass("oj-toolbar oj-component").attr("role","toolbar");
this.ab(!0)},qh:function(a,c,d){a=this.element.find(":oj-button[tabindex\x3d0]");this.rh(c,d,{launcher:a,position:{of:"keyboard"===d?a.ojButton("widget"):c}})},_setOption:function(b,c){"disabled"===b?a.t.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.  Ignoring the call."):(this._superApply(arguments),"chroming"===b&&(this.oO.ojButtonset("refresh"),this.K_.ojButton("refresh")))},refresh:function(){this._super();this.ab(!1)},
ab:function(a){var c=this;this.ll="rtl"===this.nd();this.Df=this.element.find(":oj-button").unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(a){c.Fv(a,g(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(){g(this).ojButton("option","disabled")||c.mw(g(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(){c.mw(g(this))});this.oO=this.element.find(":oj-buttonset").ojButtonset("refresh");this.K_=this.Df.not(this.oO.find(":oj-button")).ojButton("refresh");
this.Sp=this.Df.filter(function(){return!g(this).ojButton("option","disabled")});this.JU(a)},JU:function(a){var c=g(this.Tv);this.Tv=void 0;this.Df.attr("tabindex","-1");a=a||!c.is(this.Sp)?this.Sp.first():c;this.mw(a)},iV:function(a){var c=this.Sp;return a.map(function(a,b){if("radio"!=b.type||b.checked||""==b.name)return b;var f=b.name;f?(f=f.replace(/'/g,"\\'"),f=c.filter(":radio[name\x3d'"+f+"']:oj-button")):f=c.filter(b).filter(":oj-button");f=f.filter(":checked");return f.length?f[0]:b})},mw:function(a){a=
this.iV(a);var c=a[0],d=this.Tv;c!==d&&(g(d).attr("tabindex","-1"),a.attr("tabindex","0"),this.Tv=c)},Fv:function(a,c){switch(a.which){case g.ui.keyCode.LEFT:case g.ui.keyCode.RIGHT:a.preventDefault();var d=this.Sp,e=d.length;if(2>e)break;var f=d.index(c);d.eq((f+(a.which==g.ui.keyCode.RIGHT^this.ll?1:-1)+e)%e).focus();break;case g.ui.keyCode.UP:case g.ui.keyCode.DOWN:"radio"==c.attr("type")&&a.preventDefault()}},_destroy:function(){this.element.removeClass("oj-toolbar oj-component").removeAttr(a.Components.so).removeAttr("role");
this.Df.attr("tabindex","0");this.oO.ojButtonset("refresh");this.K_.ojButton("refresh")}})})();a.Components.Op({ojToolbar:{chroming:a.Components.Sf(function(){return(a.md.Bf("oj-toolbar-option-defaults")||{}).chroming})}});a.Components.Wa("ojToolbar","baseComponent",{properties:{chroming:{type:"string"},disabled:{}},methods:{destroy:{},refresh:{},widget:{}},extension:{_widgetName:"ojToolbar"}});a.Components.register("oj-toolbar",a.Components.getMetadata("ojToolbar"))});