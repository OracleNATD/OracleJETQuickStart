/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(a,g){a.Hb=function(a,c){this.Init();this.Ca=a;this.Xj=c;this.tx()};o_("Cube",a.Hb,a);a.b.sa(a.Hb,a.b,"oj.Cube");a.Hb.prototype.Init=function(){a.Hb.u.Init.call(this)};a.Hb.prototype.$q=function(){var a=this.i8(),c=[];Array.prototype.push.apply(c,a?a.$q():this.Xh);for(a=2;a<this.Xh.length;a++)c.push(this.Xh[a]);return c};a.b.g("Cube.prototype.getAxes",{$q:a.Hb.prototype.$q});a.Hb.prototype.xT=function(){return this.Xh};a.Hb.prototype.jr=
function(a){var c=this.i8();a=c.kAa(a);for(a=c=c.lea(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return c};a.b.g("Cube.prototype.getValues",{jr:a.Hb.prototype.jr});a.Hb.prototype.setPage=function(a){this.AV=a instanceof Array?a:[a]};a.Hb.prototype.Fia=function(b,c,d,e,f){var g=this.Xj,k=this.I6(b);if(!k)return!1;b=null;d<g.length?b=this.I6(d):(b={axis:d,levels:[]},g.push(b));d=k.levels;g=b.levels;b=c<d.length?d[c]:null;if(!b)return!1;e>=g.length?(g.push(b),d.splice(c,
1)):f===a.Hb.bP.SWAP?(d[c]=g[e],g[e]=b):(f===a.Hb.bP.AFTER&&e++,g.splice(e,0,b),g===d&&e<c&&c++,d.splice(c,1));this.tx();return!0};a.b.g("Cube.prototype.pivot",{Fia:a.Hb.prototype.Fia});a.Hb.prototype.I6=function(a){for(var c=0;c<this.Xj.length;c++)if(this.Xj[c].axis===a)return this.Xj[c];return null};a.Hb.prototype.CM=function(){return this.Xj};a.b.g("Cube.prototype.getLayout",{CM:a.Hb.prototype.CM});a.Hb.bP={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",a.Hb.bP,a);a.Hb.prototype.lea=
function(a,c,d){var e=[];if(0===a.length)return c=d.slice(0),this.ai(c);var f=a.slice(1),g=a[0].start;a=a[0].count;for(d[c]=g;d[c]<g+a;d[c]++)e.push(this.lea(f,c+1,d));return e};a.Hb.prototype.kAa=function(a){var c=[];if(!a)return c;for(var d=Math.min(a.length,this.Xh.length),e=0;e<d;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?c.push(this.XI(f.start,f.count,e)):c.push(this.XI(f.start,1,e)):c.push(this.XI(0,
f.count,e)):c.push(this.XI(f,1,e))}return c};a.Hb.prototype.XI=function(a,c,d){d=this.$q()[d].getExtent();if(a>=d||0>a)a=0;c=Math.min(c,d-a);return{start:a,index:a,count:c}};a.Hb.prototype.ai=function(b){var c=this.qra(b);return c&&(c=c.Cu(),0<c.length&&(c=this.i[c[0].key]))?new a.Ii(c.value,b,c.WL,c.rows,c.ku):new a.Ii(null,b,void 0,[])};a.Hb.prototype.Kka=function(){var a=this.Wua();this.AV=[];for(var c=0;c<a.length;c++)this.vq(a[c].axis,a[c].levels),this.AV.push({axis:a[c].axis,index:0});if(0===
a.length)for(a=this.xT(),c=0;c<a.length;c++)this.vq(a[c].axis,a[c].levels)};a.Hb.prototype.Wua=function(){for(var a=[],c=0;c<this.Xj.length;c++)1<this.Xj[c].axis&&a.push(this.Xj[c]);return a};a.Hb.prototype.xT=function(){for(var a=[],c=0;c<this.Xj.length;c++)2>this.Xj[c].axis&&a.push(this.Xj[c]);return a};a.Hb.prototype.tx=function(){this.Xh=[];this.i=[];this.dS=[];this.Kka();if(null!==this.Ca)for(var b=0;b<this.Ca.length;b++){for(var c=new a.Fm,d=2;d<this.Xh.length;d++)c=this.Xh[d].x0(this.Ca[b],
c);for(var c=c.Cu(),e=0;e<c.length;e++){var d=c[e].key,f=this.dS[d];f||(f=this.dS[d]=this.HO(this.xT()));for(var g=new a.Fm,k=f.Xh.length,d=0;d<k;d++)g=f.Xh[d].x0(this.Ca[b],g);g=d=g.Cu();if(void 0!==c[e].hfa)for(g=[],k=0;k<d.length;k++)g.push(c[e]);f.gEa(d,g,this.Ca[b])}}};a.Hb.prototype.gEa=function(a,c,d){for(var e=0;e<a.length;e++)this.i[a[e].key]=this.ppa(c[e],this.i[a[e].key],d)};a.Hb.prototype.i8=function(){return this.dS[this.xua(this.AV)]};a.Hb.prototype.xua=function(b){var c=new a.Fm;if(b&&
0<b.length){b.sort(function(a,b){return a.axis-b.axis});for(var d=this.Xh,e=0;e<b.length;e++)c=d[b[e].axis].FG(b[e].index,c)}return c.Cu()[0].key};a.Hb.K$=function(a){return a?void 0!==a.value&&null!==a.value:!1};a.Hb.prototype.Vd=function(a,c,d,e,f){d.push(e);e={};for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.value=a;e.WL=c;e.rows=d;return e};a.Hb.Ng=function(b){return a.cb.Re(b.value)?!1:!isNaN(b.value)};a.Hb.prototype.ppa=function(b,c,d){var e=this.JO(b.hfa),f=e.Vz,g=a.Hb.K$(c),k=a.Hb.K$(b),
l=g&&a.Hb.Ng(c),m=k&&a.Hb.Ng(b);switch(f){case a.Hi.SUM:return g&&k?l&&m?this.Vd(c.value+b.value,f,c.rows,d,{}):this.Vd(NaN,f,c.rows,d,{}):k&&!g?m?this.Vd(b.value,f,[],d,{}):this.Vd(NaN,f,[],d,{}):c;case a.Hi.AVERAGE:return g&&k?l&&m?this.Vd((c.dB+b.value)/(c.rows.length+1),f,c.rows,d,{dB:c.dB+b.value}):this.Vd(NaN,f,c.rows,d,{dB:c.dB}):k&&!g?m?this.Vd(b.value,f,[],d,{dB:b.value}):this.Vd(NaN,f,[],d,{dB:NaN}):c;case a.Hi.VARIANCE:case a.Hi.STDDEV:return g&&k?l&&m?(g=c.value+(b.value-c.value)/(c.rows.length+
1),this.Vd(g,f,c.rows,d,{ku:c.ku+(b.value-c.value)*(b.value-g)})):this.Vd(NaN,f,c.rows,d,{ku:NaN}):k&&!g?m?this.Vd(b.value,f,[],d,{ku:0}):this.Vd(NaN,f,[],d,{ku:NaN}):c;case a.Hi.NONE:return this.Vd(null,f,g?c.rows:[],d,{});case a.Hi.FIRST:return g?this.Vd(c.value,f,c.rows,d,{}):k?this.Vd(b.value,f,[],d,{}):c;case a.Hi.MIN:return g&&k?l&&m?this.Vd(Math.min(c.value,b.value),f,c.rows,d,{}):this.Vd(NaN,f,c.rows,d,{}):k&&!g?m?this.Vd(b.value,f,[],d,{}):this.Vd(NaN,f,[],d,{}):c;case a.Hi.MAX:return g&&
k?l&&m?this.Vd(Math.max(c.value,b.value),f,c.rows,d,{}):this.Vd(NaN,f,c.rows,d,{}):k&&!g?m?this.Vd(b.value,f,[],d,{}):this.Vd(NaN,f,[],d,{}):c;case a.Hi.COUNT:return g&&k?this.Vd(c.value+1,f,c.rows,d,{}):k&&!g?this.Vd(1,f,[],d,{}):c;case a.Hi.CUSTOM:return b=e.Oc.call(this,g?c.value:void 0,k?b.value:void 0),this.Vd(b,f,g?c.rows:[],d,{})}};a.Hb.prototype.vq=function(b,c){b>=this.Xh.length&&Array.prototype.push.apply(this.Xh,Array(b-this.Xh.length+1));this.Xh[b]||(this.Xh[b]=new a.Hh(c,b,this));return this.Xh[b]};
a.Hb.prototype.qra=function(b){for(var c=this.$q(),d=new a.Fm,e=0;e<b.length;e++)d=c[e].FG(b[e],d);return d};a.Hb.prototype.Jx=function(){a.o.kd()};a.Hb.prototype.HO=function(){a.o.kd()};a.Hb.prototype.IO=function(){a.o.kd()};a.Hb.prototype.JO=function(){a.o.kd();return{}};a.Hi={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",a.Hi,a);a.hd=function(a,c,d,e){this.Init();this.qf=[];this.$v=e;this.fsa=
d;this.i={};this.i.value=a;this.i.label=c};o_("CubeAxisValue",a.hd,a);a.b.sa(a.hd,a.b,"oj.CubeAxisValue");a.hd.prototype.Init=function(){a.hd.u.Init.call(this)};a.hd.prototype.Kw=function(){return this.fsa};a.b.g("CubeAxisValue.prototype.getLevel",{Kw:a.hd.prototype.Kw});a.hd.prototype.getDepth=function(){return 1};a.b.g("CubeAxisValue.prototype.getDepth",{getDepth:a.hd.prototype.getDepth});a.hd.prototype.gga=function(){for(var a=[],c=this.$v;c&&c.$v;)a.unshift(c),c=c.$v;return a};a.b.g("CubeAxisValue.prototype.getParents",
{gga:a.hd.prototype.gga});a.hd.prototype.getChildren=function(){return this.qf};a.b.g("CubeAxisValue.prototype.getChildren",{getChildren:a.hd.prototype.getChildren});a.hd.prototype.getExtent=function(){if(-1<this.Jy)return this.Jy;if(this.qf&&0!==this.qf.length)for(var a=this.Jy=0;a<this.getChildren().length;a++)this.Jy+=this.getChildren()[a].getExtent();else this.Jy=1;return this.Jy};a.b.g("CubeAxisValue.prototype.getExtent",{getExtent:a.hd.prototype.getExtent});a.hd.prototype.getStart=function(){if(-1<
this.bk)return this.bk;if(!this.$v)return 0;for(var a=this.$v.getStart(),c=this.$v.l8(this);c;)a+=c.getExtent(),c=this.$v.l8(c);return this.bk=a};a.b.g("CubeAxisValue.prototype.getStart",{getStart:a.hd.prototype.getStart});a.hd.prototype.je=function(){return this.i.value};a.b.g("CubeAxisValue.prototype.getValue",{je:a.hd.prototype.je});a.hd.prototype.BY=function(){return this.i.label?this.i.label:this.je()};a.b.g("CubeAxisValue.prototype.getLabel",{BY:a.hd.prototype.BY});a.hd.prototype.Lka=function(a){var c=
this.Sta();if(null===c)return null;if(c.yA())return this.fua(a);if(a=a[c.attribute])for(c=0;c<this.qf.length;c++)if(this.qf[c].je()===a)return this.qf[c];return null};a.hd.prototype.fua=function(a){for(var c=0;c<this.qf.length;c++){var d=this.qf[c].je();if(a.hasOwnProperty(d)&&a[d]===d)return this.qf[c]}return null};a.hd.prototype.Sta=function(){return this.qf&&0<this.qf.length?this.qf[0].Kw():null};a.hd.prototype.Mka=function(a){return this.IS(a,0,this.qf.length-1)};a.hd.prototype.IS=function(a,
c,d){if(c>d)return null;var e=Math.floor((c+d)/2),f=this.qf[e],g=f.getStart();return g>a?this.IS(a,c,e-1):g+f.getExtent()-1<a?this.IS(a,e+1,d):f};a.hd.prototype.sO=function(b,c,d){for(var e=0;e<this.qf.length;e++)if(this.qf[e].je()===b)return this.qf[e];b=new a.hd(b,c,d,this);this.qf.push(b);return b};a.hd.prototype.Nka=function(){var a={};a[this.Kw().attribute]=this.je();return a};a.hd.prototype.l8=function(a){for(var c=0;c<this.qf.length;c++)if(this.qf[c]===a){if(0<c)return this.qf[c-1];break}return null};
a.Hh=function(b,c,d){this.Init();this.axis=c;this.T$=[];for(c=0;c<b.length;c++)this.T$.push(d.IO(b[c],this));this.HC=d;this.Tg=new a.hd(null,null,null,null)};o_("CubeAxis",a.Hh,a);a.b.sa(a.Hh,a.b,"oj.CubeAxis");a.Hh.prototype.Init=function(){a.Hh.u.Init.call(this)};a.Hh.prototype.vp=function(){return this.T$};a.b.g("CubeAxis.prototype.getLevels",{vp:a.Hh.prototype.vp});a.Hh.prototype.getExtent=function(){return this.Tg.getExtent()};a.b.g("CubeAxis.prototype.getExtent",{getExtent:a.Hh.prototype.getExtent});
a.Hh.prototype.jr=function(a){for(var c=[],d=this.Tg;d;)(d=d.Mka(a))&&c.push(d);return c};a.b.g("CubeAxis.prototype.getValues",{jr:a.Hh.prototype.jr});a.Hh.prototype.gl=function(a){a=a?JSON.parse(a):{};for(var c=this.Tg,d=null;c;)d=c,c=c.Lka(a);return d?d.getStart():-1};a.b.g("CubeAxis.prototype.getIndex",{gl:a.Hh.prototype.gl});a.Hh.prototype.FG=function(a,c){return this.e0(a,this.vp().length-1,c)};a.Hh.prototype.e0=function(a,c,d){a=this.jr(a);c=this.vp()[c];for(var e=0;e<a.length;e++){var f=a[e];
f.Kw().yA()?d.rO(f.je()):d.qP(f);if(f.Kw()===c)break}return d};a.Hh.prototype.x0=function(a,c){return this.HC.Jx(this,0,this.Tg,a,c,!0)};a.Ii=function(a,c,d,e,f){this.Init();this.i={};this.i.value=a;this.i.VIa=c;this.i.WL=d;this.i.rows=e;this.i.ku=f};o_("CubeDataValue",a.Ii,a);a.b.sa(a.Ii,a.b,"oj.CubeDataValue");a.Ii.prototype.Init=function(){a.Ii.u.Init.call(this)};a.Ii.prototype.je=function(){switch(this.i.WL){case a.Hi.STDDEV:return Math.sqrt(this.R8());case a.Hi.VARIANCE:return this.R8();default:return this.i.value}};
a.b.g("CubeDataValue.prototype.getValue",{je:a.Ii.prototype.je});a.Ii.prototype.aga=function(){return this.i.VIa};a.b.g("CubeDataValue.prototype.getIndices",{aga:a.Ii.prototype.aga});a.Ii.prototype.nga=function(){return this.i.rows};a.b.g("CubeDataValue.prototype.getRows",{nga:a.Ii.prototype.nga});a.Ii.prototype.Dfa=function(){return this.i.WL};a.b.g("CubeDataValue.prototype.getAggregation",{Dfa:a.Ii.prototype.Dfa});a.Ii.prototype.R8=function(){if(isNaN(this.i.ku))return NaN;var a=this.i.rows.length;
return 1<a?this.i.ku/(a-1):0};a.Em=function(b,c){var d=c.row?c.row.start:0,e=c.row?c.row.count:0,f=c.column?c.column.start:0,g=c.column?c.column.count:0;a.o.Qq(d,null);a.o.Qq(e,null);a.o.Qq(f,null);a.o.Qq(g,null);this.HC=b;this.JW={row:d,column:f};this.Tg=this.HC.jr([{start:f,count:g},{start:d,count:e}]);g=(d=Array.isArray(this.Tg))?this.Tg.length:1;0<g&&(e=d?this.Tg[0].length:1);this.lra={row:e,column:g}};o_("CubeCellSet",a.Em,a);a.Em.prototype.getData=function(a){var c=a.row;a=a.column;return(c=
Array.isArray(this.Tg)?this.Tg[a-this.JW.column][c-this.JW.row]:this.Tg)?c.je():null};a.b.g("CubeCellSet.prototype.getData",{getData:a.Em.prototype.getData});a.Em.prototype.getMetadata=function(a){var c={keys:{}};c.keys.row=this.b7(a,"row",2);c.keys.column=this.b7(a,"column",1);return c};a.b.g("CubeCellSet.prototype.getMetadata",{getMetadata:a.Em.prototype.getMetadata});a.Em.prototype.b7=function(b,c,d){var e=this.HC.$q();return void 0!==b[c]&&e.length>=d?(d=new a.Fm,d=e[a.Jc.r5(c)].FG(b[c],d),d.Cu()[0].key):
null};a.Em.prototype.getStart=function(a){return this.JW[a]};a.b.g("CubeCellSet.prototype.getStart",{getStart:a.Em.prototype.getStart});a.Em.prototype.getCount=function(a){return this.lra[a]};a.b.g("CubeCellSet.prototype.getCount",{getCount:a.Em.prototype.getCount});a.Ki=function(b,c,d){this.Init();this.Bs=d;this.fR();a.Ki.u.constructor.call(this,b,c)};o_("DataValueAttributeCube",a.Ki,a);a.b.sa(a.Ki,a.Hb,"oj.DataValueAttributeCube");a.Ki.prototype.Ca=null;a.Ki.prototype.Init=function(){a.Ki.u.Init.call(this)};
a.Ki.prototype.tx=function(){a.Ki.u.tx.call(this)};a.Ki.prototype.JO=function(a){return this.Cy[a]};a.Ki.prototype.IO=function(b,c){return b.dataValue?new a.zj(null,c,!0):new a.zj(b.attribute,c,!1)};a.Ki.prototype.HO=function(b){return new a.Ki(null,b,this.Bs)};a.Ki.prototype.Jx=function(a,c,d,e,f,g){if(c>=a.vp().length)return f;var k=a.vp()[c];if(k.yA())return this.UAa(a,d,e,c,f);d=d.sO(e[k.attribute],null,k);g&&f.qP(d);return this.Jx(a,c+1,d,e,f,g)};a.Ki.prototype.UAa=function(a,c,d,e,f){for(var g=
!0,k=0;k<this.Bs.length;k++){var l=this.Bs[k].attribute,m=this.Bs[k].label;d.hasOwnProperty(l)&&(m=c.sO(l,m,a.vp()[e]),f.rO(l,d[l]),this.Jx(a,e+1,m,d,f,g),g=!1)}return f};a.Ki.prototype.fR=function(){this.Cy=[];for(var b=0;b<this.Bs.length;b++){var c=this.Bs[b];this.Cy[c.attribute]=c.aggregation?{Vz:c.aggregation,Oc:c.callback}:{Vz:a.Hi.SUM,Oc:c.callback}}};a.Fm=function(){this.ZU=[];this.i=[]};a.Fm.prototype.qP=function(a){this.ZU.push(a)};a.Fm.prototype.rO=function(a,c){this.i.push({name:a,value:c})};
a.Fm.prototype.Cu=function(){var a=[],c=this.Xpa();if(0===this.i.length)a.push({key:JSON.stringify(c)});else for(var d=0;d<this.i.length;d++){var e=g.extend(!0,{},c);e[this.i[d].name]=this.i[d].name;a.push({key:JSON.stringify(e),hfa:this.i[d].name,value:this.i[d].value})}return a};a.Fm.prototype.Xpa=function(){for(var a={},c=0;c<this.ZU.length;c++){var d=this.ZU[c].Nka(),e;for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a};a.ah=function(a,c,d,e){this.HC=c;this.pC=a;this.bk=void 0===d?0:d;this.jra=
void 0===e?this.pC.getExtent():Math.min(e,this.pC.getExtent()-d);this.u6=d+e-1};o_("CubeHeaderSet",a.ah,a);a.ah.prototype.getData=function(a,c){var d=this.ai(a,c);return d?d.BY():null};a.b.g("CubeHeaderSet.prototype.getData",{getData:a.ah.prototype.getData});a.ah.prototype.getMetadata=function(b,c){var d=new a.Fm,d=this.pC.e0(b,c,d);return(d=d.Cu())&&0<d.length?{key:d[0].key}:null};a.b.g("CubeHeaderSet.prototype.getMetadata",{getMetadata:a.ah.prototype.getMetadata});a.ah.prototype.getLevelCount=function(){return this.pC.vp().length};
a.b.g("CubeHeaderSet.prototype.getLevelCount",{getLevelCount:a.ah.prototype.getLevelCount});a.ah.prototype.getExtent=function(a,c){var d=this.ai(a,c),e=d.getExtent(),d=d.getStart(),f=d+e-1,g=a<d+e-1;d<this.bk&&(e-=this.bk-d);f>this.u6&&(e-=f-this.u6);return{extent:e,more:{before:a>d,after:g}}};a.b.g("CubeHeaderSet.prototype.getExtent",{getExtent:a.ah.prototype.getExtent});a.ah.prototype.getDepth=function(a,c){return this.ai(a,c).getDepth()};a.b.g("CubeHeaderSet.prototype.getDepth",{getDepth:a.ah.prototype.getDepth});
a.ah.prototype.getCount=function(){return this.jra};a.b.g("CubeHeaderSet.prototype.getCount",{getCount:a.ah.prototype.getCount});a.ah.prototype.getStart=function(){return this.bk};a.b.g("CubeHeaderSet.prototype.getStart",{getStart:a.ah.prototype.getStart});a.ah.prototype.ai=function(a,c){void 0===c&&(c=0);var d=this.pC.jr(a);return d&&d.length>c?d[c]:null};a.Jc=function(b){a.Jc.u.constructor.call(this,b)};o_("CubeDataGridDataSource",a.Jc,a);a.b.sa(a.Jc,a.Pr,"oj.CubeDataGridDataSource");a.Jc.prototype.oja=
function(a){this.data=a;this.P6()};a.b.g("CubeDataGridDataSource.prototype.setCube",{oja:a.Jc.prototype.oja});a.Jc.prototype.setPage=function(a){this.data.setPage(a);this.P6()};a.b.g("CubeDataGridDataSource.prototype.setPage",{setPage:a.Jc.prototype.setPage});a.Jc.prototype.P6=function(){this.handleEvent("change",{source:this,operation:"refresh"})};a.Jc.prototype.getCount=function(a){return(a=this.vq(a))?a.getExtent():0};a.b.g("CubeDataGridDataSource.prototype.getCount",{getCount:a.Jc.prototype.getCount});
a.Jc.prototype.getCountPrecision=function(){return"exact"};a.b.g("CubeDataGridDataSource.prototype.getCountPrecision",{getCountPrecision:a.Jc.prototype.getCountPrecision});a.Jc.prototype.fetchHeaders=function(b,c,d){var e=new a.ah(this.vq(b.axis),this.data,b.start,b.count);c.success.call(d?d.success:void 0,e,b)};a.b.g("CubeDataGridDataSource.prototype.fetchHeaders",{fetchHeaders:a.Jc.prototype.fetchHeaders});a.Jc.prototype.fetchCells=function(b,c,d){for(var e={},f=0;f<b.length;f++){var g=void 0===
b[f].start?0:b[f].start;if("row"===b[f].axis){var k=void 0===b[f].count?this.data.$q()[1].getExtent():b[f].count;e.row={start:g,count:k}}"column"===b[f].axis&&(k=void 0===b[f].count?this.data.$q()[0].getExtent():b[f].count,e.column={start:g,count:k})}e=new a.Em(this.data,e);c.success.call(d?d.success:void 0,e,b)};a.b.g("CubeDataGridDataSource.prototype.fetchCells",{fetchCells:a.Jc.prototype.fetchCells});a.Jc.prototype.keys=function(a){var c={},c=this.kc(a,"row",c),c=this.kc(a,"column",c);return Promise.resolve(c)};
a.b.g("CubeDataGridDataSource.prototype.keys",{keys:a.Jc.prototype.keys});a.Jc.prototype.kc=function(b,c,d){var e=this.vq(c);b=b[c];var f=new a.Fm,f=e?e.FG(b,f):"";d[c]=f.Cu()[0].key;return d};a.Jc.prototype.indexes=function(a){var c={},c=this.Qj(a,"row",c),c=this.Qj(a,"column",c);return Promise.resolve(c)};a.b.g("CubeDataGridDataSource.prototype.indexes",{indexes:a.Jc.prototype.indexes});a.Jc.prototype.Qj=function(a,c,d){d[c]=this.vq(c).gl(a[c]);return d};a.Jc.prototype.sort=function(){a.o.kd()};
a.b.g("CubeDataGridDataSource.prototype.sort",{sort:a.Jc.prototype.sort});a.Jc.prototype.move=function(){a.o.kd()};a.b.g("CubeDataGridDataSource.prototype.move",{move:a.Jc.prototype.move});a.Jc.prototype.moveOK=function(){return"invalid"};a.b.g("CubeDataGridDataSource.prototype.moveOK",{moveOK:a.Jc.prototype.moveOK});a.Jc.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};a.b.g("CubeDataGridDataSource.prototype.getCapability",{getCapability:a.Jc.prototype.getCapability});
a.Jc.r5=function(a){return"row"===a?1:0};a.Jc.prototype.vq=function(b){b=a.Jc.r5(b);var c=this.data.$q();return c.length>b?c[b]:null};a.Ji=function(b,c,d){this.Init();this.Bs=d;this.kFa=d.valueAttr;this.nza=d.labelAttr;var e=d.defaultAggregation;this.P5=e?a.Ji.hua(e):{Vz:a.Hi.SUM};this.VQ=d.aggregation;this.fR();a.Ji.u.constructor.call(this,b,c)};o_("DataColumnCube",a.Ji,a);a.b.sa(a.Ji,a.Hb,"oj.DataColumnCube");a.Ji.prototype.Init=function(){a.Ji.u.Init.call(this)};a.Ji.prototype.tx=function(){a.Ji.u.tx.call(this)};
a.Ji.prototype.JO=function(a){return this.Cy[a]?this.Cy[a]:this.P5};a.Ji.prototype.HO=function(b){return new a.Ji(null,b,this.Bs)};a.Ji.prototype.IO=function(b,c){return b.attribute===this.nza?new a.zj(b.attribute,c,!0):new a.zj(b.attribute,c,!1)};a.Ji.prototype.Jx=function(a,c,d,e,f,g){if(c>=a.vp().length)return f;var k=a.vp()[c],l=e[k.attribute];d=d.sO(l,null,k);k.yA()?f.rO(l,e[this.kFa]):f.qP(d);return this.Jx(a,c+1,d,e,f,g)};a.Ji.hua=function(b){return a.cb.Re(b)?{Vz:b}:{Vz:b.aggregation,Oc:b.callback}};
a.Ji.prototype.fR=function(){this.Cy=[];if(this.VQ)for(var a=0;a<this.VQ.length;a++){var c=this.VQ[a],d=c.aggregation;this.Cy[c.value]=d?{Vz:d,Oc:c.callback}:this.P5}};a.zj=function(a,c,d){this.Init();this.attribute=a;this.e4=c;this.axis=c.axis;this.O5=d};o_("CubeLevel",a.zj,a);a.b.sa(a.zj,a.b,"oj.CubeLevel");a.zj.prototype.Init=function(){a.zj.u.Init.call(this)};a.zj.prototype.je=function(a){if(a=this.e4.jr(a))for(var c=0;c<a.length;c++)if(a[c].Kw()===this)return a[c];return null};a.b.g("CubeLevel.prototype.getValue",
{je:a.zj.prototype.je});a.zj.prototype.yA=function(){return this.O5};a.b.g("CubeLevel.prototype.isDataValue",{yA:a.zj.prototype.yA});a.zj.prototype.O5=!1;a.zj.prototype.e4=null});