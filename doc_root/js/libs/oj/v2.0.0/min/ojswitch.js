/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(b){(function(){b.ya("oj.ojSwitch",$.oj.editableValue,{version:"1.1.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",options:{disabled:!1,readOnly:!1,required:!1,title:"",value:!1},refresh:function(){this._super();this.Aa()},widget:function(){return this.Gl},getNodeBySubId:function(b){var a,d=this.widget();a=null==b||null==b.subId?d:null;return a||(b=b.subId,"oj-switch-thumb"!==b&&"oj-switch-track"!==b)?a||null:d.find("."+b)[0]},
getSubIdByNode:function(b){var a=$(this.element).attr("id"),d,c=null;null!=b&&($(b).hasClass("oj-switch-track")||$(b).hasClass("oj-switch-thumb"))&&(d=$(b).parents("div.oj-switch").find("input.oj-component-initnode").attr("id"),a===d&&$(b).hasClass("oj-switch-track")?c={subId:"oj-switch-track"}:a===d&&$(b).hasClass("oj-switch-thumb")&&(c={subId:"oj-switch-thumb"}));return c},xa:{x9:"SwitchOFF",y9:"SwitchON"},Xd:function(f,a){var d;this._super(f,a);b.ve.Vk([{V:"disabled",xc:!0},{V:"readonly",option:"readOnly",
xc:!0},{V:"required",xc:!1,Ze:function(){return!1}},{V:"checked",option:"value",xc:!1,Ze:function(a){return a?!0:!1}},{V:"title"}],a,this);d=this.option("value");this.option({required:!1,value:!!d},{_context:{Hc:!0,Va:!0}})},_ComponentCreate:function(){this._super();if(!this.element.is("input"))throw Error("ojSwitch can be bound to INPUT only.");this.YX=this.element.css("display");this.element.css("display","none").attr("type","checkbox").attr("checked",this.option("value")).attr("tabindex","-1").attr("disabled",
this.option("disabled")).attr("readonly",this.option("readOnly"));this.Gl=this.element.wrap("\x3cdiv\x3e\x3c/div\x3e").parent().addClass("oj-switch oj-component oj-form-control");this.Gl.append("\x3cdiv class\x3d'oj-switch-container'\x3e\x3cdiv class\x3d'oj-switch-track'\x3e\x3cdiv class\x3d'oj-switch-thumb' tabIndex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");this.fl=this.Gl.find(".oj-switch-thumb");this.fl.attr("role","switch checkbox");this.wka(this.element,this.fl);this.Aa()},wka:function(b,
a){var d=b.prop("id"),c=b.attr("aria-labelledby"),e=b.attr("aria-label");e?a.attr("aria-label",e):c?a.attr("aria-labelledby",c):d&&(d=$("label[for\x3d'"+d+"']"))&&(d.attr("id")?a.attr("aria-labelledby",d.attr("id")):a.attr("aria-label",$(d).text()))},Aa:function(){var b=$(this.widget()),a=this.option("title");this.Bj();if(void 0!==b){this.element.attr("checked",this.option("value"));b.removeClass("oj-disabled oj-read-only oj-selected oj-hover oj-active");$(this.fl).attr("tabindex","0");$(this.fl).html("");
if(this.option("disabled")||this.option("readOnly"))this.option("disabled")?b.addClass("oj-disabled"):(b.addClass("oj-read-only"),$(this.fl).html(this.Zka())),$(this.fl).removeAttr("tabindex");this.option("value")&&b.addClass("oj-selected");void 0!==a&&$(this.fl).attr("title",a);$(this.fl).attr("aria-checked",this.option("value"));$(this.fl).removeAttr("aria-disabled");b.removeAttr("aria-disabled");this.zv()||$(this.fl).attr("aria-disabled","true")}},Zka:function(){var b=this.xa.x9;this.option("value")&&
(b=this.xa.y9);return this.A(b)},Bj:function(){this._off(this.Gl,"keydown keyup mousedown mouseup mouseleave mouseenter touchstart");this.zv()&&(this._on(this.Gl,this.Gla),this._hoverable(this.Gl));this._focusable(this.Gl)},Gla:{keydown:function(b){if(b.which===$.ui.keyCode.ENTER||b.which===$.ui.keyCode.SPACE)$(b.currentTarget).addClass("oj-active"),b.preventDefault()},keyup:function(b){b.which!==$.ui.keyCode.ENTER&&b.which!==$.ui.keyCode.SPACE||this.fc(!this.option("value"),b)},mousedown:function(b){1===
b.which&&$(b.currentTarget).addClass("oj-active")},mouseup:function(b){1===b.which&&this.fc(!this.option("value"),b)},mouseleave:function(b){1===b.which&&$(b.currentTarget).removeClass("oj-active")},mouseenter:function(b){1===b.which&&$(b.currentTarget).addClass("oj-active")},rsa:function(b){this.fc(!this.option("value"),b);b.preventDefault()}},_GetDefaultStyleClass:function(){return"oj-switch"},Gra:function(){return"switch checkbox"},_destroy:function(){this.Gl.find(".oj-switch-track").remove();
b.v.unwrap(this.element);this.zs(this.element);return this._super()},Wd:function(){return this.Gl},_setOption:function(b,a,d){switch(b){case "disabled":case "readOnly":case "value":a=!!a;break;case "required":a=!1;break}this._super(b,a,d);this.Aa()}})})()});