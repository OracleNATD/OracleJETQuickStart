/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojdnd"],function(a,g){function b(){}b.Il="oj-expanded";b.Sh="oj-collapsed";b.Tu="oj-hover";b.Xm="oj-selected";b.Ye="oj-disabled";b.ULa="oj-default";b.ay="oj-treenode-temp";a.wa=function(a){this.Init(a)};a.b.sa(a.wa,a.b,"oj.TreeDndContext");a.wa.prototype.Init=function(b){a.wa.u.Init.call(this);this.R=b;this.options=b.options;this.Tba()};a.b.g("TreeDndContext.prototype.Init",{Init:a.wa.prototype.Init});a.wa.prototype.rha=function(){var a=this.Id;
return a.reorder||a.dj};a.wa.prototype.gJa=function(){var a=this.Id;return a.reorder||a.Fn};a.wa.prototype.qIa=function(){var b=this.Id,d=a.wa,e=b.reorder,f=b.dj;this.k6();this.mha();b=this.Id;if(e!=b.reorder||f!=b.dj)b.reorder||b.dj||this.R.ra.find("li").removeClass(d.aQ).removeClass(d.rH).removeClass(d.$r).removeAttr("draggable");this.lha()};a.wa.prototype.mha=function(){var b=this.options.dnd,d=this.Id,e=a.wa,f=!0,h;d.reorder=!1;"object"!=typeof b?this.options.dnd={reorder:"disable"}:(h=b[e.ima],
"string"===typeof h&&("enable"===h?(d.reorder=!0,f=!1):"disable"==h&&(f=!1)),f&&(this.options.dnd.reorder="disable"),h=b[e.$la],"object"==typeof h&&(h=h[e.D1],"object"==typeof h&&(f=h[e.cma],"function"==typeof f&&(d.gF=f,d.dj=!0),f=h[e.ama],"function"==typeof f&&(d.nM=f,d.dj=!0),f=h[e.bma],"function"==typeof f&&(d.bY=f,d.dj=!0),f=h[e.C1],g.isArray(f)?(d.Fw=f.slice(),d.dj=!0):"string"==typeof f&&(d.Fw=[f],d.dj=!0))),h=b[e.dma],"object"==typeof h&&(h=h[e.D1],"object"==typeof h&&(f=h[e.ema],"function"==
typeof f&&(d.pM=f,d.Fn=!0),f=h[e.gma],"function"==typeof f&&(d.rM=f,d.Fn=!0),f=h[e.fma],"function"==typeof f&&(d.qM=f,d.Fn=!0),f=h[e.hma],"function"==typeof f&&(d.sM=f,d.Fn=!0),f=h[e.C1],g.isArray(f)?(d.oM=f.slice(),d.Fn=!0):"string"==typeof f&&(d.oM=[f],d.Fn=!0))),d.reorder||(d.Fw||d.gF||(d.dj=!1,d.gF=d.nM=d.bY=d.Fw=null),d.sM||(d.Fn=!1,d.pM=d.rM=d.qM=d.sM=d.oM=null)),d.SN=d.reorder&&!d.dj)};a.wa.prototype.lha=function(){var b=this.Id,d=b.Cf,e=a.wa;if(b.dj||b.Fn||b.reorder){a.wa.q6?(d.Dp=a.wa.q6,
d.ym=a.wa.Ksa):(d.Dp=g("\x3cdiv class\x3d'oj-tree-drop-marker'\x3e\x3cspan class\x3d'oj-tree-drop-ptr oj-component-icon'\x3e\x26#160;\x3c/span\x3e\x3c/div\x3e").css("pointer-events","none").hide().appendTo("body"),d.ym=g("\x3cdiv /\x3e").addClass(e.nna).css("pointer-events","none").hide().appendTo("body"),a.wa.q6=d.Dp,a.wa.Ksa=d.ym);b.gia=d.ym.width();var d=this.R.element[0],f=g(d).children("ul:eq(0)");if(b.reorder||b.dj)b.lY=this.wS.bind(this),b.hY=this.Hsa.bind(this),g(d).on("dragstart",b.lY),g(d).on("dragend",
b.hY),f.length&&f.find("li").addClass(e.aQ).addClass(e.rH).addClass(e.$r).attr("draggable","true");if(b.reorder||b.Fn)b.fY=this.Fsa.bind(this),b.iY=this.Isa.bind(this),b.kY=this.Msa.bind(this),b.jY=this.Jsa.bind(this),b.gY=this.Gsa.bind(this),g(d).on("drag",b.fY),g(d).on("dragenter",b.iY),g(d).on("dragover",b.kY),g(d).on("dragleave",b.jY),g(d).on("drop",b.gY)}};a.wa.prototype.Oqa=function(){this.k6()};a.wa.prototype.wS=function(c){var d,e,f=g(c.target).closest("li"),h=c.originalEvent.dataTransfer,
k;d=this.Id;e=d.Cf;e.lc=null;e.Oa=null;d.cx=null;d.NZ=null;d.fG=null;d.hF=!1;if(!d.reorder&&!d.dj||f.hasClass(b.Ye)||this.R.i.la.locked)c.preventDefault();else{e=this.R.isSelected(f)?this.R.La(null,!0):e=f;(d.dj||d.SN)&&this.VCa(h,e);this.XCa(h,e);if(d.gF){k=d.gF(c,{item:void 0});if(c.isDefaultPrevented()||"boolean"===typeof k&&!k)return k;if(!d.Fw&&!this.rqa(h)&&!d.reorder)return c.preventDefault(),!1}"uninitialized"===h.effectAllowed&&(h.effectAllowed=d.SN?"move":a.C.or(c)?"copy":"move");this.xsa(e,
f,c)}};a.wa.prototype.Fsa=function(a){var b=this.Id;b.nM&&b.nM(a)};a.wa.prototype.Isa=function(c){this.R.ra[0].firstChild||this.Yoa();var d=g(c.target),e=this.R.La(d),f=this.Id,h=f.Cf,k=e&&0<e.length&&e.hasClass("oj-tree-node"),l=c.originalEvent.dataTransfer,m=a.wa,r=!1,t=!1,s;k&&e.hasClass(b.ay)&&(f.kp=!0);if(!k||"UL"!=c.target.tagName||"group"!=c.target.getAttribute("role"))if(f.ti=!f.hF,!f.ti&&!f.reorder||f.ti&&this.RU(l,m.KP))this.nv();else{if(f.ti&&(r=this.RU(l,m.JP),!f.Fn)){this.nv();return}h.Oa=
!1;f.cx&&this.xC(f.cx);d.hasClass("oj-tree")&&(e=f.cx);if(!e||!e.length||e.attr("id")!=f.fG){r&&k&&(f.cx=null,h.lc=2);f.ti&&!r&&(h.lc=1);h.Oa=e;f.cx=e;this.l6(c,e);if(this.ssa()){h.Oa.removeClass(m.bQ).addClass(m.$r).addClass(m.w2);f.pM&&(s=f.pM(c,{item:f.kp?null:e,position:f.kp?"first":f.uj,reference:f.kp?null:h.Oa}));if(void 0===s)this.q$(l)?(c.preventDefault(),c.stopPropagation()):t=f.ti||!f.reorder;else if(!1===s||c.isDefaultPrevented())c.preventDefault(),c.stopPropagation();else if(f.ti||!f.reorder)t=
f.ti||!f.reorder;t&&this.nv();return s}this.xC(h.Oa);h.Oa=null}this.Ey()}};a.wa.prototype.Msa=function(a){var b=this.Id,e=b.Cf,f=a.originalEvent.dataTransfer,g=!1,k,l,m;if(e.Oa&&e.Oa.length&&(l=e.Oa,l.hasClass("oj-tree-node")&&(k=l.attr("id"),k!=b.fG&&(this.l6(a,l),this.rS())))){b.rM&&(m=b.rM(a,{item:b.kp?null:l,reference:b.kp?null:e.Oa,position:b.kp?"first":e.lZ}));if(void 0===m)this.q$(f)?(a.preventDefault(),a.stopPropagation()):g=b.ti||!b.reorder;else if(!1===m||a.isDefaultPrevented())a.preventDefault(),
a.stopPropagation();else if(b.ti||!b.reorder)g=b.ti||!b.reorder;g&&this.nv();return m}this.Ey()};a.wa.prototype.Gsa=function(a){var b=this.Id,e=b.Cf,f=!1,g;if(e.Oa){if(b.sM)g=b.sM(a,{reference:b.kp?null:e.Oa,position:b.kp?"first":e.lZ,reorder:!b.ti&&b.reorder});else if(b.ti||!b.reorder)f=!0;f||g&&!a.isDefaultPrevented()||this.tsa(a)}b.ti&&this.nv();f||(a.preventDefault(),a.stopPropagation());b.NZ=null;return g};a.wa.prototype.Hsa=function(a){var b=this.Id,e=b.Cf;b.bY&&b.bY(a,{reorder:b.reorder&&!1===
e.lc});this.ysa();this.nv()};a.wa.prototype.Yoa=function(){this.i$||(this.i$=g("\x3cli class\x3d'"+b.ay+" oj-tree-node oj-tree-leaf oj-valid-drop' id\x3d'"+b.ay+"'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3ca href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"));this.R.ra.append(this.i$)};a.wa.prototype.Jsa=function(a){var b=this.Id,e=b.Cf,f=g(a.target),h=f.closest("li"),k=h&&0<h.length&&h.hasClass("oj-tree-node");
h.attr("id");var l=a.originalEvent.dataTransfer;b.qM&&b.qM(a,{item:b.kp?null:h});f.hasClass("oj-tree")||!k||"none"==l.dropEffect?this.usa(a):b.NZ=h;e.Oa&&this.xC(e.Oa)};a.wa.prototype.ssa=function(){var a=this.Id,d=a.Cf,e;a.QN=!1;e=this.rS();var f=a.UJa;f&&(a.sNa&&clearTimeout(a.Cr),d.Oa&&d.Oa.length&&d.Oa.hasClass(b.Sh)&&(a.Cr=setTimeout(this.vsa.bind(this),f)));a=typeof e;return"boolean"==a&&e||"string"==a};a.wa.prototype.vsa=function(){var a=this.Id,b=a.Cf;a.Cr=!1;this.R.cg(b.Oa,this.rS.bind(this),
!0)};a.wa.prototype.tsa=function(b){var d=this.Id,e=d.Cf;d.hF&&d.reorder&&"object"==typeof e.lc&&0<e.lc.length&&(this.R.TD(e.lc,e.Oa,e.lZ,a.C.or(b)),e.lc=!1)};a.wa.prototype.GI=function(a){a.hasClass(b.Xm)&&(a.removeClass(b.Xm),this.R.yn(a,!0));var d=(a=this.R.getChildren(a))&&a.length?a.length:0,e;for(e=0;e<d;e++)this.GI(g(a[e]))};a.wa.prototype.l6=function(a,d){var e=this.Id;d&&(d.hasClass(b.ay)?e.uj="after":(a=a.originalEvent,e.off=d.offset(),e.uj=a.pageY-(e.off.top||0),e.uj=e.uj>=this.R.i.la.Jt?
"after":0>e.uj?"before":"inside","after"===e.uj&&d.hasClass(b.Il)&&(e.uj="first")))};a.wa.prototype.usa=function(a){var b=this.Id,e=b.Cf;b.after=!1;b.before=!1;b.xA=!1;b.gNa=null;this.Ey();e.Oa&&e.Oa[0]===a.target.parentNode&&b.Cr&&(clearTimeout(b.Cr),b.Cr=!1)};a.wa.prototype.nv=function(){this.Ey();var a=this.Id,b=a.Cf;b.lc=!1;b.Oa=!1;a.Cr&&clearTimeout(a.Cr);a.fG=null;a.ti=!1;a.cx=null;a.NZ=null;a.after=!1;a.before=!1;a.xA=!1;a.off=!1;a.QN=!1;a.Cr=!1;a.ti=!1;a.kp=!1};a.wa.prototype.k6=function(){var a=
this.Id,b;b=g(this.R.Ta[0]);b.off("dragstart",a.lY);b.off("dragend",a.hY);b.off("drag",a.fY);b.off("dragenter",a.iY);b.off("dragover",a.kY);b.off("dragleave",a.jY);b.off("drop",a.gY);this.nv();this.Tba()};a.wa.prototype.rS=function(){var a=this.Id,b=a.Cf,e=this.R,f=!1;if(!b.Oa||!b.Oa.length)return!1;if("number"==typeof b.lc&&(1===b.lc||2===b.lc))f=!0;else if(!b.lc)return!1;a.off=b.Oa.offset();this.R.sK&&(a.off.right=a.off.left+b.Oa.width()-b.Oa.find("\x3ea").width()-30);a.Nja=b.Oa.find("a").width();
f?(a.before="before"==a.uj,a.after="after"==a.uj,a.xA="inside"==a.uj):(e.dE(b.lc,b.Oa,"before"),a.before=e.lI(),e.dE(b.lc,b.Oa,"after"),a.after=e.lI(),this.R.Fq(b.Oa)?(e.dE(b.lc,b.Oa,"inside"),a.xA=e.lI()):a.xA=!1);a.QN=!0;return this.wsa()};a.wa.prototype.wsa=function(){var b=this.Id,d=!1,e=a.wa,f=b.Cf,g=this.R.sK,k,l,m,r=this.R.i.la.Jt,t=!1;if(!b.QN)return this.Ey(),t;if("after"==b.uj&&b.after||"inside"==b.uj&&b.xA||"before"==b.uj&&b.before||"first"==b.uj)t=b.uj;"first"===t&&(d=f.Oa.find("li:eq(0)"),
b.off=d.offset());l=g?b.off.right-18:b.off.left+5;d=!this.R.isLeaf(f.Oa);k=g?l+b.Nja+18:l;l=g?k-b.gia:l+8;m=b.off.top-3;switch(t){case "before":case "first":this.SD(f.Dp,{left:k,top:m-7});f.ym&&this.SD(f.ym,{left:l,top:m});break;case "after":m+=r;this.SD(f.Dp,{left:k,top:m-2});f.ym&&this.SD(f.ym,{left:l,top:m+6});break;case "inside":this.SD(f.Dp,{left:k+(g?d?-4:0:4),top:b.off.top+r/2-8});f.ym&&f.ym.hide();break;default:this.Ey()}t?f.Oa.removeClass(e.bQ).addClass(e.$r):f.Oa.removeClass(e.$r).removeClass(e.$r);
return f.lZ=t};a.wa.prototype.Ey=function(){var a=this.Id.Cf;a&&(a.Dp&&a.Dp.hide(),a.ym&&a.ym.hide(),a.Oa&&this.xC(a.Oa))};a.wa.prototype.SD=function(a,b){b.left+="px";b.top+="px";a.css(b).show()};a.wa.prototype.xsa=function(b,d,e){var f=this.Id,g=f.Cf,k=a.wa;g.lc=b;g.lc.addClass(k.rH);f.fG=d.attr("id");try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.MozUserSelect="none")}catch(l){}this.R.eza()&&g.Dp&&g.Dp.addClass("oj-tree-"+
this.R.i.Qc.eB);b=this.R.Ta;f.fGa=b.offset();f.GGa=parseInt(b.width(),10);f.ch=parseInt(b.height(),10);f.hF=!0};a.wa.prototype.ysa=function(){var b=this.Id,d=b.Cf,e=a.wa;d.Oa&&this.xC(d.Oa);"number"!=typeof d.lc&&d.lc&&d.lc.removeClass(e.rH);this.II&&(document.body.removeChild(this.II),this.II=null);b.hF=!1};a.wa.prototype.VCa=function(b,d){var e=this.Id,f=a.wa,g,k;(g=this.R.v3(d))&&(k=JSON.stringify(g));if(e.Fw)for(g=0;g<e.Fw.length;g++)b.setData(e.Fw[g],k);b.setData(f.JP,"0");e.SN&&b.setData(f.KP,
"0")};a.wa.prototype.XCa=function(a,b){var e,f,h,k=b.length,l;if(1===k)this.II=null;else{e=g("\x3cdiv\x3e\x3c/div\x3e");f=g("\x3cul style\x3d'padding:0px;margin:0;'\x3e\x3c/ul\x3e");e.append(f);for(l=0;l<k;l++)h=b[l].cloneNode(!0),h.style.marginLeft=0,h.style.paddingLeft=0,f.append(h);f=e[0];document.body.appendChild(f);f.style.position="absolute";f.style.top="-"+2*e.height()+"px";f.style.right="0";this.II=f;a.setDragImage(f,0,0)}};a.wa.prototype.RU=function(a,b){var e=a.types,f=e.length,g;for(g=
0;g<f;g++)if(b==e[g])return!0;return!1};a.wa.prototype.q$=function(a){var b=this.Id.oM,e=!1,f;if(b)for(e=!(0<b.length),f=0;f<b.length;f++){if(this.RU(a,b[f])){e=!0;break}}else e=!0;return e};a.wa.prototype.rqa=function(b){var d=(b=b.types)&&b.length?b.length:0,e=a.wa,f=!1,g,k;for(k=0;k<d;k++)if(g=b[k],g!=e.JP&&g!=e.KP){f=!0;break}return f};a.wa.prototype.xC=function(b){var d=a.wa;b&&b.removeClass(d.$r).removeClass(d.bQ).removeClass(d.w2)};a.wa.prototype.Tba=function(){var a={};this.Id=a;a.reorder=
!1;a.SN=!1;a.ti=!1;a.hF=!1;a.fG=null;a.cx=null;a.lY=null;a.hY=null;a.fY=null;a.iY=null;a.kY=null;a.jY=null;a.gY=null;a.dj=!1;a.Fn=!1;a.gF=null;a.nM=null;a.WMa=null;a.pM=null;a.rM=null;a.qM=null;a.XMa=null;a.oM=null;a.after=!1;a.xA=!1;a.before=!1;a.off=!1;a.QN=!1;a.Cr=!1;a.fGa=!1;a.GGa=!1;a.ch=!1;a.gia=100;a.Nja=100;a.UJa=500;a.Cf={};a.Cf.lc=!1;a.Cf.Oa=!1;a.Cf.Dp=!1;a.Cf.ym=!1};a.wa.prototype.Uda=function(a){this.R.Uda(a)};a.wa.aQ="oj-draggable";a.wa.rH="oj-drag";a.wa.w2="oj-active-drop";a.wa.$r="oj-valid-drop";
a.wa.bQ="oj-invalid-drop";a.wa.VLa="oj-drop";a.wa.TLa="oj-tree-drop-marker";a.wa.nna="oj-tree-drop-marker-line";a.wa.ima="reorder";a.wa.$la="drag";a.wa.dma="drop";a.wa.D1="node";a.wa.C1="dataTypes";a.wa.cma="dragStart";a.wa.ama="drag";a.wa.bma="dragEnd";a.wa.ema="dragEnter";a.wa.gma="dragOver";a.wa.fma="dragLeave";a.wa.hma="drop";a.wa.JP="_ojtree";a.wa.KP="_ojtreereorder";(function(){function c(a){q.push(a);g(a.uca).keydown(d)}function d(b){var c="";a.C.or(b)?c+="ctrl+":b.shiftKey&&(c+="shift+");
var d=b.which;switch(d){case 32:c+="space";break;case 37:c+="left";break;case 38:c+="up";break;case 39:c+="right";break;case 40:c+="down";break;case 46:c+="del";break;case 33:c+="pgup";break;case 34:c+="pgdn";break;case 35:c+="end";break;case 36:c+="home";break;case 56:c="*";break;case 113:case 121:c+="f"+(1-(112-d))}if(0===c.length||"shift+"==c||"ctrl+"==c)return!0;var e=null;g.each(q,function(a,d){if(d.JE.i.ui.gm)return d.JE.i.ui.px=!1,"shift+f10"==c?d.JE.i.menu.TL=d.JE.i.ui.Bc:d.y9[c]&&(b.preventDefault(),
e=d.y9[c].call(d.JE,b)),!1});if(null!=e)return e}function e(a){g.each(q,function(b){if(q[b].uca===a)return g(a).off("keydown"),q[b]=null,q.splice(b,1),!1})}function f(a){var b=!0,c;for(c in a)if(a.hasOwnProperty(c)){b=!1;break}return b}function h(a){var b=!1,c=!0;a.fO&&(a.title&&(b=g("style[id\x3d'"+a.title+"-stylesheet']")[0]),b?c=!1:(b=document.createElement("style"),b.setAttribute("type","text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?c?(document.getElementsByTagName("head")[0].appendChild(b),
b.styleSheet.cssText=a.fO):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.fO:(b.appendChild(document.createTextNode(a.fO)),document.getElementsByTagName("head")[0].appendChild(b)))}var k={cut:"ojtreecut",copy:"ojtreecopy",paste:"ojtreepaste","paste-after":"ojtreepasteafter","paste-before":"ojtreepastebefore",remove:"ojtreeremove",rename:"ojtreerename"},l={cut:"labelCut",copy:"labelCopy",paste:"labelPaste","paste-after":"labelPasteAfter","paste-before":"labelPasteBefore",remove:"labelRemove",rename:"labelRename"},
m="id title class role draggable style".split(" "),r,t,s;g(function(){/msie/.test(navigator.userAgent.toLowerCase())?(t=g('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),s=g('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),r=t.width()-s.width(),t.add(s).remove()):(t=g("\x3cdiv /\x3e").css({width:100,height:100,overflow:"auto",
position:"absolute",top:-1E3,left:0}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200}),r=100-t.width(),t.parent().remove())});var q=[],p=-1;a.Pa("oj.ojTree",g.oj.baseComponent,{widgetEventPrefix:"oj",defaultElement:"\x3cdiv\x3e",options:{dnd:{reorder:"disable"},expandParents:!1,initExpanded:null,WIa:[],selection:[],selectionMode:"single",selectedParentCollapse:!1,selectedParentExpand:!0,selectPrevOnDelete:!1,data:null,emptyText:null,icons:!0,types:null,before:null,
collapse:null,create:null,collapseAll:null,cut:null,dehover:null,remove:null,destroy:null,expand:null,expandAll:null,hover:null,loaded:null,move:null,optionChange:null,paste:null,refresh:null,rename:null},collapse:function(a,c){var d=(c=c||!1)?0:this.WQ;a=this.La(a);if(!a.length||-1===a||!a.hasClass(b.Il)||this.i.la.locked||a.hasClass(b.Ye))return!1;var e=this.qc({obj:a,func:"collapse"},"before");if("boolean"!=typeof e||e)a.removeClass(b.Il).addClass(b.Sh).attr("aria-expanded","false"),g(a.children()[0]).removeClass(b.Xm).addClass("oj-default"),
!c&&d?this.dp(a,!0):this.YW(g(a.children("UL")[0]),a)},dp:function(a,b){var c,d,e;c=g(a.children("ul"));this.H$?c[0].addEventListener("webkitTransitionEnd",this.PK):c[0].addEventListener("transitionend",this.PK);b?(d=c[0].offsetHeight,e=0):(d=0,e=this.mua(c[0]));c.css("max-height",d+"px");c.css("overflow","hidden");b||(c[0].style.display="block");setTimeout(function(){c.addClass("oj-tree-transition");c.css("max-height",e+"px")},20)},mua:function(a){var b,c,d,e,f=g("\x3cdiv style\x3d'position: absolute'\x3e");
b=a.parentNode;c=a.nextSibling;b.removeChild(a);e=a.style.display;a.style.display="block";f.append(a);this.Ta[0].appendChild(f[0]);d=a.offsetHeight||a.scrollHeight;a.style.display=e;this.Ta[0].removeChild(f[0]);f[0].removeChild(a);c?b.insertBefore(a,c):b.appendChild(a);return d+10},Qz:function(a){a=g(a.target);var b=a.closest("li");this.H$?a[0].removeEventListener("webkitTransitionEnd",this.PK):a[0].removeEventListener("transitionend",this.PK);a.removeClass("oj-tree-transition");this.YW(a,b)},YW:function(a,
c){c.hasClass(b.Sh)?(a[0].style.display="none",a.css("max-height",""),this.qc({obj:c},"collapse"),this.after_close(c)):(a[0].style.display="block",a.css("max-height",""),this.qc({obj:c},"expand"))},collapseAll:function(a,c){var d=a?a:-1,e=this;if(!this.i.la.locked&&((a=a?this.La(a):this.Ta)&&-1!==d&&(d=a),a&&-1!==d||(a=this.ra),!a.hasClass(b.Ye))){var f;-1!==d&&this.isExpanded(a)&&(f=a[0]);var g=a.find("li.oj-expanded");g.length&&g.each(function(){e.collapse(this,!c)});f&&(this.collapse(f,!c),g.splice(0,
0,f));g.length&&this.qc({obj:g,targ:d},"collapseAll")}},expand:function(a,b){this.cg(a,!1,b)},expanded:function(a,b){var c,d,e=this;if(a&&"array"===g.type(a)){if(this.i.la.locked)return null;d=a.length;g.each(a,function(a,c){e.cg(c,!1,b)});return null}a=this.ra.find("li.oj-expanded");d=a.length;c=[];for(var f=0;f<d;f++)c.push(a[f]);return g(c)},expandAll:function(a,b){this.BS(a,b)},toggleExpand:function(a,c){if((a=this.La(a))&&a.length&&-1!==a&&!a.hasClass(b.Ye)&&!this.i.la.locked){if(a.hasClass(b.Sh))return this.expand(a,
c);if(a.hasClass(b.Il))return this.collapse(a,c)}},deselect:function(a){var b=this.options.selection.slice(0);this.mv(a);this.TC("selection",b,null,null)},deselectAll:function(a){if(!this.i.la.locked){var b=this.options.selection.slice(0);this.zI(a);this.TC("selection",b,null,null)}},select:function(a){this.yn(a,!0)},toggleSelect:function(a){a=this.La(a);if(!a.length||a.hasClass(b.Ye)||this.i.la.locked)return!1;this.Vk(a)?this.deselect(a):this.yn(a,!0);return!0},isCollapsed:function(a){return(a=this.La(a))&&
-1!==a&&a.hasClass(b.Sh)},isExpanded:function(a){return(a=this.La(a))&&-1!==a&&a.hasClass(b.Il)},isLeaf:function(a){return this.TU(a)},isSelected:function(a){return this.Vk(a)},create:function(a,b,c){var d,e,f;e=g.isArray(c);if(!e||1==c.length)return d=this.FC(a,b,e?c[0]:c),this.Gs().GI(d),d;e=[];if("before"!=b)for(f=c.length-1;0<=f;f--)d=this.FC(a,b,c[f]),e.unshift(d[0]),this.Gs().GI(d);else for(f=0;f<c.length;f++)d=this.FC(a,b,c[f]),e.push(d[0]),this.Gs().GI(d);return g(e)},remove:function(a){a=
this.La(a);if(!a.length||a.hasClass(b.Ye)||this.i.la.locked)return!1;var c=this.qc({obj:a,func:"remove"},"before");if("boolean"==typeof c&&!c)return!1;this.cv();var c=this.ln(a),d=g([]),e=this,f=this.Aq(a);a.each(function(){d=d.add(e.Aq(this))});a=a.detach();-1!==c&&0===c.find("\x3e ul \x3e li").length&&c.removeClass("oj-expanded oj-collapsed").addClass("oj-tree-leaf").removeAttr("aria-expanded");this.Mj(c);this.qc({obj:a,prev:f,parent:c},"remove");return a},getText:function(a){a=this.La(a);if(!a.length)return!1;
a=a.children("a:eq(0)");a=a.find("span:eq(0)");return a[0].textContent},rename:function(a,b){this.Mba(a,b)},hover:function(a){this.Wxa(a)},dehover:function(){this.V5()},getPath:function(a,b){var c=[],d=this;a=this.La(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".oj-tree","li").each(function(){c.push(b?this.id:d.getText(this))});c.reverse();c.push(b?a.attr("id"):this.getText(a));return c},getRoot:function(){return this.Ta.children("ul:eq(0)")},refresh:function(a){this._super();this.i.la.locked||
this.Of(a?a:-1)},move:function(a,b,c,d){this.TD(a,b,c,d)},getType:function(a){return this.OT(a)},setType:function(a,b){return this.HDa(a,b)},getNodeBySubId:function(a){return a?this.ZAa(a):this.element?this.element[0]:null},getSubIdByNode:function(a){return this.rva(a)},getContextByNode:function(a){var b,c;a=this.La(null==a||void 0==a?0:a);b=-1!=a&&0<a.length;c=-1==a;return b||c?{subId:b?"oj-tree-node":"oj-tree",item:b?a[0]:null,node:b?a:!1,leaf:b?this.TU(a):!1}:null},getParent:function(a){return(a=
this.ln(a))&&0<a.length?a:null},getPrevSibling:function(a){return(a=this.Aq(a,!0))&&0<a.length?a:null},getNextSibling:function(a){return(a=this.zv(a,!0))&&0<a.length?a:null},getChildren:function(a){return(a=(a=this.Tta(a?a:-1))&&a.length?a.not("."+b.ay):a)&&0<a.length?a:null},scrollIntoView:function(a,b,c){a?(a=a.node,a=this.La(a)):a=-1;-1==a&&(a=this.Ta.find("\x3e ul \x3e li:first-child"));if(a&&a.length)return b="top"==b,c&&(this.ra.focus(),this.hover(a)),a[0].scrollIntoView(b),this},_ComponentCreate:function(){this._super();
this.Zxa=this.eAa();this.ov=this.element.attr("id");void 0===this.ov&&(this.ov="oj-tree-"+this.Qj(),this.element.attr("id",this.ov));this.Ta=this.element;this.ra=null;this.i={};this.Hda=null;this.sK="rtl"===this.nd();this.lz=a.C.hf();this.oya();if(this.WQ=this.Jta())this.H$=a.Xa.Gw().browser===a.Xa.tl.dP,this.PK=this.Qz.bind(this);this.bk()},_destroy:function(){this.Gqa();this.i.html.OA&&(this.Ta.append(this.i.html.OA),this.i.html.IN.remove(),this.i.html.IN=!1,this.i.html.mO=!1);this.i.ub.type=0;
this._super()},_setOption:function(a,b,c){var d;if("selection"===a)b="string"==typeof b?[b]:b&&b.length?b:[],this.i.la.ox=!0,this.Axa(b),this.i.la.ox=!1,b=this.BT();else if("selectionMode"===a)"none"===b?d=0:"single"===b?d=1:"multiple"===b?d=-1:(d=0,b="none"),d!=this.i.la.Ir&&(this.i.la.Ir=d);else if("icons"===a)"boolean"==g.type(b)&&b!=this.i.Qc.icons&&((this.i.Qc.icons=b)?this.AW():this.AU());else if("contextMenu"===a)this.hv(),b&&this.Qs(b);else if("disabled"===a)this.dwa(b);else{if("data"===a){this._super(a,
b,c);this.U9();this.V9();this.X9();this.X$();return}if("dnd"===a){this._super(a,b,c);this.Gs().qIa();return}"emptyText"==a&&(b=this.OI(b))}this._super(a,b,c)},MB:function(a,b,c){return"selection"===a?this.g5(b,c):this._superApply(arguments)},g5:function(a,b){var c,d,e,f,h,k=!1,l=!1;f=a&&a.length?a.length:0;h=b&&b.length?b.length:0;if(f!==h)k=!0;else if(0==f&&0===h)k=!1;else for(c=0;c<f;c++){e=g(a[c]).attr("id");l=!1;for(d=0;d<h;d++)if(e==g(b[d]).attr("id")){l=!0;break}if(!l){k=!0;break}}return!k},
Gqa:function(){this.$B&&(this.$B.Oqa(),this.$B=null);var a=this.Qj();this.Ta.unbind(".oj-tree").undelegate(".oj-tree").removeData("oj-tree-instance-id").find("[class^\x3d'oj-tree']").addBack().attr("class",function(){return this.className.replace(/oj-tree[^ ]*|$/ig,"")});var b=this.Ta.attr("class"),b=b.trim();0===b.length&&this.Ta.removeAttr("class");e(this.ra);g(document).unbind(".oj-tree-"+a).undelegate(".oj-tree-"+a);this.ra.remove();this.ra=null},La:function(a,b){if("undefined"===typeof a||null===
a)return b?this.i.ui.selected:this.i.ui.Pc;var c=g(a,this.Ta);if(c.is(".oj-tree")||-1===a)return-1;c=c.closest("li",this.Ta);return c.length?c:!1},Aq:function(a,c){a=this.La(a);if(-1===a)return this.Ta.find("\x3e ul \x3e li:last-child");if(!a.length)return!1;if(c)return 0<a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass(b.Il);)a=a.children("ul:eq(0)").children("li:last");return a}var d=a.parentsUntil(".oj-tree","li:eq(0)");return d.length?
d:!1},zv:function(a,c){a=this.La(a);return-1===a?this.Ta.find("\x3e ul \x3e li:first-child"):a.length?c?0<a.nextAll("li").length?a.nextAll("li:eq(0)"):!1:a.hasClass(b.Il)?a.find("li:eq(0)"):0<a.nextAll("li").length?a.nextAll("li:eq(0)"):a.parentsUntil(".oj-tree","li").next("li").eq(0):!1},ln:function(a){a=this.La(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".oj-tree","li:eq(0)");return a.length?a:-1},Tta:function(a){a=this.La(a);return-1===a?this.Ta.children("ul:eq(0)").children("li"):a.length?
a.children("ul:eq(0)").children("li"):!1},TU:function(a){return(a=this.La(a))&&-1!==a&&a.hasClass("oj-tree-leaf")},Sua:function(a){a=this.ra.find(a);var b=!1;a&&a.length&&0<a.length&&g(a).is("li")&&(b=a);return b},Vk:function(a){a=this.La(a);var b=!1;a&&a.length&&this.i.ui.selected&&(b=0<=this.i.ui.selected.index(a));return b},lBa:function(b,c){var d=b.parents("div").eq(0);(d=a.Components.De(d))&&c&&d("getCI",c);return this},getCI:function(a){a.Np=this},zpa:function(a,b){void 0!=a&&void 0!=b&&g.each(b,
function(b,c){void 0==a[b]&&(a[b]=c)})},dwa:function(a){var c;"undefined"!==typeof a&&((c=this.ra.hasClass(b.Ye))||(c=!1),c!=a&&(a?(this.ra.addClass(b.Ye),this.ra.prop("disabled",!0)):(this.ra.removeClass(b.Ye),this.ra.prop("disabled",!1)),this.JEa(a)))},JEa:function(a){a?(this.i.la.locked=!0,this.i.ui.opacity=this.Ta.children("ul").css("opacity"),this.ra.addClass(b.Ye).css("opacity","0.9")):(this.i.la.locked=!1,this.ra.removeClass(b.Ye).css("opacity",this.i.ui.opacity))},EMa:function(){return this.i.la.locked},
Axa:function(a){var b=a.slice(0),c=[],d=this,e,f,h,k;g.grep(b,function(a,f){if(e=d.Sua(a))c.push(e),b[f]=e[0];else return!1;return!0});a=this.BT();g.each(a,function(a,b){k=c.length;f=g(b).attr("id");h=!1;for(a=0;a<k;a++)if(f==c[a].attr("id")){h=!0;break}h||d.mv(b)});this.CDa(c,null)},dE:function(a,b,c,d,e){var f={};b=-1!==b&&b?this.La(b):-1;this.lBa(a,f);f.iu=this;f.lc=f.Np.La(a);f.Oa=b;f.Vn="undefined"===typeof c||!1===c?"last":c;if(!e&&this.i.la.vj.lc&&this.i.la.vj.lc[0]===f.lc[0]&&this.i.la.vj.Oa[0]===
f.Oa[0]&&this.i.la.vj.Vn===f.Vn)d&&d.call(this,this.i.la.vj);else{if(-1!==f.Oa&&f.Oa){if(!/^(before|after)$/.test(f.Vn)&&!this.Fq(f.Oa))return this.Gq(f.Oa,function(){this.dE(a,b,c,d,!0)});switch(f.Vn){case "before":f.Dn=f.Oa.index();f.Dw=f.iu.ln(f.Oa);break;case "after":f.Dn=f.Oa.index()+1;f.Dw=f.iu.ln(f.Oa);break;case "inside":case "first":f.Dn=0;f.Dw=f.Oa;break;case "last":f.Dn=f.Oa.find(" \x3e ul \x3e li").length;f.Dw=f.Oa;break;default:f.Dn=f.Vn,f.Dw=f.Oa}}else switch(f.Dw=-1,f.Vn){case "first":case "before":case "inside":f.Dn=
0;break;case "after":case "last":f.Dn=f.iu.Ta.find(" \x3e ul \x3e li").length;break;default:f.Dn=f.Vn}f.yr=-1==f.Dw?f.iu.Ta:f.Dw;f.Br=f.Np.ln(f.lc);f.RMa=f.lc.index();-1===f.Br&&(f.Br=f.Np?f.Np.Ta:this.Ta);!/^(before|after)$/.test(f.Vn)&&f.Br&&f.yr&&f.Br[0]===f.yr[0]&&f.lc.index()<f.Dn&&f.Dn++;f.PZ=f.yr.find(" \x3e ul \x3e li:nth-child("+(f.Dn+1)+")");this.i.la.vj=f;d&&d.call(this,this.i.la.vj,"prepare_move")}},lI:function(){var a=this.i.la.vj,b=!0,c;c=-1===a.Oa?this.Ta:a.Oa;if(!a||!a.lc||a.PZ[0]===
a.lc[0]||!a.Oa)return!1;if(!a.kM){if(a.Br&&a.yr&&a.Br[0]===a.yr[0]&&a.Dn-1===a.lc.index())return!1;a.lc.each(function(){if(-1!==c.parentsUntil(".oj-tree","li").addBack().index(this))return b=!1})}return b},Mba:function(a,b){var c;a=this.La(a);this.cv();c=this.getText(a);if(a&&a.length){var d=this.qc({obj:a,func:"rename",title:b,prevTitle:c},"before");if("boolean"==typeof d&&!d)return}a&&a.length&&this.vW.apply(this,Array.prototype.slice.call(arguments))&&this.qc({obj:a,title:b,prevTitle:c},"rename")},
TD:function(a,c,d,e,f,h){f||(a=this.La(a));if(!(a.hasClass&&a.hasClass(b.Ye)||this.i.la.locked)){if(!f)return this.dE(a,c,d,function(a){a.Np===a.iu||a.kM||a.Np.deselect(a.lc);this.TD(a,!1,!1,e,!0,h)});e&&(this.i.la.vj.kM=!0);if(!h&&!this.lI())return!1;this.cv();c=!1;e?(c=a.lc.clone(!0),c.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+this.id)})):c=a.lc;a.PZ.length?a.PZ.before(c):(a.yr.children("ul").length||g("\x3cul /\x3e").appendTo(a.yr),a.yr.children("ul:eq(0)").append(c));try{a.Np.Mj(a.Br),
a.iu.Mj(a.yr),a.Br.find("\x3e ul \x3e li").length||a.Br.removeClass("oj-expanded oj-collapsed").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove()}catch(k){}e&&(this.i.la.vj.kM=!0,this.i.la.vj.OZ=c);c=g.extend(!0,{},this.i.la.vj);c.obj=a.lc;this.qc(c,"move");return this.i.la.vj}},nMa:function(){return this.i.Oe.vj},OT:function(a){var b=null;this.options.types&&(b=this.La(a));return b&&b.length?b.attr(this.options.types.attr)||"default":!1},HDa:function(a,b){var c=this.options.types,
d,e=!1;a=this.La(a);c&&a&&-1!=a&&a.length&&b&&(d=c.attr,c=c.types,d&&c&&c[b]&&(a.attr(d,b),a.addClass("oj-tree-type"),e=!0));return e},pqa:function(a,b){b=this.La(b);var c=!1,d=this.OT(b),e=this.Av().types,f=!1;if(-1===b)if(e[a])c=e[a];else return;else{if(!1===d)return;(f=this.i.types.Zc.useData?b.data("oj-tree"):!1)&&f.types&&"undefined"!==typeof f.types[a]?c=f.types[a]:e.types[d]&&"undefined"!==typeof e.types[d][a]?c=e.types[d][a]:e.types["default"]&&"undefined"!==typeof e.types["default"][a]&&
(c=e.types["default"][a])}g.isFunction(c)&&(c=c.call(this,b));return c},Mj:function(c){var d,e,f,h=this.Gs(),k=a.wa;h.rha()&&(d=k.aQ,e="draggable",f=!0);h.gJa()&&(d+=" "+k.$r);c=c&&-1!=c?g(c):this.ra;c=c.is("li")?c.find("li").addBack():c.find("li");c.removeClass("oj-tree-last").addClass("oj-tree-node").addClass(d).attr(e,f).filter("li:last-child").addClass("oj-tree-last").end().filter(":has(li)").not(".oj-expanded").removeClass("oj-tree-leaf").addClass(b.Sh).attr("aria-expanded","false");c.not(".oj-expanded, .oj-collapsed").addClass("oj-tree-leaf").children("ul").remove();
var l=this.options.types?this.options.types.attr:!1;c.find("li");var m,p;g.each(c,function(){p=g(this);m=p.find("\x3e ins");1<m.length&&(m=g(m[0]));p.hasClass("oj-tree-leaf")?(m.removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),m.addClass("oj-tree-icon")):(m.addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),m.removeClass("oj-tree-node-icon"));l&&p.attr(l)&&p.addClass("oj-tree-type")})},
FC:function(a,c,d,e,f){a=a||-1;a=this.La(a);if(-1!==a&&!a.length)return null;var h;c="undefined"===typeof c?"last":c;if(!f&&!this.Fq(a))return this.Gq(a,function(){this.FC(a,c,d,e,!0)}),null;this.cv();d=this.Jq(d);if(!d)return null;d=d.children();f=g(d[0]);-1===a&&(a=this.Ta,"before"===c&&(c="first"),"after"===c&&(c="last"));switch(c){case "before":a.before(f);h=this.ln(a);break;case "after":a.after(f);h=this.ln(a);break;case "inside":case "first":a.children("ul").length||a.append("\x3cul /\x3e");
a.children("ul").prepend(f);h=a;break;case "last":a.children("ul").length||a.append("\x3cul /\x3e");a.children("ul").append(f);h=a;break;default:a.children("ul").length||a.append("\x3cul /\x3e"),c||(c=0),h=a.children("ul").children("li").eq(c),h.length?h.before(f):a.children("ul").append(f),h=a}if(-1===h||h.get(0)===this.Ta.get(0))h=-1;this.Mj(h);this.qc({obj:f,parent:h},"create");e&&e.call(this,f);1<this.ra[0].childNodes.length&&this.ra.find("."+b.ay).remove();return f},cg:function(a,c,d){a=this.La(a);
if(!a||!a.length)return!1;d=d||!1;if(!a.hasClass(b.Ye)&&!this.i.la.locked){if(!a.hasClass(b.Sh))return c&&c.call(),!1;var e=this.qc({obj:a,func:"expand"},"before");if("boolean"!=typeof e||e){var e=d?0:this.WQ,f=this;this.Fq(a)?(this.options.expandParents&&a.parentsUntil(".oj-tree",".oj-collapsed").each(function(){f.cg(this,!1,!0)}),a.removeClass(b.Sh).addClass(b.Il).attr("aria-expanded","true").children("a").removeClass("oj-tree-loading"),g(a.children()[0]).removeClass(b.Xm).addClass("oj-default"),
!d&&e?this.dp(a,!1):this.YW(g(a.children("UL")[0]),a),c&&c.call()):(a.children("a").addClass("oj-tree-loading"),this.Gq(a,function(){f.cg(a,c,d)},c))}}},BS:function(a,b,c){var d=a?a:-1;(a=a?this.La(a):-1)&&-1!==a?d=a:a=this.ra;c?a=a.find("li.oj-collapsed"):(c=a,a=a.is(".oj-collapsed")?a.find("li.oj-collapsed").addBack():a.find("li.oj-collapsed"));var e=this;a.each(function(){var a=this;e.Fq(this)?e.cg(this,!1,!b):e.expand(this,function(){e.BS(a,b,c)},!b)});0===c.find("li.oj-collapsed").length&&this.qc({obj:a,
targ:d},"expandAll")},yn:function(c,d,e){var f=this.i.la,g=this.i.ui,h=f.Ir;if(0==h)return!1;c=this.La(c);if(-1==c||!c||!c.length||c.hasClass(b.Ye)||f.locked)return!1;e&&"touchend"==e.type||(g.px=!1);var k=this.Vk(c);if(!k){var l=this.qc({obj:c,func:"select"},"before");if("boolean"==typeof l&&!l)return!1}var l=this.options.selection.slice(0),m=this.options,p=g.Zc.selectMultipleModifier,q=g.Zc.selectRangeModifier,r=g.Zc.disableSelectingChildren,p="on"==p||!1!==p&&e&&a.C.or(e),q=!1!==q&&e&&e[q+"Key"]&&
g.Pc&&this.i.ui.Pc[0]!==c[0]&&g.Pc.parent()[0]===c.parent()[0],s=!0,t=this;if(d){if(r&&p&&(c.parentsUntil(".oj-tree","li").children("a.oj-selected").length||c.children("ul").find("a.oj-selected:eq(0)").length))return!1;s=!1;switch(!0){case q:g.Pc.addClass("oj-tree-last-selected");c=c[c.index()<g.Pc.index()?"nextUntil":"prevUntil"](".oj-tree-last-selected").addBack();-1==h||c.length<h?(g.Pc.removeClass("oj-tree-last-selected"),g.selected.each(function(){this!==g.Pc[0]&&t.mv(this)}),k=!1,s=!0):s=!1;
break;case g.px&&-1==h:g.px=!1;this.toggleSelect(c);s=!1;break;case k&&!p:if(!e)break;this.zI();g.q_||(k=!1);s=!0;break;case !k&&!p:e?g.selected&&1==g.selected.length?this.mv(g.selected):this.zI(g.selected):1===h?this.mv(g.selected):1<h&&this.zI();s=!0;break;case k&&p:this.deselect(c);break;case !k&&p:if(-1==h||g.selected.length+1<=h)s=!0}}d=!1;s&&!k&&(q||(g.Pc=c),c.children("a").addClass(b.Xm),c.attr("aria-selected","true"),d=!0,m.selectedParentExpand&&c.parents(".oj-collapsed").each(function(){t.cg(this,
!1,!0)}),g.selected=g.selected.add(c),this.R6(c.eq(0)),f.ox||this.TC("selection",l,null,e));return d},mv:function(a){a=this.La(a);if(!a.length)return!1;a.hasClass(b.Ye)||this.i.la.locked||!this.Vk(a)||(a.children("a").removeClass(b.Xm),a.removeAttr("aria-selected"),this.i.ui.selected=this.i.ui.selected.not(a),this.i.ui.Pc&&this.i.ui.Pc.length&&this.i.ui.Pc.get(0)===a.get(0)&&(this.i.ui.Pc=this.i.ui.selected.eq(0)))},zI:function(a){if(!this.i.la.locked&&(a=a?g(a).find("a.oj-selected").parent():this.Ta.find("a.oj-selected").parent(),
a.not(".oj-disabled"),0!==a.length)){var b=this;g.each(a,function(){b.mv(this)})}},CDa:function(a,b){if(this.i.la.locked)return null;if(a&&0<a.length){var c=this;g.each(a,function(a,d){d&&c.yn(d,!0,b)})}},q9:function(a){a.preventDefault();a.currentTarget.blur();if(!g(a.currentTarget).hasClass("oj-tree-loading")){this.$j();if(!this.i.ui.gm){var b=this.La(a.currentTarget);0<b.length&&-1!=b&&(this.i.ui.mk=b);this.ra.focus()}this.yn(a.currentTarget,!0,a)}this.i.ui.px=!1},h6:function(a,c){a=g(a);if(!a.hasClass(b.Ye)&&
!this.i.la.locked){var d=a.parent(),e=d.hasClass(b.Sh);if(d.hasClass(b.Il)||e)c?(a.addClass(b.Tu),a.removeClass("oj-default"),a.removeClass(b.Xm)):(a.removeClass(b.Tu),a.addClass("oj-default"))}},Wxa:function(a){if(!this.i.menu.TL&&(a=this.La(a),a.length&&!a.hasClass(b.Ye)&&!this.i.la.locked&&!a.hasClass(b.Tu))){var c=this.qc({obj:a,func:"hover"},"before");if("boolean"!=typeof c||c)a.hasClass(b.Tu)||this.V5(),this.i.ui.Bc=a.children("a").addClass(b.Tu).parent(),this.ra.attr("aria-activedescendant",
this.i.ui.Bc.attr("id")),this.R6(a),this.qc({obj:a},"hover")}},V5:function(){if(!this.i.menu.TL){var a=this.i.ui.Bc,c;if(a&&a.length&&!a.hasClass(b.Ye)&&!this.i.la.locked){c=a.find("a.oj-hover");if(!c.length&&(c=this.ra.find("a.oj-hover"),!c.length))return;c.removeClass(b.Tu).parent();this.ra.removeAttr("aria-activedescendant");this.i.ui.Bc=null;void 0!=a.attr("id")&&this.qc({obj:a},"dehover")}}},Of:function(a){this.wba(a)},wba:function(a){var b=a?a:-1,c=this;this.GCa();a||(a=-1);(a=this.La(a))?b=
a:a=-1;-1!==a?a.children("UL").remove():(this.ra.empty(),this.Uaa());this.Gq(a,function(){c.qc({obj:b},"refresh");c.WK();c.CBa()})},QV:function(a){this.saveSelected();this.wba(a)},after_close:function(a){this.qc({obj:a},"after_close",!0)},jCa:function(){var a=this;this.i.la.wj.length&&g.each(this.i.la.wj,function(b,c){a.cg(c,!1,!0)});this.qc({},"reopen",!0)},CBa:function(){var a,b=this.i.ui.mk;b&&(a=b.attr("id"))&&(b=this.La("#"+a));this.i.ui.Bc=this.i.ui.mk=b},BT:function(a){var b,c,d;a=a?g(a).find("a.oj-selected").parent():
this.i.ui.selected;b=[];d=a.length;for(c=0;c<d;c++)b.push(a[c]);return b},vW:function(a,b){a=this.La(a);if(!a.length)return!1;a=a.children("a:eq(0)");a=a.find("span:eq(0)");this.qc({obj:a,name:b},"set_text",!0);return a[0].textContent=b},X$:function(){0!==this.i.ub.type&&-1!==this.i.ub.type?this.Gq(-1,function(){this.Z$();this.WK()}):(this.Apa(),this.Z$())},Gq:function(a){this.qc({obj:a},"load_node",!0)},Fq:function(){return!0},yza:function(a,b,c){var d=this;this.Bza(a,function(){d.qc({obj:d.La(a)},
"load_node",!0);b.call(this)},c)},gza:function(a){a=this.La(a);return-1===a||!a||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},uBa:function(a){(a=this.La(a))&&-1!==a&&a.removeData("oj-tree-children");return this.QV(a)},Aza:function(a,b,c){var d=this;this.xza(a,function(){d.qc({obj:d.La(a)},"load_node",!0);b.call(this)},c)},iza:function(a){var b=this.options.data;a=this.La(a);return-1==a||!a||!b.ajax&&!this.i.ub.WZ&&!g.isFunction(b.data)||a.is(".oj-expanded, .oj-tree-leaf")||
0<a.children("ul").children("li").length},zza:function(a,b,c){var d=this;this.wza(a,function(){d.qc({obj:d.La(a)},"load_node",!0);b.call(this)},c)},hza:function(a){var b=this.options.data,c=null,d=null;b&&(c=b.data||null,d=b.ajax||null);a=this.La(a);return-1==a||!a||!d&&!g.isFunction(c)||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},reselect:function(){var a=this,b=this.i.ui.sG,b=g.map(g.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,
"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});g.each(b,function(b,c){c&&"#"!==c&&a.select(c)});this.i.ui.selected=this.i.ui.selected.filter(function(){return this.parentNode});this.qc(null,"reselect",!0)},saveSelected:function(){var a=this.i.ui;a.sG=[];a.selected.each(function(){this.id&&a.sG.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.qc(a.sG,
"savedselected",!0)},rollback:function(a){a&&g.isArray(a)},get_rollback:function(){this.qc(null,"get_rollback",!0);return{fNa:this.Qj(),lk:this.Ta.children("ul").clone(!0),SMa:this.data}},Bza:function(a,b){var c=this.Y1(a&&-1!=a?a[0].id:a?a:-1,a);if(c.success){var d=!a||-1===a,e=this.options.data;if(e.data&&!e.ajax||e.data&&e.ajax&&d)d&&((c=this.Jq(c.fN,a))?(this.ra.empty().append(c.children()),this.Mj()):this.i.ub.cj&&this.ra.empty()),b&&b.call(this);else if(!e.data&&e.ajax||e.data&&e.ajax&&!d)(c=
this.Jq(c.fN,a))?(d?(d=this.ra,d.empty().append(c.children()),d.attr("role","tree").attr("aria-labelledby",this.ov).attr("tabindex","0").css("outline","none"),-1===this.i.la.Ir&&d.attr("aria-multiselectable",!0)):(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")),this.Mj(a),b&&b.call(this)):d?this.i.ub.cj&&(this.ra.empty(),b&&b.call(this)):(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),e.correct_state&&
(this.kv(a),b&&b.call(this)))}},Y1:function(a,b){var c=[],d=this.Hda,e,f={},g={success:!1,fN:null};-1==a&&(a=null,f.start=0);e=d.yh(a);0<e?(f.count=e,d.si(a,f,{success:function(a){for(var e=a.getCount(),f,h=0;h<e;h++){b={};(f=a.getData(h))&&(b.attr=f);b.title=a.Bi[h].title;f.iNa&&(b.metadata=a.Bi[h].metadata);var k=b.attr.id;f=d.yh(k);0<f&&(f=this.Y1(k,b),b.children=f.fN);c.push(b)}g.success=!0;g.fN=c}.bind(this),error:function(){g.success=!1}})):g.success=!0;return g},vBa:function(a){a=this.La(a);
if(!this.i.la.locked){var c=!a||-1!==a||!a.length;if(c||!a.hasClass(b.Ye)){var d=this.options.data.json;!c&&this.i.ub.WA&&(g.isFunction(d.data)||d.ajax)&&a.removeData("oj-tree-children");return this.QV(a)}}},xza:function(a,b,c){function d(){}function e(){}var f=this.Av().data,h=f&&f.data||null,k=f&&f.ajax||null;!f||h||k||(h=f);if((a=this.La(a))&&-1!==a&&(this.i.ub.WZ||this.i.ub.WA)&&!a.is(".oj-expanded, .oj-tree-leaf")&&0===a.children("ul").children("li").length&&a.data("oj-tree-children")){if(f=
this.Jq(a.data("oj-tree-children"),a))a.append(f),this.i.ub.WA||a.removeData("oj-tree-children");this.Mj(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k:throw"ojTree - neither data nor ajax settings supplied.";case g.isFunction(h):h.call(this,a,function(d){(d=this.Jq(d,a))?(-1!==a&&a?(a.append(d).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")):this.ra.empty().append(d.children()),
this.Mj(a),b&&b.call(this)):(-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.ub.cj&&this.kv(a)):this.i.ub.cj&&this.ra.empty(),c&&c.call(this))}.bind(this));break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||((f=this.Jq(h,a))?(this.ra.empty().append(f.children()),this.Mj()):this.i.ub.cj&&this.ra.empty());b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:e=function(b,d,e){var f=this.Av().data.ajax.error;f&&f.call(this,d,e,b);
-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.i.ub.cj&&this.kv(a)):("error"==d||"success"===d&&this.i.ub.cj)&&this.ra.empty();c&&c.call(this)},d=function(c,d,f){var g=this.Av().data.ajax.success;g&&(c=g.call(this,c,d,f)||c);if("string"==typeof c){d=c.replace(/^[\s\n]+$/,"");try{d=JSON.parse(d)}catch(h){d=null}if(!d)return e.call(this,f,"Bad JSON","")}(c=this.Jq(c,a))?(-1!==a&&a?(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),
a.removeData("oj-tree-is-loading")):(f=this.ra,f.empty().append(c.children()),f.attr("role","tree").attr("aria-labelledby",this.ov).attr("tabindex","0").css("outline","none"),-1===this.i.la.Ir&&f.attr("aria-multiselectable",!0)),this.Mj(a),b&&b.call(this)):-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.ub.cj&&(this.kv(a),b&&b.call(this))):this.i.ub.cj&&(this.ra.empty(),b&&b.call(this))},f.ajax.context=this,f.ajax.error=e,f.ajax.success=
d,f.dataType||(f.ajax.dataType="json"),g.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,a)),g.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,a)),g.ajax(f.ajax)}}},Jq:function(a,c,d){var e=!1,f,h,k,l;if(!a)return e;this.i.ub.WA&&c&&-1!==c&&c.data("oj-tree-children",e);if("string"==typeof a)try{a=JSON.parse(a)}catch(m){a=[]}if(g.isArray(a)){e=g("\x3cul\x3e");if(!a.length)return!1;h=0;for(k=a.length;h<k;h++)f=this.Jq(a[h],c,!0),f.length&&(e=e.append(f));e=e.children()}else{"string"==
typeof a&&(a={data:a});l="string"==typeof a.title?a.title:" ";e=g("\x3cli role\x3d'treeitem' /\x3e");a.attr&&(this.i.types.dA&&!a.attr.type&&(a.attr.type="oj-tree-deftype",e.addClass("oj-tree-type")),e.attr(a.attr));a.metadata&&e.data(a.metadata);a.children&&0===a.children.length&&e.addClass(b.Sh);a.state&&"s"===a.state&&e.addClass(b.Xm);a.data||(a.data={dummy:0});var p=!1,q;f=g("\x3ca tabindex\x3d'-1' /\x3e");g.each(a.data,function(b,c){g.isFunction(c)&&(c=c.call(this,a));"object"===typeof c&&("attr"==
b?f.attr(c):"style"==b&&f.css(c),"language"==b&&f.addClass(c));p||(q=g("\x3cspan class\x3d'oj-tree-title'\x3e"),q[0].textContent=l,f.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-node-icon oj-component-icon'\x3e\x26#160;\x3c/ins\x3e",q),p=!0);!c.icon&&a.icon&&(c.icon=a.icon);c.icon&&(-1===c.icon.indexOf("/")?f.children("ins").addClass(c.icon):f.children("ins").css("background","url('"+c.icon+"') center center no-repeat"))});e.append(f);e.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default'\x3e\x26#160;\x3c/ins\x3e");
a.children&&(this.i.ub.WZ&&"expanded"!==a.state?e.addClass(b.Sh).attr("aria-expanded","false").data("oj-tree-children",a.children):(this.i.ub.WA&&e.data("oj-tree-children",a.children),g.isArray(a.children)&&a.children.length&&(f=this.Jq(a.children,c,!0),f.length&&(c=g("\x3cul role\x3d'group' /\x3e"),c.append(f),e.append(c)))))}d||(d=g("\x3cul /\x3e"),d.append(e),e=d);return e},v3:function(a,b,c,d){var e=[],h=this.options,k=this,l,m,p,q,r,s,t,L,D;(a=this.La(a))&&-1!==a||(a=this.Ta.find("\x3e ul \x3e li"));
b=g.isArray(b)?b:["id","class"];!d&&h.types&&b.push(h.types.attr);c=g.isArray(c)?c:[];a.each(function(){q=g(this);l={};D=k.mAa(q);if(b.length||D&&D.length)l.attr={};D&&g.each(D,function(a,b){0<q.attr(b).length&&(l.attr[b]=q.attr(b))});g.each(b,function(a,b){(m=q.attr(b))&&m.length&&m.replace(/oj-tree[^ ]*/ig,"").length&&(m=(" "+m).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""),m.length&&(l.attr[b]=m))});k.Gs().rha()&&k.Vk(q)&&(l.state=
"s");p=q.data();f(p)||(l.metadata=p);r=q.children("a");m=null;r.each(function(){s=g(this);c.length||s.children("ins").get(0).style.backgroundImage.length||s.children("ins").get(0).className&&s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").length?(L=k.getText(s),g.each(c,function(a,b){t=(" "+(s.attr(b)||"")).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");t.length&&(m||(m={attr:{}}),m.attr[b]=t)}),s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,
"").replace(/^\s+$/ig,"").length&&(t=s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""),t.length&&(m||(m={}),m.icon=t)),s.children("ins").get(0).style.backgroundImage.length&&(t=s.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""),t.length&&(m||(m={}),m.icon=t))):L=k.getText(s);null!=m&&(l.data||(l.data=[]),1<r.length?l.data.push(m):l.data=m);l.title=L});q=q.find("\x3e ul \x3e li");
q.length&&(l.children=k.v3(q,b,c,!0));e.push(l)});return e},mAa:function(a){var b,c,d;if((a=a[0].attributes)&&a.length){c=[];d=m.length;for(var e=0;e<a.length;e++)if(b=a[e]){b=b.name;for(var f=0;f<d&&m[f]!=b&&0!=b.indexOf("aria-");f++);f>=d&&c.push(b)}}return c&&0<c.length?c:null},kv:function(a){a=this.La(a);if(!a||-1===a)return!1;a.removeClass("oj-collapsed oj-expanded").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove();a.find("ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").addClass("oj-tree-icon");
this.qc({obj:a},"correct_state",!0)},Z$:function(){this.qc(null,"loaded")},wza:function(a,b,c){function d(){}function e(){}var f=this.Av().data,h=f&&f.data||null,k=f&&f.ajax||null;if((a=this.La(a))&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k&&f&&"string"===typeof f:this.W$(f,a,b,c);break;case g.isFunction(h):h.call(this,a,function(d){this.W$(d,a,b,c)}.bind(this));break;case !h&&!k:a&&-1!=a||(this.ra.empty().append(this.i.html.cM).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon' \x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.ra.find("li").children("ins:first-child").addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),this.gK(this.ra),this.i.types.dA&&this.hC(this.ra),this.Mj(),this.ra.find("ul").attr("role",
"group"),this.ra.find("li").attr("role","treeitem"),this.ra.find("a").attr("tabindex",-1));b&&b.call(this);break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||(f=g(h),f.is("ul")||(f=g("\x3cul /\x3e").append(f)),this.ra.empty().append(f.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
this.ra.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.gK(this.ra),this.i.types.dA&&this.hC(this.ra),this.Mj(),this.ra.find("ul").attr("role","group"),this.ra.find("li").attr("role","treeitem"),this.ra.find("a").attr("tabindex","-1"));b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:a=this.La(a),e=function(b,d,e){var f=this.Av().data.ajax.error;
f&&f.call(this,b,d,e);-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.i.ub.cj&&this.kv(a)):"success"===d&&this.i.ub.cj&&this.ra.empty();c&&c.call(this)},d=function(c,d,f){var h=this.Av().data.ajax.success;h&&(c=h.call(this,c,d,f)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return e.call(this,f,d,"");if(c){c=g(c);c.is("ul")||(c=g("\x3cul /\x3e").append(c));-1!=a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
this.MBa(a),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),a.removeData("oj-tree-is-loading"),a.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
c=a):(this.ra.empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.ra.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
c=this.ra);this.Iwa(c);this.gK(c);d=c.children("UL");if(1<=d.length){d=d.first().find("span.oj-tree-title");var k=this;g.each(d,function(){this.textContent=k.OI(this.textContent)})}this.i.types.dA&&c&&this.hC(this.ra);this.Mj(a);b&&b.call(this)}else a&&-1!==a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.ub.cj&&(this.kv(a),b&&b.call(this))):this.i.ub.cj&&(this.ra.empty(),b&&b.call(this)),this.ra.find("ul").attr("role","group"),this.ra.find("li").attr("role",
"treeitem")},f.ajax.context=this,f.ajax.error=e,f.ajax.success=d,f.ajax.dataType||(f.ajax.dataType="html"),g.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,a)),g.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,a)),g.ajax(f.ajax)}},Iwa:function(a){a=a.find(a.is("ul")?"li ul":"ul").filter(function(){return!this.firstChild||0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});g.each(a,function(){g(this).closest("li").addClass(b.Sh)})},MBa:function(a){a=
a.find("ul").filter(function(){return!this.firstChild||0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});0<a.length&&a.remove()},W$:function(a,b,c){if(a&&""!==a&&a.toString&&""!==a.toString().replace(/^[\s\n]+$/,"")){a=g(a);a.is("ul")||(a=g("\x3cul /\x3e").append(a));-1!=b&&b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),b.append(a).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
b.removeData("oj-tree-is-loading"),a=b,this.hC(this.qNa)):(this.ra.empty().append(a.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.ra.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
a=this.ra,this.hC(this.ra));a&&this.gK(a);a=a.children("UL");if(1<=a.length){a=a.first().find("span.oj-tree-title");var d=this;g.each(a,function(){this.textContent=d.OI(this.textContent)})}this.Mj(b);c&&c.call(this)}else b&&-1!==b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),b.removeData("oj-tree-is-loading"),this.i.ub.cj&&(this.kv(b),c&&c.call(this))):this.i.ub.cj&&(this.ra.empty(),c&&c.call(this))},gK:function(a){g.each(a.find("li a"),function(a,b){var c=b.innerHTML,c=c.replace("ins\x3e",
"ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e");b.innerHTML=c+"\x3c/span\x3e"})},hC:function(a){var b,c;this.i.types.dA&&(c=(b=this.options.types)?b.attr:this.i.types.Zc.attr,g.each(a.find("li"),function(a,b){b=g(b);b.attr(c)||b.attr(c,"oj-tree-deftype").addClass("oj-tree-type")}))},GCa:function(){var a=this;this.i.la.wj=[];this.ra.find("li.oj-expanded").each(function(){this.id&&a.i.la.wj.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,
"\\.").replace(/\:/g,"\\:"))})},WK:function(a){var b=this,c=!0,d=[],e=[],f,h;a||(this.i.la.a_=!1,this.i.la.iKa=!0);this.$ya()&&(this.i.la.wj=[],this.ra.find("li.oj-collapsed").each(function(){h="#"+g(this).attr("id");b.isExpanded(h)||b.i.la.wj.push(h)}));this.i.la.wj=g.map(g.makeArray(this.i.la.wj),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.i.la.Pp=g.map(g.makeArray(this.i.la.Pp),
function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.i.la.wj.length&&(this.i.la.Pp=this.i.la.Pp.concat(this.i.la.wj),this.i.la.Pp=this.i.la.Pp.reduce(function(a,b){0>a.indexOf(b)&&a.push(b);return a},[]));this.i.la.Pp.length&&(g.each(this.i.la.Pp,function(a,c){if("#"==c)return!0;f=b.Ta.find(c);f.length?b.isExpanded(c)||d.push(c):e.push(c)}),d.length&&(this.i.la.Pp=e,g.each(d,function(a,d){b.Fq(d)||
(b.Gq(d,function(){b.WK(!0)},function(){b.WK(!0)}),c=!1)})));this.i.la.wj.length&&g.each(this.i.la.wj,function(a,c){b.isExpanded(c)||b.cg(c,!1,!0)});c&&(this.i.la.a_&&clearTimeout(this.i.la.a_),this.i.la.a_=setTimeout(function(){b.qc({},"reload_nodes",!0)},50),this.i.la.iKa=!1,this.jCa())},setTheme:function(a,b){if(!a)return!1;b||(b=this.i.Qc.PW+a+"/style.css");-1==g.inArray(b,this.i.Qc.Qja)&&(h({url:b}),this.i.Qc.Qja.push(b));this.i.Qc.eB!=a&&(this.Ta.removeClass("oj-tree-"+this.i.Qc.eB),this.i.Qc.eB=
a);this.Ta.addClass("oj-tree-"+a);this.i.Qc.fF?this.dda():this.D9();this.i.Qc.icons?this.AW():this.AU()},eza:function(){return null!=this.i.Qc},tMa:function(){return this.i.Qc.eB},isIcons:function(){return this.i.Qc.icons},AW:function(){this.i.Qc.icons=!0;this.Ta.children("ul").removeClass("oj-tree-no-icons")},AU:function(){this.i.Qc.icons=!1;this.Ta.children("ul").addClass("oj-tree-no-icons")},toggleIcons:function(){},Ysa:function(){this.i.keys.TGa=!0},oya:function(){this.fya();this.eya();this.U9(!0);
this.qya();this.Gs().mha();this.dya();this.sya();this.nya();this.V9();this.rya();this.Gs().lha();this.Qs()},qc:function(a,b,c){if(b&&"string"===g.type(b)&&(!0!==this.i.la.locked||"unlock"===b||"isLocked"===b||"lock"===b)){var d,e=Array.prototype.slice.call(arguments);d=this.Ta;var f="before"===b,h=c?!1:!0;h||(b="_tree"+b);var k={};k.item=a?a.obj:void 0;k.inst=d;f?(d=a.func,k.func=d,k.args=e,"rename"===d&&(k.title=a.title,k.prevTitle=a.prevTitle)):h&&("move"==b?(k.position=a.Vn,k.reference=a.Oa,k.data=
a):"rename"==b?(k.title=a.title,k.prevTitle=a.prevTitle):"remove"==b?(k.parent=a.parent,k.prev=a.prev):"delete"==b?(k.prev=a.prev,k.parent=a.parent):"expandAll"===b||"collapseAll"===b||"deselectAll"===b?k.targ=a.targ:"loaded"===b?k.item=-1:"paste"==b&&(k.position=a.Vn,k.reference=a.Oa));if(h){if(e=this._trigger(b,new g.Event("oj"+b),k),f)return"undefined"!=typeof e&&(e=e?!0:!1),e}else this.Ta.trigger(b,k)}},TC:function(a,b,c,d){"selection"===a&&(null==c&&(c=this.BT()),this.g5(b,c)||this.option(a,
c,{_context:{originalEvent:d,nb:!0},changed:!0}))},cv:function(){return this.get_rollback()},bk:function(){this.sK&&this.Ta.addClass("oj-tree-rtl").css("direction","rtl");this.Ta.html("\x3cul role\x3d'tree' tabindex\x3d'0' class\x3d'oj-tree-list' style\x3d'outline:none'"+(-1===this.i.la.Ir?" aria-multiselectable\x3d'true'":"")+" aria-labelledby\x3d'"+this.ov+"'\x3e\x3cli class\x3d'oj-tree-last oj-tree-leaf'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e\x3ca class\x3d'oj-tree-loading' href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e"+
this.FT("stateLoading")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.ra=this.Ta.children("ul:eq(0)");this.Ta.data("oj-tree-instance-id",this.Qj());this.i.la.Jt=this.ra.find("li.oj-collapsed, li.oj-tree-leaf").eq(0).height()||18;this.lz&&this.Ta.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","touchend.ojtree",function(a){a.preventDefault();a=g(a.target);this.toggleExpand(a)}.bind(this));this.Ta.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","click.ojtree",function(a){a=g(a.target);this.toggleExpand(a)}.bind(this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon",
"mousedown",function(a){this.i.ui.$X=!0;g(a.target).removeClass("oj-default").removeClass(b.Tu).addClass(b.Xm)}.bind(this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon","mouseup",function(a){g(a.target).removeClass(b.Xm).addClass("oj-default")}.bind(this)).bind("mousedown.ojtree",function(){this.$j()}.bind(this)).bind("dblclick.ojtree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){a=window.getSelection();try{a.removeAllRanges(),
a.collapse(document.getElementsByTagName("body")[0],0)}catch(b){}}});this.ra.focus(function(){if(this.i.ui.$X)return this.i.ui.$X=!1;this.i.ui.gm=!0;var a;this.i.ui.mk?(this.i.ui.Bc=this.i.ui.mk,a=this.i.ui.Bc):this.i.ui.Pc&&0<this.i.ui.Pc.length?(this.i.ui.Bc=this.i.ui.Pc,a=this.i.ui.Bc):a=this.ra.find("li:first");a&&(this.hover(a),this.i.ui.mk=null,this.ra.find("a.oj-selected").removeClass("oj-tree-inactive"));return!1}.bind(this)).blur(function(){this.i.ui.gm=!1;this.i.ui.mk=this.i.ui.Bc;this.i.ui.mk&&
this.dehover(this.i.ui.Bc);this.ra.find("a.oj-selected").addClass("oj-tree-inactive")}.bind(this));this.qc({},"init",!0);this.X$();this.i.menu.Fh&&this.kC();c({y9:this.mz,uca:this.ra,JE:this});this.Ysa()},dya:function(){this.i.la.locked=!1;this.Ta.addClass("oj-tree oj-tree-"+this.Qj());this.Ta.css("outline","none");this.Ta.css("MozUserSelect","none");this.Ta.css("WebkitTouchCallout","none");this.Ta.css("WebkitUserSelect","none");this.Ta.css("WebkitTapHighlightColor","rgba(0,0,0,0)")},sya:function(){this.i.ui.selected=
g();this.i.ui.Pc=!1;this.i.ui.Bc=null;var a=this.options.selection;a&&"array"===g.type(a)&&0<a.length&&(this.i.ui.sG=a,this.options.selection=[]);this.lz&&this.Ta.delegate(".oj-tree-list a","touchend.ojtree",g.proxy(function(a){this.i.ui.px=!0;this.q9(a);g(a.currentTarget).hasClass("oj-tree-loading")||this.dehover()},this));this.Ta.delegate(".oj-tree-list a","click.ojtree",function(a){this.i.ui.px=!1;this.q9(a);return!1}.bind(this)).delegate(".oj-tree-list a","mouseenter.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||
this.hover(a.target)}.bind(this)).delegate(".oj-tree-list a","mouseleave.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||this.dehover(a.target)}.bind(this)).delegate(".oj-tree-list .oj-tree-disclosure-icon","mouseenter.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||this.h6(a.target,!0)}.bind(this)).delegate(".oj-tree-list .oj-tree-disclosure-icon","mouseleave.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||this.h6(a.target,!1)}.bind(this)).bind("_treereopen",
function(){this.reselect()}.bind(this)).bind("_treeget_rollback",function(){this.dehover();this.saveSelected()}.bind(this)).bind("ojcollapse",function(a,b){var c=this.La(b.item),d=c&&c.length?c.children("ul").find("a.oj-selected"):g(),e=this;!1!==this.options.selectedParentCollapse&&d.length&&d.each(function(){"selectParent"===e.options.selectedParentCollapse?(e.deselect(this),e.select(c)):"deselect"===e.options.selectedParentCollapse&&e.deselect(this)})}.bind(this)).bind("ojremove",function(a,b){var c=
this.options.selectPrevOnDelete,d=this.La(b.item),d=d&&d.length?d.find("a.oj-selected"):[],e=this,f;d.each(function(){e.deselect(this);e.i.ui.mk&&(f=e.La(this))&&e.i.ui.mk.attr("id")==f.attr("id")&&(e.i.ui.mk=null)});c&&d.length&&b.prev&&b.prev.each(function(){if(this.parentNode)return e.select(this),!1})}.bind(this)).bind("ojmove",function(a,c){var d=c.data,e=d.kM;e&&d.OZ&&(d.OZ.find("a.oj-selected").removeClass(b.Xm),d.OZ.removeAttr("aria-selected"));d.Np===d.iu||e||(e=d.Np.i.ui,e.mk&&(d.lc.attr("id")==
e.mk.attr("id")&&(e.mk=null),e.Pc&&d.lc.attr("id")==e.Pc.attr("id")&&(e.Pc=null)))}.bind(this))},V9:function(){this.pya();this.kya();this.jya()},pya:function(){1===this.i.ub.type&&(this.Hda=this.options.data||null,this.Gq=this.yza,this.Fq=this.gza,this.Of=this.uBa)},kya:function(){3===this.i.ub.type&&(this.i.ub.WA&&this.Ta.bind("_treeafter_close",function(a,b){b.item.children("ul").remove()}),this.Gq=this.Aza,this.Fq=this.iza,this.Of=this.vBa)},jya:function(){4===this.i.ub.type&&(this.Uaa(),this.Gq=
this.zza,this.Fq=this.hza,this.Of=this.QV)},Uaa:function(){this.i.html.mO&&(this.i.html.OA||(this.i.html.OA=this.Ta.find(" \x3e ul"),this.i.html.IN=g("\x3cdiv id\x3d'oj-tree-existing-markup-"+this.Qj()+"' style\x3d'display:none'\x3e").append(this.i.html.OA),this.Ta.after(this.i.html.IN)),this.i.html.eia=this.i.html.OA.find(" \x3e li"),this.i.html.cM=this.i.html.eia.clone(!0),this.i.html.cM.find("li").addBack().contents().filter(function(){return 3==this.nodeType}).remove())},nya:function(){!1===this.i.Qc.PW&&
(this.i.Qc.PW="themes/");this.Ta.bind("_treeinit",g.proxy(function(){var a=this.options;this.i.Qc.fF=a.dots;this.i.Qc.icons=a.icons;this.setTheme(this.i.Qc.eB,this.i.Qc.url)},this)).bind("ojloaded",g.proxy(function(){this.i.Qc.fF?this.dda():this.D9();this.i.Qc.icons?this.AW():this.AU()},this))},rya:function(){var a=this.options.types;a&&this.Ta.bind("_treeinit",g.proxy(function(){var b=g.extend(!0,{},a.types),c=a.attr||this.i.types.Zc.attr,d="",e=this;g.each(b,function(a,b){g.each(b,function(a){/^(maxDepth|maxChildren|icon|validChildren)$/.test(a)||
e.i.types.Aea.push(a)});var f=typeof b.icon;if("undefined"===f){f=typeof b.image;if("boolean"===f&&!b.image)b.image="ojt$none";else if(!b.image&&!b.position)return!0;b.icon={};b.image&&(b.icon.image=b.image,delete b.image);void 0!==b.position&&(b.icon.position=b.position,delete b.position)}if(b.icon.image||b.icon.position)"default"==a?(e.i.types.dA=!0,d+=".oj-tree-"+e.Qj()+" .oj-tree-list li.oj-tree-type a \x3e .oj-tree-node-icon { ",d+=e.J3(b,d),d+="} ",d+=".oj-tree-"+e.Qj()+" .oj-tree-list li["+
c+'\x3d"oj-tree-deftype"].oj-tree-type \x3e a ins.oj-tree-node-icon { '):b.icon.image&&(d+=".oj-tree-"+e.Qj()+" .oj-tree-list li["+c+'\x3d"'+a+'"].oj-tree-type \x3e a \x3e ins.oj-tree-node-icon { '),d+=e.J3(b,d),d+="} "});""!==d&&h({fO:d,title:"oj-tree-types"})},this)).bind("ojbefore",g.proxy(function(a,b){var c,d,e=b.func,f=b.item;if((c=(c=this.i.types.Zc.useData?this.La(f):!1)&&-1!==c&&c.length?c.data("oj-tree"):!1)&&c.types&&!1===c[e]||-1!==g.inArray(e,this.i.types.Aea)&&b.item&&(b.item.tagName||
b.item.jquery)&&(c=this.options.types.types,d=this.OT(f),(c[d]&&"undefined"!==typeof c[d][e]||c["default"]&&"undefined"!==typeof c["default"][e])&&!1===this.pqa(e,f)))return a.stopImmediatePropagation(),!1},this))},J3:function(a){var b="",b="ojt$none"!==a.icon.image?b+(" background-image:url("+a.icon.image+"); "):b+" background-image:none; ";return b=a.icon.position?b+(" background-position:"+a.icon.position+"; "):b+" background-position:0 0; "},Gs:function(){this.$B||(this.$B=new a.wa(this));return this.$B},
wMa:function(){},Qs:function(a){var b;a||this.options.contextMenu||(b=this.Ta.attr("contextmenu"))&&(this.options.contextMenu="#"+b);if(a||this.options.contextMenu)if(b=a||this.options.contextMenu){if(b=g(b)){b.css("display","none");var c=this.i.menu;c.kf=b;c.Fh=!0}this.i.menu.Fh&&a&&this.kC()}},Tk:function(a,b){if(!b.inst&&this.i.menu.mLa==this.ov){var c=b?b.item.attr("id"):void 0;"ojtreecopy"===c?this.bsa(this.i.menu.Sn):"ojtreecut"===c?this.dsa(this.i.menu.Sn):"ojtreepaste"===c||"ojtreepastebefore"===
c||"ojtreepasteafter"===c?this.esa(this.i.menu.Sn,c):"ojtreeremove"===c?this.Vk(this.i.menu.Sn)?this.J5():this.J5(this.i.menu.Sn):"ojtreerename"===c?this.K5(this.i.menu.Sn):"ojtreecreate"===c&&this.csa(this.i.menu.Sn)}},qh:function(a,c,d){var e="keyboard"===d;if("contextmenu"==c.type||e||"touch"==d){this.i.menu.Sn=e?this.i.ui.Bc:g(c.target);var f=this.i.menu.Sn.find(".oj-tree-title")[0];this.i.menu.TL=null;if(this.i.menu.Sn){this.i.menu.mLa=this.i.menu.Sn.closest("div").attr("id");a={launcher:this.ra};
e&&(a.position={of:f});if(this.i.menu.Fh&&(this.i.menu.pO||this.i.menu.vk||this.i.menu.sl)){var e=!this.i.Oe.Uq&&!this.i.Oe.Cw,h=[this.i.menu.pO,this.i.menu.vk,this.i.menu.sl],k,l,m=!1;for(l=0;l<h.length;l++)if(k=h[l])f=!!k.hasClass(b.Ye),f!=e&&(e?k.addClass(b.Ye):k.removeClass(b.Ye),m=!0);m&&this.i.menu.kf.ojMenu("refresh")}this.rh(c,d,a)}else c.preventDefault()}},eya:function(){var a=this.options.selectionMode,a=void 0==a?"single":a;"none"===a?a=0:"single"===a?a=1:"multiple"===a&&(a=-1);this.i.la.Ir=
a;this.i.Qc.icons=this.options.icons;this.X9();this.i.la.Pp=this.options.initLoaded},zMa:function(){},U9:function(b){var c=this.options.data,d;this.i.ub.type=0;this.i.html.mO=!1;this.i.html.cM=!1;if(c)if(d=g.type(c),"string"===d)this.Sya(c)?this.i.ub.type=4:this.i.ub.type=3;else if("array"===d)this.i.ub.type=3;else if("object"===d){try{c instanceof a.td&&(this.i.ub.type=1)}catch(e){this.i.ub.type=-1}if(1!==this.i.ub.type)try{c instanceof a.pb&&(this.i.ub.type=2)}catch(f){this.i.ub.type=-1}1!==this.i.ub.type&&
2!==this.i.ub.type&&(c.data||c.ajax)&&((d=c.dataType)?"json"===d?this.i.ub.type=3:"html"===d&&(this.i.ub.type=4):(c.dataType="json",this.i.ub.type=3))}b&&0==this.i.ub.type&&0<this.Ta.find("ul").length&&(this.i.ub.type=4,this.i.html.mO=!0)},yMa:function(){},vMa:function(){},uMa:function(){},xMa:function(){},qya:function(){var a=this.options.types;"object"===typeof a&&this.zpa(a,{attr:this.i.types.Zc.attr})},X9:function(){this.i.la.wj=this.lFa(this.options,"initExpanded");null==this.i.la.wj&&(this.i.la.wj=
[])},fya:function(){var a=this.i;a.la={WIa:[],Ir:1,hNa:!1,Jt:0,wj:!1,Pp:!1,vj:{},ox:!1,$Ka:{}};a.ui={selected:g(),Pc:!1,Bc:null,mk:null,$X:!1,sG:null,opacity:1,q_:!1,gm:!1,sea:null,px:!1};a.ui.Zc={selectMultipleModifier:"ctrl",selectRangeModifier:"shift",disableSelectingChildren:!1};a.Oe={};a.Oe.Cw=!1;a.Oe.Uq=!1;a.Oe.Zc={inputWidthLimit:200,move:{alwaysCopy:!1,openOnMove:!0,defaultPosition:"last",checkMove:function(){return!0}}};a.Oe.vj={};a.ub={};a.ub.WZ=!1;a.ub.WA=!1;a.ub.cj=!0;a.ub.type=0;a.rJa=
{};a.rJa.Zc={data:!1,ajax:!1};a.html={};a.html.Zc={data:!1,ajax:!1};a.html.mO=!1;a.html.OA=!1;a.html.IN=!1;a.html.eia=!1;a.html.cM=!1;a.Qc={};a.Qc.icons=!0;a.Qc.fF=!1;a.Qc.eB="default";a.Qc.url=!1;a.Qc.Qja=[];a.Qc.PW=!1;a.types={};a.types.Aea=[];a.types.dA=!1;a.types.Zc={maxChildren:-1,maxDepth:-1,validChildren:"all",useData:!1,attr:"type",types:{"default":{maxChildren:-1,maxDepth:-1,validChildren:"all"}}};a.menu={};a.menu.Fh=!1;a.menu.kf=!1;a.menu.pO=!1;a.menu.sl=!1;a.menu.vk=!1;a.menu.Sn=!1;a.menu.TL=
!1;a.keys={};a.keys.TGa=!0;a.keys.bound=[]},R6:function(a){var b=this.Ta[0];b.scrollHeight>b.offsetHeight&&(a=this.La(a))&&-1!==a&&a.length&&a.is(":visible")&&(a=a.offset().top-this.Ta.offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.i.la.Jt+(b.scrollWidth>b.offsetWidth?r:0)>b.offsetHeight&&(b.scrollTop+=a-b.offsetHeight+this.i.la.Jt+1+(b.scrollWidth>b.offsetWidth?r:0)))},$j:function(){},MMa:function(){},eAa:function(){return++p},Qj:function(){return this.Zxa},Av:function(){return g.extend(!0,
{},this.options)},gMa:function(){return this.Ta},hMa:function(){return this.ra},mz:{up:function(){this.hover(this.Aq(this.i.ui.Bc||this.i.ui.Pc||-1));return!1},"ctrl+up":function(){this.hover(this.Aq(this.i.ui.Bc||this.i.ui.Pc||-1));return!1},"shift+up":function(){this.select(this.Aq(this.i.ui.Bc||this.i.ui.Pc||-1),-1!==this.i.ui.Ir);return!1},down:function(){this.hover(this.zv(this.i.ui.Bc||this.i.ui.Pc||-1));return!1},"ctrl+down":function(){this.hover(this.zv(this.i.ui.Bc||this.i.ui.Pc||-1));return!1},
"shift+down":function(){this.select(this.zv(this.i.ui.Bc||this.i.ui.Pc||-1),-1!==this.i.ui.Ir);return!1},left:function(){var a=this.i.ui.Bc||this.i.ui.Pc;a&&(a.hasClass(b.Il)?this.collapse(a):this.hover(this.Aq(a)));return!1},"ctrl+left":function(){var a=this.i.ui.Bc||this.i.ui.Pc;a&&(a.hasClass(b.Il)?this.collapse(a):this.hover(this.Aq(a)));return!1},"shift+left":function(){var a=this.i.ui.Bc||this.i.ui.Pc;a&&(a.hasClass(b.Il)?this.collapse(a):this.hover(this.Aq(a)));return!1},right:function(){var a=
this.i.ui.Bc||this.i.ui.Pc;a&&a.length&&(a.hasClass(b.Sh)?this.expand(a):this.hover(this.zv(a)));return!1},"ctrl+right":function(){var a=this.i.ui.Bc||this.i.ui.Pc;a&&a.length&&(a.hasClass(b.Sh)?this.expand(a):this.hover(this.zv(a)));return!1},"shift+right":function(){var a=this.i.ui.Bc||this.i.ui.Pc;a&&a.length&&(a.hasClass(b.Sh)?this.expand(a):this.hover(this.zv(a)));return!1},space:function(){this.i.ui.Bc&&(this.i.ui.q_=!0,this.i.ui.Bc.children("a:eq(0)").click(),this.i.ui.q_=!1);return!1},home:function(){this.hover(this.ra.find("li:first"));
return!1},end:function(){var a=this.ra.find("li.oj-tree-last:visible");a&&a.length&&this.hover(a[a.length-1]);return!1},"*":function(){this.ra.find("a");this.BS(-1,!1);return!1},"ctrl+space":function(){if(this.i.ui.Bc){var a=g.Event("click");a.ctrlKey=!0;this.i.ui.Bc.children("a:eq(0)").trigger(a)}return!1},"shift+space":function(){if(this.i.ui.Bc){var a=g.Event("click");a.shiftKey=!0;this.i.ui.Bc.children("a:eq(0)").trigger(a)}return!1},"shift+home":function(a){var b,c=this.i.ui.Bc;if(c){var d=!0,
e=this,f=this.ra.find("li:visible");this.i.la.ox=!0;b=this.options.selection.slice(0);c=c[0];g.each(f,function(a,b){b==c&&(d=!1);e.yn(b,!0);return d});this.i.la.ox=!1;this.TC("selection",b,null,a)}return!1},"shift+pgdn":function(a){var b,c=this.i.ui.Pc||this.i.ui.Bc;if(c){var d=!1,e=this,f=this.ra.find("li:visible");this.i.la.ox=!0;b=this.options.selection.slice(0);c=c[0];g.each(f,function(a,b){d||(d=b==c);d&&!e.Vk(b)&&e.yn(b,!0);return!0});this.i.la.ox=!1;this.TC("selection",b,null,a)}return!1},
f2:function(){this.K5(this.i.ui.Bc||this.i.ui.Pc);return!1},del:function(){this.remove(this.i.ui.Bc||this.La(null));return!1}},kC:function(){if(this.i.menu.Fh){var a=this.i.menu.kf,b=this;a.on("ojselect",g.proxy(this.Tk,this));var c=!1;a.find("[data-oj-command]").each(function(){var a;0===g(this).children("a").length&&(a=g(this).attr("data-oj-command").split("oj-tree-"),g(this).replaceWith(b.Lj(a[a.length-1])),g(this).hasClass("oj-menu-divider")&&g(this).removeClass("oj-menu-divider").addClass("oj-menu-item"),
c=!0)});c&&a.ojMenu("refresh");this.i.menu.pO=a.find("#ojtreepaste");this.i.menu.sl=a.find("#ojtreepasteafter");this.i.menu.vk=a.find("#ojtreepastebefore")}},hv:function(){var a=this.i.menu;a.Fh&&(a.Fh=!1,a.kf.off("ojselect"),a.kf=null)},Lj:function(a){return g(this.ag(a))},ag:function(a){return"\x3cli id\x3d"+k[a]+"\x3e"+this.qC(a)+"\x3c/li\x3e"},qC:function(b){b=l[b];return"labelPasteAfter"===b||"labelPasteBefore"===b?'\x3ca href\x3d"#"\x3e'+a.ta.F("oj-ojTabs."+b)+"\x3c/a\x3e":'\x3ca href\x3d"#"\x3e'+
this.FT(b)+"\x3c/a\x3e"},dsa:function(a){a=a.closest("li");this.Vk(a)&&(a=null);a=this.La(a,!0);if(!a||!a.length)return!1;this.i.Oe.Cw=!1;this.i.Oe.Uq=a;this.qc({obj:a},"cut")},bsa:function(a){a=a.closest("li");this.Vk(a)&&(a=null);a=this.La(a,!0);if(!a||!a.length)return!1;this.i.Oe.Uq=!1;this.i.Oe.Cw=a;this.qc({obj:a},"copy")},esa:function(a,b){a=this.La(a);if(!a||!a.length)return!1;var c=this.i.Oe.Uq?this.i.Oe.Uq:this.i.Oe.Cw;if(!this.i.Oe.Uq&&!this.i.Oe.Cw)return!1;var d="inside";"ojtreepasteafter"===
b?d="after":"ojtreepastebefore"===b&&(d="before");this.i.Oe.Uq&&(this.I5(this.i.Oe.Uq,a,d,!1,!1,!0),this.i.Oe.Uq=!1);this.i.Oe.Cw&&this.I5(this.i.Oe.Cw,a,d,!0,!1,!0);this.qc({obj:c,Vn:d,Oa:a},"paste")},I5:function(a,b,c,d,e,f){var g=this.i.Oe.Zc.move;if(!e)return"undefined"===typeof c&&(c=g.defaultPosition),"inside"!==c||g.defaultPosition.match(/^(before|after)$/)||(c=g.defaultPosition),this.TD(a,b,c,d,!1,f);if(!0===g.alwaysCopy||"multitree"===g.alwaysCopy&&a.iu.Qj()!==a.Np.Qj())d=!0;this.TD(a,b,
c,d,!0,f)},J5:function(a){a=this.La(a,!0);this.cv();this.remove(a)},K5:function(a){a=this.La(a);this.cv();this.L5(a,function(){})},L5:function(a,b){a=this.La(a);var c=this.sK,d=this.i.Oe.Zc.inputWidthLimit,e=a.children("ins").width(),f=a.find("\x3e a:visible \x3e ins").width()*a.find("\x3e a:visible \x3e ins").length,h=this.getText(a),k=this,l=g("\x3cdiv /\x3e",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),m=a.css("position","relative").append(g("\x3cinput /\x3e",
{value:h,"class":"oj-tree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":e+f+4+"px",right:c?e+f+4+"px":"auto",top:"0px",height:this.i.la.Jt-2+"px",lineHeight:this.i.la.Jt-2+"px",width:"150px"},blur:g.proxy(function(){var c=a.children(".oj-tree-rename-input"),d=c.val();""===d&&(d=h);l.remove();c.remove();this.vW(a,h);this.Mba(a,d);b.call(this,a,d,h);a.css("position","")},this),keyup:function(a){a=a.keyCode||a.which;if(!k.tS)return k.tS=!0,!1;27==a?(k.tS=
!1,this.value=h,this.blur()):13==a?(k.tS=!1,this.blur()):m.width(Math.min(l.text("pW"+this.value).width(),d))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".oj-tree-rename-input");this.vW(a,"");l.css({fontFamily:m.css("fontFamily")||"",fontSize:m.css("fontSize")||"",fontWeight:m.css("fontWeight")||"",fontStyle:m.css("fontStyle")||"",fontStretch:m.css("fontStretch")||"",fontVariant:m.css("fontVariant")||"",letterSpacing:m.css("letterSpacing")||"",wordSpacing:m.css("wordSpacing")||
""});m.width(Math.min(l.text("pW"+m[0].value).width(),d))[0].select()},csa:function(a,c,d,e,f){var h=this;(a=this.La(a))||(a=-1);this.cv();return this.FC(a,c,d,function(a){var c=this.ln(a),d=g(a).index();e&&e.call(this,a);c.length&&c.hasClass(b.Sh)&&this.expand(c,!1,!0);f?h.qc({obj:a,name:this.getText(a),parent:c,position:d}):this.L5(a,function(a,b){h.qc({obj:a,name:b,parent:c,position:d})})})},Sya:function(a){var b=!1;a&&3<=a.length&&(a=a.trim(),b="\x3c"===a.charAt(0));return b},Apa:function(){var a=
this.options.emptyText;"string"!==typeof a&&(a=this.FT("labelNoData"));if(a&&0<a.length){var b=this.ra,c=g("\x3cli class\x3d'oj-tree-empty'\x3e\x3c/li\x3e");c[0].textContent=a;b.empty().append(c)}},ZAa:function(a){var b,c,d;d=null;var e;a&&(b=a.subId);if(!b)return null;d=b.split("[");if(3===d.length&&(d[0]=d[0].trim(),"oj-tree-node"===d[0]&&(d[1]=d[1].trim(),b=d[1].charAt(0),b=d[1].indexOf(b,1),0<=b&&(a=d[1].substring(1,b).trim(),d[2]=d[2].trim(),b=d[2].charAt(0),b=d[2].indexOf(b,1),0<=b)))){d=d[2].substring(1,
b).trim();try{c=this.La(a)}catch(f){c=null}if(d&&c&&-1!==c)switch(d){case "icon":this.i.Qc.icons&&(e=c.find(" \x3e a \x3e ins:eq(0)"));break;case "link":e=c.find(" \x3e a:eq(0)");break;case "disclosure":this.TU(c)||(e=c.find(" \x3e ins:eq(0)"));break;case "title":e=c.find(" \x3e a \x3e span")}}return e?e.length?e[0]:null:null},rva:function(a){var b=a?this.La(a):null,c,d=null;b&&-1!=b&&b.length&&b.hasClass("oj-tree-node")&&a.tagName&&a.parentNode&&(b=a.tagName,c=a.parentNode,c=c.tagName,"SPAN"===b?
d="title":"A"===b?d="link":"INS"===b&&(a=g(a),"LI"===c&&a.hasClass("oj-tree-disclosure-icon")?d="disclosure":"A"===c&&a.hasClass("oj-tree-node-icon")&&(d="icon")));return d},D9:function(){this.i.Qc.fF=!1;this.Ta.children("ul").addClass("oj-tree-no-dots")},dda:function(){this.i.Qc.fF=!0;this.Ta.children("ul").removeClass("oj-tree-no-dots")},$ya:function(){var a=this.options.initExpanded;return a&&"all"==a||g.isArray(a)&&a.length&&"all"==a[0]},FT:function(a){var b=this.i.la.$Ka,c;c=b[a];c||(c=this.F(a),
c=this.OI(c),b[a]=c);return c},OI:function(a){var b=document.createElement("div");g(b).text(a);return b.textContent},oMa:function(){return this.i.la.Jt},Jta:function(){var a=0,b,c;window.getComputedStyle&&(c=this.i.ui.sea,c||(c=g("\x3cdiv id\x3d'ojtree-comp-animduration'\x3e\x3cspan class\x3d'oj-tree-transition'\x3edummy\x3c/span\x3e\x3c/div\x3e"),this.i.ui.sea=c,g("body").append(c)),b=c[0].childNodes[0],b=window.getComputedStyle(b),b=b.transitionDuration?b.transitionDuration:b["-webkit-transition-duration"]?
b["-webkit-transition-duration"]:0,c.detach(),"string"==typeof b&&1<b.length&&(c=b.charAt(b.length-1).toLowerCase(),"s"==c?(b=b.substring(0,b.length-1),b=parseFloat(b),isNaN(b)||(a=1E3*b)):2<b.length&&(c=b.substring(b.length-2).toLowerCase(),"ms"==c&&(b=parseFloat(b),isNaN(b)||(a=b)))));return a},lFa:function(a,b){var c={};c[b]=a[b];return g.extend(!0,{},c)[b]},Uda:function(a){this.qc({obj:{msg:a}},"trace",!0)}})})()});